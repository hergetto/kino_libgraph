var _N=Object.create;var hP=Object.defineProperty;var EN=Object.getOwnPropertyDescriptor;var kN=Object.getOwnPropertyNames;var ON=Object.getPrototypeOf,SN=Object.prototype.hasOwnProperty;var cP=(fe,ge)=>()=>(ge||fe((ge={exports:{}}).exports,ge),ge.exports);var xN=(fe,ge,Wt,A)=>{if(ge&&typeof ge=="object"||typeof ge=="function")for(let Ut of kN(ge))!SN.call(fe,Ut)&&Ut!==Wt&&hP(fe,Ut,{get:()=>ge[Ut],enumerable:!(A=EN(ge,Ut))||A.enumerable});return fe};var TN=(fe,ge,Wt)=>(Wt=fe!=null?_N(ON(fe)):{},xN(ge||!fe||!fe.__esModule?hP(Wt,"default",{value:fe,enumerable:!0}):Wt,fe));var fP=cP((lw,dP)=>{(function(fe,ge){typeof lw=="object"&&typeof dP!="undefined"?ge(lw):typeof define=="function"&&define.amd?define(["exports"],ge):(fe=typeof globalThis!="undefined"?globalThis:fe||self,ge(fe.vis=fe.vis||{}))})(lw,function(fe){function ge(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var Wt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function A(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Ut={exports:{}},Ie=function(a){return a&&a.Math===Math&&a},J=Ie(typeof globalThis=="object"&&globalThis)||Ie(typeof window=="object"&&window)||Ie(typeof self=="object"&&self)||Ie(typeof Wt=="object"&&Wt)||function(){return this}()||Wt||Function("return this")(),ye=function(a){try{return!!a()}catch(l){return!0}},hw=ye,Pn=!hw(function(){var a=function(){}.bind();return typeof a!="function"||a.hasOwnProperty("prototype")}),Vf=Pn,Yu=Function.prototype,Cn=Yu.apply,Xu=Yu.call,Ai=typeof Reflect=="object"&&Reflect.apply||(Vf?Xu.bind(Cn):function(){return Xu.apply(Cn,arguments)}),Es=Pn,qf=Function.prototype,we=qf.call,Gf=Es&&qf.bind.bind(we,we),Ae=Es?Gf:function(a){return function(){return we.apply(a,arguments)}},Kf=Ae,Br=Kf({}.toString),cw=Kf("".slice),ti=function(a){return cw(Br(a),8,-1)},ks=ti,Qu=Ae,qo=function(a){if(ks(a)==="Function")return Qu(a)},Ju=typeof document=="object"&&document.all,nt=typeof Ju=="undefined"&&Ju!==void 0,Ni={all:Ju,IS_HTMLDDA:nt},Ze=Ni,dw=Ze.all,Ne=Ze.IS_HTMLDDA?function(a){return typeof a=="function"||a===dw}:function(a){return typeof a=="function"},et={},Os=ye,tt=!Os(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Yf=Pn,Ss=Function.prototype.call,Re=Yf?Ss.bind(Ss):function(){return Ss.apply(Ss,arguments)},Ri={},Dn={}.propertyIsEnumerable,Xf=Object.getOwnPropertyDescriptor,fw=Xf&&!Dn.call({1:2},1);Ri.f=fw?function(l){var c=Xf(this,l);return!!c&&c.enumerable}:Dn;var Fr=function(a,l){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:l}},vw=Ae,xs=ye,Mn=ti,Zu=Object,pw=vw("".split),ri=xs(function(){return!Zu("z").propertyIsEnumerable(0)})?function(a){return Mn(a)==="String"?pw(a,""):Zu(a)}:Zu,An=function(a){return a==null},gw=An,br=TypeError,Ts=function(a){if(gw(a))throw new br("Can't call method on "+a);return a},yw=ri,ot=Ts,ue=function(a){return yw(ot(a))},Is=Ne,$s=Ni,mw=$s.all,at=$s.IS_HTMLDDA?function(a){return typeof a=="object"?a!==null:Is(a)||a===mw}:function(a){return typeof a=="object"?a!==null:Is(a)},be={},je=be,Bi=J,Qf=Ne,Ps=function(a){return Qf(a)?a:void 0},bt=function(a,l){return arguments.length<2?Ps(je[a])||Ps(Bi[a]):je[a]&&je[a][l]||Bi[a]&&Bi[a][l]},Jf=Ae,We=Jf({}.isPrototypeOf),jr=typeof navigator!="undefined"&&String(navigator.userAgent)||"",Fi=J,Cs=jr,Zf=Fi.process,ev=Fi.Deno,ji=Zf&&Zf.versions||ev&&ev.version,eh=ji&&ji.v8,lr,Ds;eh&&(lr=eh.split("."),Ds=lr[0]>0&&lr[0]<4?1:+(lr[0]+lr[1])),!Ds&&Cs&&(lr=Cs.match(/Edge\/(\d+)/),(!lr||lr[1]>=74)&&(lr=Cs.match(/Chrome\/(\d+)/),lr&&(Ds=+lr[1])));var Nn=Ds,tv=Nn,Go=ye,bw=J,Rn=bw.String,Bn=!!Object.getOwnPropertySymbols&&!Go(function(){var a=Symbol("symbol detection");return!Rn(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&tv&&tv<41}),ww=Bn,rv=ww&&!Symbol.sham&&typeof Symbol.iterator=="symbol",zi=bt,_w=Ne,Ew=We,th=rv,rh=Object,Li=th?function(a){return typeof a=="symbol"}:function(a){var l=zi("Symbol");return _w(l)&&Ew(l.prototype,rh(a))},ih=String,Fn=function(a){try{return ih(a)}catch(l){return"Object"}},iv=Ne,nv=Fn,kw=TypeError,Mt=function(a){if(iv(a))return a;throw new kw(nv(a)+" is not a function")},ov=Mt,nh=An,Ms=function(a,l){var c=a[l];return nh(c)?void 0:ov(c)},ii=Re,oh=Ne,ah=at,At=TypeError,Ow=function(a,l){var c,d;if(l==="string"&&oh(c=a.toString)&&!ah(d=ii(c,a))||oh(c=a.valueOf)&&!ah(d=ii(c,a))||l!=="string"&&oh(c=a.toString)&&!ah(d=ii(c,a)))return d;throw new At("Can't convert object to primitive value")},av={exports:{}},st=!0,sv=J,Sw=Object.defineProperty,xw=function(a,l){try{Sw(sv,a,{value:l,configurable:!0,writable:!0})}catch(c){sv[a]=l}return l},Tw=J,As=xw,lv="__core-js_shared__",uv=Tw[lv]||As(lv,{}),sh=uv,hv=sh;(av.exports=function(a,l){return hv[a]||(hv[a]=l!==void 0?l:{})})("versions",[]).push({version:"3.33.2",mode:"pure",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"});var jn=av.exports,zn=Ts,lh=Object,Nt=function(a){return lh(zn(a))},Ue=Ae,Iw=Nt,cv=Ue({}.hasOwnProperty),Ke=Object.hasOwn||function(l,c){return cv(Iw(l),c)},$w=Ae,Pw=0,Cw=Math.random(),Dw=$w(1 .toString),Ns=function(a){return"Symbol("+(a===void 0?"":a)+")_"+Dw(++Pw+Cw,36)},Mw=J,Rs=jn,uh=Ke,hh=Ns,Aw=Bn,dv=rv,Ln=Mw.Symbol,Bs=Rs("wks"),Nw=dv?Ln.for||Ln:Ln&&Ln.withoutSetter||hh,ze=function(a){return uh(Bs,a)||(Bs[a]=Aw&&uh(Ln,a)?Ln[a]:Nw("Symbol."+a)),Bs[a]},Rw=Re,fv=at,vv=Li,Bw=Ms,Fw=Ow,jw=ze,pv=TypeError,zw=jw("toPrimitive"),Lw=function(a,l){if(!fv(a)||vv(a))return a;var c=Bw(a,zw),d;if(c){if(l===void 0&&(l="default"),d=Rw(c,a,l),!fv(d)||vv(d))return d;throw new pv("Can't convert object to primitive value")}return l===void 0&&(l="number"),Fw(a,l)},Hw=Lw,Ko=Li,Fs=function(a){var l=Hw(a,"string");return Ko(l)?l:l+""},Ww=J,gv=at,ch=Ww.document,Uw=gv(ch)&&gv(ch.createElement),dh=function(a){return Uw?ch.createElement(a):{}},Vw=tt,qw=ye,Yo=dh,Rt=!Vw&&!qw(function(){return Object.defineProperty(Yo("div"),"a",{get:function(){return 7}}).a!==7}),yv=tt,Gw=Re,Kw=Ri,Yw=Fr,Vt=ue,Xw=Fs,Qw=Ke,Jw=Rt,Xo=Object.getOwnPropertyDescriptor;et.f=yv?Xo:function(l,c){if(l=Vt(l),c=Xw(c),Jw)try{return Xo(l,c)}catch(d){}if(Qw(l,c))return Yw(!Gw(Kw.f,l,c),l[c])};var mv=ye,Zw=Ne,fh=/#|\.prototype\./,Qo=function(a,l){var c=ph[vh(a)];return c===e1?!0:c===gh?!1:Zw(l)?mv(l):!!l},vh=Qo.normalize=function(a){return String(a).replace(fh,".").toLowerCase()},ph=Qo.data={},gh=Qo.NATIVE="N",e1=Qo.POLYFILL="P",bv=Qo,Hi=qo,js=Mt,t1=Pn,r1=Hi(Hi.bind),ni=function(a,l){return js(a),l===void 0?a:t1?r1(a,l):function(){return a.apply(l,arguments)}},Bt={},i1=tt,Hn=ye,wv=i1&&Hn(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Wn=at,_v=String,n1=TypeError,Y=function(a){if(Wn(a))return a;throw new n1(_v(a)+" is not an object")},o1=tt,a1=Rt,s1=wv,Wi=Y,Ev=Fs,l1=TypeError,yh=Object.defineProperty,Jo=Object.getOwnPropertyDescriptor,mh="enumerable",bh="configurable",wh="writable";Bt.f=o1?s1?function(l,c,d){if(Wi(l),c=Ev(c),Wi(d),typeof l=="function"&&c==="prototype"&&"value"in d&&wh in d&&!d[wh]){var f=Jo(l,c);f&&f[wh]&&(l[c]=d.value,d={configurable:bh in d?d[bh]:f[bh],enumerable:mh in d?d[mh]:f[mh],writable:!1})}return yh(l,c,d)}:yh:function(l,c,d){if(Wi(l),c=Ev(c),Wi(d),a1)try{return yh(l,c,d)}catch(f){}if("get"in d||"set"in d)throw new l1("Accessors not supported");return"value"in d&&(l[c]=d.value),l};var Yt=tt,u1=Bt,h1=Fr,zr=Yt?function(a,l,c){return u1.f(a,l,h1(1,c))}:function(a,l,c){return a[l]=c,a},Zo=J,_h=Ai,ea=qo,Eh=Ne,c1=et.f,d1=bv,Un=be,kv=ni,Ui=zr,zs=Ke,f1=function(a){var l=function(c,d,f){if(this instanceof l){switch(arguments.length){case 0:return new a;case 1:return new a(c);case 2:return new a(c,d)}return new a(c,d,f)}return _h(a,this,arguments)};return l.prototype=a.prototype,l},te=function(a,l){var c=a.target,d=a.global,f=a.stat,p=a.proto,m=d?Zo:f?Zo[c]:(Zo[c]||{}).prototype,_=d?Un:Un[c]||Ui(Un,c,{})[c],b=_.prototype,E,S,I,T,P,V,ne,oe,he;for(T in l)E=d1(d?T:c+(f?".":"#")+T,a.forced),S=!E&&m&&zs(m,T),V=_[T],S&&(a.dontCallGetSet?(he=c1(m,T),ne=he&&he.value):ne=m[T]),P=S&&ne?ne:l[T],!(S&&typeof V==typeof P)&&(a.bind&&S?oe=kv(P,Zo):a.wrap&&S?oe=f1(P):p&&Eh(P)?oe=ea(P):oe=P,(a.sham||P&&P.sham||V&&V.sham)&&Ui(oe,"sham",!0),Ui(_,T,oe),p&&(I=c+"Prototype",zs(Un,I)||Ui(Un,I,{}),Ui(Un[I],T,P),a.real&&b&&(E||!b[T])&&Ui(b,T,P)))},Ls=te,ta=tt,kh=Bt.f;Ls({target:"Object",stat:!0,forced:Object.defineProperty!==kh,sham:!ta},{defineProperty:kh});var v1=be,Ov=v1.Object,p1=Ut.exports=function(l,c,d){return Ov.defineProperty(l,c,d)};Ov.defineProperty.sham&&(p1.sham=!0);var Oh=Ut.exports,g1=Oh,Sv=g1,y1=Sv,m1=y1,Vn=m1,xv=Vn,Tv=xv,Hs=A(Tv),Iv=ti,$e=Array.isArray||function(l){return Iv(l)==="Array"},Ws=Math.ceil,$v=Math.floor,b1=Math.trunc||function(l){var c=+l;return(c>0?$v:Ws)(c)},w1=b1,Us=function(a){var l=+a;return l!==l||l===0?0:w1(l)},Pv=Us,_1=Math.min,Cv=function(a){return a>0?_1(Pv(a),9007199254740991):0},E1=Cv,qt=function(a){return E1(a.length)},Sh=TypeError,Dv=9007199254740991,ra=function(a){if(a>Dv)throw Sh("Maximum allowed index exceeded");return a},k1=Fs,lt=Bt,O1=Fr,qn=function(a,l,c){var d=k1(l);d in a?lt.f(a,d,O1(0,c)):a[d]=c},S1=ze,xh=S1("toStringTag"),Mv={};Mv[xh]="z";var Vs=String(Mv)==="[object z]",B=Vs,Th=Ne,ia=ti,Ih=ze,Av=Ih("toStringTag"),Nv=Object,Rv=ia(function(){return arguments}())==="Arguments",Bv=function(a,l){try{return a[l]}catch(c){}},wr=B?ia:function(a){var l,c,d;return a===void 0?"Undefined":a===null?"Null":typeof(c=Bv(l=Nv(a),Av))=="string"?c:Rv?ia(l):(d=ia(l))==="Object"&&Th(l.callee)?"Arguments":d},Fv=Ae,qs=Ne,Vi=sh,Gs=Fv(Function.toString);qs(Vi.inspectSource)||(Vi.inspectSource=function(a){return Gs(a)});var Ks=Vi.inspectSource,x1=Ae,T1=ye,na=Ne,I1=wr,$1=bt,P1=Ks,oi=function(){},C1=[],jv=$1("Reflect","construct"),Xt=/^\s*(?:class|function)\b/,$h=x1(Xt.exec),D1=!Xt.test(oi),oa=function(l){if(!na(l))return!1;try{return jv(oi,C1,l),!0}catch(c){return!1}},zv=function(l){if(!na(l))return!1;switch(I1(l)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return D1||!!$h(Xt,P1(l))}catch(c){return!0}};zv.sham=!0;var Ys=!jv||T1(function(){var a;return oa(oa.call)||!oa(Object)||!oa(function(){a=!0})||a})?zv:oa,Ph=$e,M1=Ys,Lv=at,A1=ze,N1=A1("species"),Ch=Array,Hv=function(a){var l;return Ph(a)&&(l=a.constructor,M1(l)&&(l===Ch||Ph(l.prototype))?l=void 0:Lv(l)&&(l=l[N1],l===null&&(l=void 0))),l===void 0?Ch:l},R1=Hv,aa=function(a,l){return new(R1(a))(l===0?0:l)},Xs=ye,B1=ze,Wv=Nn,F1=B1("species"),sa=function(a){return Wv>=51||!Xs(function(){var l=[],c=l.constructor={};return c[F1]=function(){return{foo:1}},l[a](Boolean).foo!==1})},Dh=te,Mh=ye,j1=$e,z1=at,Uv=Nt,Ah=qt,Vv=ra,ur=qn,Gn=aa,_r=sa,Nh=ze,L1=Nn,Rh=Nh("isConcatSpreadable"),H1=L1>=51||!Mh(function(){var a=[];return a[Rh]=!1,a.concat()[0]!==a}),Bh=function(a){if(!z1(a))return!1;var l=a[Rh];return l!==void 0?!!l:j1(a)},W1=!H1||!_r("concat");Dh({target:"Array",proto:!0,arity:1,forced:W1},{concat:function(l){var c=Uv(this),d=Gn(c,0),f=0,p,m,_,b,E;for(p=-1,_=arguments.length;p<_;p++)if(E=p===-1?c:arguments[p],Bh(E))for(b=Ah(E),Vv(f+b),m=0;m<b;m++,f++)m in E&&ur(d,f,E[m]);else Vv(f+1),ur(d,f++,E);return d.length=f,d}});var Qs=wr,U1=String,qi=function(a){if(Qs(a)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return U1(a)},Js={},V1=Us,q1=Math.max,G1=Math.min,Gi=function(a,l){var c=V1(a);return c<0?q1(c+l,0):G1(c,l)},K1=ue,Y1=Gi,X1=qt,Fh=function(a){return function(l,c,d){var f=K1(l),p=X1(f),m=Y1(d,p),_;if(a&&c!==c){for(;p>m;)if(_=f[m++],_!==_)return!0}else for(;p>m;m++)if((a||m in f)&&f[m]===c)return a||m||0;return!a&&-1}},Q1={includes:Fh(!0),indexOf:Fh(!1)},la={},J1=Ae,ua=Ke,jh=ue,qv=Q1.indexOf,zh=la,Lh=J1([].push),Hh=function(a,l){var c=jh(a),d=0,f=[],p;for(p in c)!ua(zh,p)&&ua(c,p)&&Lh(f,p);for(;l.length>d;)ua(c,p=l[d++])&&(~qv(f,p)||Lh(f,p));return f},Kn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ki=Hh,Gv=Kn,ha=Object.keys||function(l){return Ki(l,Gv)},Yn=tt,Kv=wv,Z1=Bt,e_=Y,t_=ue,r_=ha;Js.f=Yn&&!Kv?Object.defineProperties:function(l,c){e_(l);for(var d=t_(c),f=r_(c),p=f.length,m=0,_;p>m;)Z1.f(l,_=f[m++],d[_]);return l};var Yv=bt,Zs=Yv("document","documentElement"),i_=jn,el=Ns,Xv=i_("keys"),ai=function(a){return Xv[a]||(Xv[a]=el(a))},n_=Y,o_=Js,Qv=Kn,a_=la,Jv=Zs,s_=dh,Wh=ai,Uh=">",Zv="<",tl="prototype",Vh="script",ep=Wh("IE_PROTO"),qh=function(){},tp=function(a){return Zv+Vh+Uh+a+Zv+"/"+Vh+Uh},rp=function(a){a.write(tp("")),a.close();var l=a.parentWindow.Object;return a=null,l},l_=function(){var a=s_("iframe"),l="java"+Vh+":",c;return a.style.display="none",Jv.appendChild(a),a.src=String(l),c=a.contentWindow.document,c.open(),c.write(tp("document.F=Object")),c.close(),c.F},rl,ca=function(){try{rl=new ActiveXObject("htmlfile")}catch(l){}ca=typeof document!="undefined"?document.domain&&rl?rp(rl):l_():rp(rl);for(var a=Qv.length;a--;)delete ca[tl][Qv[a]];return ca()};a_[ep]=!0;var Qt=Object.create||function(l,c){var d;return l!==null?(qh[tl]=n_(l),d=new qh,qh[tl]=null,d[ep]=l):d=ca(),c===void 0?d:o_.f(d,c)},Er={},u_=Hh,h_=Kn,c_=h_.concat("length","prototype");Er.f=Object.getOwnPropertyNames||function(l){return u_(l,c_)};var Gh={},ip=Gi,d_=qt,f_=qn,v_=Array,p_=Math.max,np=function(a,l,c){for(var d=d_(a),f=ip(l,d),p=ip(c===void 0?d:c,d),m=v_(p_(p-f,0)),_=0;f<p;f++,_++)f_(m,_,a[f]);return m.length=_,m},g_=ti,y_=ue,op=Er.f,m_=np,ap=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],b_=function(a){try{return op(a)}catch(l){return m_(ap)}};Gh.f=function(l){return ap&&g_(l)==="Window"?b_(l):op(y_(l))};var da={};da.f=Object.getOwnPropertySymbols;var w_=zr,Xn=function(a,l,c,d){return d&&d.enumerable?a[l]=c:w_(a,l,c),a},__=Bt,Kh=function(a,l,c){return __.f(a,l,c)},Qn={},sp=ze;Qn.f=sp;var lp=be,E_=Ke,il=Qn,Yh=Bt.f,Le=function(a){var l=lp.Symbol||(lp.Symbol={});E_(l,a)||Yh(l,a,{value:il.f(a)})},nl=Re,up=bt,k_=ze,Xh=Xn,ol=function(){var a=up("Symbol"),l=a&&a.prototype,c=l&&l.valueOf,d=k_("toPrimitive");l&&!l[d]&&Xh(l,d,function(f){return nl(c,this)},{arity:1})},O_=Vs,S_=wr,hp=O_?{}.toString:function(){return"[object "+S_(this)+"]"},x_=Vs,cp=Bt.f,dp=zr,T_=Ke,I_=hp,$_=ze,Qh=$_("toStringTag"),Yi=function(a,l,c,d){if(a){var f=c?a:a.prototype;T_(f,Qh)||cp(f,Qh,{configurable:!0,value:l}),d&&!x_&&dp(f,"toString",I_)}},fp=J,P_=Ne,vp=fp.WeakMap,C_=P_(vp)&&/native code/.test(String(vp)),D_=C_,pp=J,gp=at,M_=zr,fa=Ke,Jh=sh,A_=ai,N_=la,yp="Object already initialized",al=pp.TypeError,R_=pp.WeakMap,sl,Jn,ll,mp=function(a){return ll(a)?Jn(a):sl(a,{})},Zh=function(a){return function(l){var c;if(!gp(l)||(c=Jn(l)).type!==a)throw new al("Incompatible receiver, "+a+" required");return c}};if(D_||Jh.state){var kr=Jh.state||(Jh.state=new R_);kr.get=kr.get,kr.has=kr.has,kr.set=kr.set,sl=function(a,l){if(kr.has(a))throw new al(yp);return l.facade=a,kr.set(a,l),l},Jn=function(a){return kr.get(a)||{}},ll=function(a){return kr.has(a)}}else{var Zn=A_("state");N_[Zn]=!0,sl=function(a,l){if(fa(a,Zn))throw new al(yp);return l.facade=a,M_(a,Zn,l),l},Jn=function(a){return fa(a,Zn)?a[Zn]:{}},ll=function(a){return fa(a,Zn)}}var Or={set:sl,get:Jn,has:ll,enforce:mp,getterFor:Zh},bp=ni,ul=Ae,B_=ri,F_=Nt,j_=qt,eo=aa,wp=ul([].push),Lr=function(a){var l=a===1,c=a===2,d=a===3,f=a===4,p=a===6,m=a===7,_=a===5||p;return function(b,E,S,I){for(var T=F_(b),P=B_(T),V=bp(E,S),ne=j_(P),oe=0,he=I||eo,ve=l?he(b,ne):c||m?he(b,0):void 0,mt,Ye;ne>oe;oe++)if((_||oe in P)&&(mt=P[oe],Ye=V(mt,oe,T),a))if(l)ve[oe]=Ye;else if(Ye)switch(a){case 3:return!0;case 5:return mt;case 6:return oe;case 2:wp(ve,mt)}else switch(a){case 4:return!1;case 7:wp(ve,mt)}return p?-1:d||f?f:ve}},to={forEach:Lr(0),map:Lr(1),filter:Lr(2),some:Lr(3),every:Lr(4),find:Lr(5),findIndex:Lr(6),filterReject:Lr(7)},hl=te,va=J,ro=Re,z_=Ae,io=tt,no=Bn,L_=ye,ut=Ke,H_=We,cl=Y,dl=ue,ec=Fs,W_=qi,tc=Fr,pa=Qt,_p=ha,U_=Er,rc=Gh,V_=da,Ep=et,ic=Bt,kp=Js,nc=Ri,Op=Xn,Sp=Kh,oc=jn,q_=ai,ac=la,si=Ns,G_=ze,xp=Qn,Tp=Le,K_=ol,fl=Yi,sc=Or,vl=to.forEach,Ft=q_("hidden"),pl="Symbol",ga="prototype",Y_=sc.set,Ip=sc.getterFor(pl),hr=Object[ga],li=va.Symbol,oo=li&&li[ga],lc=va.RangeError,$p=va.TypeError,ya=va.QObject,uc=Ep.f,ui=ic.f,hi=rc.f,L=nc.f,hc=z_([].push),Hr=oc("symbols"),ma=oc("op-symbols"),Pp=oc("wks"),gl=!ya||!ya[ga]||!ya[ga].findChild,Cp=function(a,l,c){var d=uc(hr,l);d&&delete hr[l],ui(a,l,c),d&&a!==hr&&ui(hr,l,d)},yl=io&&L_(function(){return pa(ui({},"a",{get:function(){return ui(this,"a",{value:7}).a}})).a!==7})?Cp:ui,ao=function(a,l){var c=Hr[a]=pa(oo);return Y_(c,{type:pl,tag:a,description:l}),io||(c.description=l),c},ml=function(l,c,d){l===hr&&ml(ma,c,d),cl(l);var f=ec(c);return cl(d),ut(Hr,f)?(d.enumerable?(ut(l,Ft)&&l[Ft][f]&&(l[Ft][f]=!1),d=pa(d,{enumerable:tc(0,!1)})):(ut(l,Ft)||ui(l,Ft,tc(1,{})),l[Ft][f]=!0),yl(l,f,d)):ui(l,f,d)},Wr=function(l,c){cl(l);var d=dl(c),f=_p(d).concat(Mp(d));return vl(f,function(p){(!io||ro(bl,d,p))&&ml(l,p,d[p])}),l},X_=function(l,c){return c===void 0?pa(l):Wr(pa(l),c)},bl=function(l){var c=ec(l),d=ro(L,this,c);return this===hr&&ut(Hr,c)&&!ut(ma,c)?!1:d||!ut(this,c)||!ut(Hr,c)||ut(this,Ft)&&this[Ft][c]?d:!0},cc=function(l,c){var d=dl(l),f=ec(c);if(!(d===hr&&ut(Hr,f)&&!ut(ma,f))){var p=uc(d,f);return p&&ut(Hr,f)&&!(ut(d,Ft)&&d[Ft][f])&&(p.enumerable=!0),p}},Dp=function(l){var c=hi(dl(l)),d=[];return vl(c,function(f){!ut(Hr,f)&&!ut(ac,f)&&hc(d,f)}),d},Mp=function(a){var l=a===hr,c=hi(l?ma:dl(a)),d=[];return vl(c,function(f){ut(Hr,f)&&(!l||ut(hr,f))&&hc(d,Hr[f])}),d};no||(li=function(){if(H_(oo,this))throw new $p("Symbol is not a constructor");var l=!arguments.length||arguments[0]===void 0?void 0:W_(arguments[0]),c=si(l),d=function(f){var p=this===void 0?va:this;p===hr&&ro(d,ma,f),ut(p,Ft)&&ut(p[Ft],c)&&(p[Ft][c]=!1);var m=tc(1,f);try{yl(p,c,m)}catch(_){if(!(_ instanceof lc))throw _;Cp(p,c,m)}};return io&&gl&&yl(hr,c,{configurable:!0,set:d}),ao(c,l)},oo=li[ga],Op(oo,"toString",function(){return Ip(this).tag}),Op(li,"withoutSetter",function(a){return ao(si(a),a)}),nc.f=bl,ic.f=ml,kp.f=Wr,Ep.f=cc,U_.f=rc.f=Dp,V_.f=Mp,xp.f=function(a){return ao(G_(a),a)},io&&Sp(oo,"description",{configurable:!0,get:function(){return Ip(this).description}})),hl({global:!0,constructor:!0,wrap:!0,forced:!no,sham:!no},{Symbol:li}),vl(_p(Pp),function(a){Tp(a)}),hl({target:pl,stat:!0,forced:!no},{useSetter:function(){gl=!0},useSimple:function(){gl=!1}}),hl({target:"Object",stat:!0,forced:!no,sham:!io},{create:X_,defineProperty:ml,defineProperties:Wr,getOwnPropertyDescriptor:cc}),hl({target:"Object",stat:!0,forced:!no},{getOwnPropertyNames:Dp}),K_(),fl(li,pl),ac[Ft]=!0;var Q_=Bn,dc=Q_&&!!Symbol.for&&!!Symbol.keyFor,J_=te,fc=bt,Z_=Ke,eE=qi,Ap=jn,ba=dc,vc=Ap("string-to-symbol-registry"),tE=Ap("symbol-to-string-registry");J_({target:"Symbol",stat:!0,forced:!ba},{for:function(a){var l=eE(a);if(Z_(vc,l))return vc[l];var c=fc("Symbol")(l);return vc[l]=c,tE[c]=l,c}});var rE=te,iE=Ke,nE=Li,oE=Fn,Np=jn,Rp=dc,Bp=Np("symbol-to-string-registry");rE({target:"Symbol",stat:!0,forced:!Rp},{keyFor:function(l){if(!nE(l))throw new TypeError(oE(l)+" is not a symbol");if(iE(Bp,l))return Bp[l]}});var aE=Ae,wa=aE([].slice),Fp=Ae,jp=$e,sE=Ne,so=ti,lE=qi,zp=Fp([].push),wl=function(a){if(sE(a))return a;if(jp(a)){for(var l=a.length,c=[],d=0;d<l;d++){var f=a[d];typeof f=="string"?zp(c,f):(typeof f=="number"||so(f)==="Number"||so(f)==="String")&&zp(c,lE(f))}var p=c.length,m=!0;return function(_,b){if(m)return m=!1,b;if(jp(this))return b;for(var E=0;E<p;E++)if(c[E]===_)return b}}},Lp=te,Hp=bt,Wp=Ai,uE=Re,_a=Ae,pc=ye,Up=Ne,Vp=Li,gc=wa,hE=wl,qp=Bn,cE=String,Sr=Hp("JSON","stringify"),ci=_a(/./.exec),Gp=_a("".charAt),Kp=_a("".charCodeAt),dE=_a("".replace),fE=_a(1 .toString),vE=/[\uD800-\uDFFF]/g,He=/^[\uD800-\uDBFF]$/,Yp=/^[\uDC00-\uDFFF]$/,Xp=!qp||pc(function(){var a=Hp("Symbol")("stringify detection");return Sr([a])!=="[null]"||Sr({a})!=="{}"||Sr(Object(a))!=="{}"}),Qp=pc(function(){return Sr("\uDF06\uD834")!=='"\\udf06\\ud834"'||Sr("\uDEAD")!=='"\\udead"'}),pE=function(a,l){var c=gc(arguments),d=hE(l);if(!(!Up(d)&&(a===void 0||Vp(a))))return c[1]=function(f,p){if(Up(d)&&(p=uE(d,this,cE(f),p)),!Vp(p))return p},Wp(Sr,null,c)},Jp=function(a,l,c){var d=Gp(c,l-1),f=Gp(c,l+1);return ci(He,a)&&!ci(Yp,f)||ci(Yp,a)&&!ci(He,d)?"\\u"+fE(Kp(a,0),16):a};Sr&&Lp({target:"JSON",stat:!0,arity:3,forced:Xp||Qp},{stringify:function(l,c,d){var f=gc(arguments),p=Wp(Xp?pE:Sr,null,f);return Qp&&typeof p=="string"?dE(p,vE,Jp):p}});var gE=te,yE=Bn,mE=ye,Zp=da,bE=Nt,eg=!yE||mE(function(){Zp.f(1)});gE({target:"Object",stat:!0,forced:eg},{getOwnPropertySymbols:function(l){var c=Zp.f;return c?c(bE(l)):[]}});var di=Le;di("asyncIterator");var Ur=Le;Ur("hasInstance");var _l=Le;_l("isConcatSpreadable");var El=Le;El("iterator");var yc=Le;yc("match");var wE=Le;wE("matchAll");var lo=Le;lo("replace");var uo=Le;uo("search");var _E=Le;_E("species");var ht=Le;ht("split");var EE=Le,mc=ol;EE("toPrimitive"),mc();var kl=bt,bc=Le,kE=Yi;bc("toStringTag"),kE(kl("Symbol"),"Symbol");var wc=Le;wc("unscopables");var Ea=J,tg=Yi;tg(Ea.JSON,"JSON",!0);var OE=be,rg=OE.Symbol,ho={},Ol=tt,ig=Ke,ng=Function.prototype,og=Ol&&Object.getOwnPropertyDescriptor,Sl=ig(ng,"name"),SE=Sl&&function(){}.name==="something",_c=Sl&&(!Ol||Ol&&og(ng,"name").configurable),ag={EXISTS:Sl,PROPER:SE,CONFIGURABLE:_c},sg=ye,lg=!sg(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype}),xE=Ke,TE=Ne,IE=Nt,$E=ai,ug=lg,ka=$E("IE_PROTO"),wt=Object,xl=wt.prototype,fi=ug?wt.getPrototypeOf:function(a){var l=IE(a);if(xE(l,ka))return l[ka];var c=l.constructor;return TE(c)&&l instanceof c?c.prototype:l instanceof wt?xl:null},PE=ye,hg=Ne,cr=at,Xi=Qt,Oa=fi,CE=Xn,DE=ze,Sa=DE("iterator"),Ec=!1,kt,Tl,kc;[].keys&&(kc=[].keys(),"next"in kc?(Tl=Oa(Oa(kc)),Tl!==Object.prototype&&(kt=Tl)):Ec=!0);var cg=!cr(kt)||PE(function(){var a={};return kt[Sa].call(a)!==a});cg?kt={}:kt=Xi(kt),hg(kt[Sa])||CE(kt,Sa,function(){return this});var xr={IteratorPrototype:kt,BUGGY_SAFARI_ITERATORS:Ec},xa=xr.IteratorPrototype,ME=Qt,Oc=Fr,dg=Yi,Sc=ho,xc=function(){return this},Il=function(a,l,c,d){var f=l+" Iterator";return a.prototype=ME(xa,{next:Oc(+!d,c)}),dg(a,f,!1,!0),Sc[f]=xc,a},Tc=Ae,fg=Mt,vg=function(a,l,c){try{return Tc(fg(Object.getOwnPropertyDescriptor(a,l)[c]))}catch(d){}},pg=Ne,gg=String,yg=TypeError,AE=function(a){if(typeof a=="object"||pg(a))return a;throw new yg("Can't set "+gg(a)+" as a prototype")},NE=vg,RE=Y,BE=AE,Ic=Object.setPrototypeOf||("__proto__"in{}?function(){var a=!1,l={},c;try{c=NE(Object.prototype,"__proto__","set"),c(l,[]),a=l instanceof Array}catch(d){}return function(f,p){return RE(f),BE(p),a?c(f,p):f.__proto__=p,f}}():void 0),FE=te,$c=Re,mg=ag,jE=Il,zE=fi,LE=Yi,bg=Xn,HE=ze,Pc=ho,Cc=xr,WE=mg.PROPER;mg.CONFIGURABLE,Cc.IteratorPrototype;var Ta=Cc.BUGGY_SAFARI_ITERATORS,Dc=HE("iterator"),Mc="keys",$l="values",Ac="entries",wg=function(){return this},Nc=function(a,l,c,d,f,p,m){jE(c,l,d);var _=function(he){if(he===f&&T)return T;if(!Ta&&he&&he in S)return S[he];switch(he){case Mc:return function(){return new c(this,he)};case $l:return function(){return new c(this,he)};case Ac:return function(){return new c(this,he)}}return function(){return new c(this)}},b=l+" Iterator",E=!1,S=a.prototype,I=S[Dc]||S["@@iterator"]||f&&S[f],T=!Ta&&I||_(f),P=l==="Array"&&S.entries||I,V,ne,oe;if(P&&(V=zE(P.call(new a)),V!==Object.prototype&&V.next&&(LE(V,b,!0,!0),Pc[b]=wg)),WE&&f===$l&&I&&I.name!==$l&&(E=!0,T=function(){return $c(I,this)}),f)if(ne={values:_($l),keys:p?T:_(Mc),entries:_(Ac)},m)for(oe in ne)(Ta||E||!(oe in S))&&bg(S,oe,ne[oe]);else FE({target:l,proto:!0,forced:Ta||E},ne);return m&&S[Dc]!==T&&bg(S,Dc,T,{name:f}),Pc[l]=T,ne},Qi=function(a,l){return{value:a,done:l}},_g=ue,Rc=ho,Bc=Or;Bt.f;var Eg=Nc,Pl=Qi,kg="Array Iterator",UE=Bc.set,vi=Bc.getterFor(kg);Eg(Array,"Array",function(a,l){UE(this,{type:kg,target:_g(a),index:0,kind:l})},function(){var a=vi(this),l=a.target,c=a.index++;if(!l||c>=l.length)return a.target=void 0,Pl(void 0,!0);switch(a.kind){case"keys":return Pl(c,!1);case"values":return Pl(l[c],!1)}return Pl([c,l[c]],!1)},"values"),Rc.Arguments=Rc.Array;var Cl={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Og=Cl,VE=J,qE=wr,GE=zr,Sg=ho,xg=ze,Fc=xg("toStringTag");for(var Dl in Og){var jc=VE[Dl],zc=jc&&jc.prototype;zc&&qE(zc)!==Fc&&GE(zc,Fc,Dl),Sg[Dl]=Sg.Array}var KE=rg,Lc=KE,YE=ze,XE=Bt.f,Tg=YE("metadata"),Ig=Function.prototype;Ig[Tg]===void 0&&XE(Ig,Tg,{value:null});var $g=Le;$g("asyncDispose");var QE=Le;QE("dispose");var JE=Le;JE("metadata");var Pg=Lc,Cg=Pg,ZE=bt,ek=Ae,Ia=ZE("Symbol"),tk=Ia.keyFor,rk=ek(Ia.prototype.valueOf),Hc=Ia.isRegisteredSymbol||function(l){try{return tk(rk(l))!==void 0}catch(c){return!1}},ik=te,Dg=Hc;ik({target:"Symbol",stat:!0},{isRegisteredSymbol:Dg});for(var nk=jn,Mg=bt,ok=Ae,Ml=Li,Ag=ze,$a=Mg("Symbol"),Ng=$a.isWellKnownSymbol,Wc=Mg("Object","getOwnPropertyNames"),Uc=ok($a.prototype.valueOf),Vc=nk("wks"),qc=0,Gc=Wc($a),Rg=Gc.length;qc<Rg;qc++)try{var Ji=Gc[qc];Ml($a[Ji])&&Ag(Ji)}catch(a){}var Bg=function(l){if(Ng&&Ng(l))return!0;try{for(var c=Uc(l),d=0,f=Wc(Vc),p=f.length;d<p;d++)if(Vc[f[d]]==c)return!0}catch(m){}return!1},xe=te,ak=Bg;xe({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:ak});var Fg=Le;Fg("matcher");var jg=Le;jg("observable");var H=te,zg=Hc;H({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:zg});var Lg=te,sk=Bg;Lg({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:sk});var lk=Le;lk("metadataKey");var uk=Le;uk("patternMatch");var hk=Le;hk("replaceAll");var Hg=Cg,ck=Hg,Kc=ck,co=A(Kc),Yc=Ae,dk=Us,fk=qi,vk=Ts,Xc=Yc("".charAt),Wg=Yc("".charCodeAt),pk=Yc("".slice),Ug=function(a){return function(l,c){var d=fk(vk(l)),f=dk(c),p=d.length,m,_;return f<0||f>=p?a?"":void 0:(m=Wg(d,f),m<55296||m>56319||f+1===p||(_=Wg(d,f+1))<56320||_>57343?a?Xc(d,f):m:a?pk(d,f,f+2):(m-55296<<10)+(_-56320)+65536)}},Vg={codeAt:Ug(!1),charAt:Ug(!0)},gk=Vg.charAt,yk=qi,Qc=Or,mk=Nc,qg=Qi,Gg="String Iterator",bk=Qc.set,wk=Qc.getterFor(Gg);mk(String,"String",function(a){bk(this,{type:Gg,string:yk(a),index:0})},function(){var l=wk(this),c=l.string,d=l.index,f;return d>=c.length?qg(void 0,!0):(f=gk(c,d),l.index+=f.length,qg(f,!1))});var _k=Qn,Ek=_k.f("iterator"),Jc=Ek,Kg=Jc,kk=Kg,Ok=kk,Sk=Ok,Zc=Sk,Yg=Zc,Xg=A(Yg);function fo(a){"@babel/helpers - typeof";return fo=typeof co=="function"&&typeof Xg=="symbol"?function(l){return typeof l}:function(l){return l&&typeof co=="function"&&l.constructor===co&&l!==co.prototype?"symbol":typeof l},fo(a)}var Qg=Qn,ed=Qg.f("toPrimitive"),Jg=ed,Ve=Jg,Tr=Ve,pi=Tr,xk=pi,Tk=xk,Ik=Tk,td=A(Ik);function $k(a,l){if(fo(a)!=="object"||a===null)return a;var c=a[td];if(c!==void 0){var d=c.call(a,l||"default");if(fo(d)!=="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(a)}function Al(a){var l=$k(a,"string");return fo(l)==="symbol"?l:String(l)}function ct(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Hs(a,Al(d.key),d)}}function Zi(a,l,c){return l&&ct(a.prototype,l),c&&ct(a,c),Hs(a,"prototype",{writable:!1}),a}function Jt(a,l,c){return l=Al(l),l in a?Hs(a,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[l]=c,a}var Zg=Ae,Pk=Mt,Ck=at,Dk=Ke,ke=wa,Mk=Pn,ey=Function,Ak=Zg([].concat),Nk=Zg([].join),Pa={},Rk=function(a,l,c){if(!Dk(Pa,l)){for(var d=[],f=0;f<l;f++)d[f]="a["+f+"]";Pa[l]=ey("C,a","return new C("+Nk(d,",")+")")}return Pa[l](a,c)},en=Mk?ey.bind:function(l){var c=Pk(this),d=c.prototype,f=ke(arguments,1),p=function(){var _=Ak(f,ke(arguments));return this instanceof p?Rk(c,_.length,_):c.apply(l,_)};return Ck(d)&&(p.prototype=d),p},Bk=te,rd=en;Bk({target:"Function",proto:!0,forced:Function.bind!==rd},{bind:rd});var qe=J,Fk=be,gt=function(a,l){var c=Fk[a+"Prototype"],d=c&&c[l];if(d)return d;var f=qe[a],p=f&&f.prototype;return p&&p[l]},jk=gt,Nl=jk("Function","bind"),zk=We,vo=Nl,id=Function.prototype,ty=function(a){var l=a.bind;return a===id||zk(id,a)&&l===id.bind?vo:l},Lk=ty,ry=Lk,Hk=ry,tn=A(Hk),Wk=Mt,nd=Nt,Uk=ri,Vk=qt,Pe=TypeError,iy=function(a){return function(l,c,d,f){Wk(c);var p=nd(l),m=Uk(p),_=Vk(p),b=a?_-1:0,E=a?-1:1;if(d<2)for(;;){if(b in m){f=m[b],b+=E;break}if(b+=E,a?b<0:_<=b)throw new Pe("Reduce of empty array with no initial value")}for(;a?b>=0:_>b;b+=E)b in m&&(f=c(f,m[b],b,p));return f}},qk={left:iy(!1),right:iy(!0)},Gk=ye,Ca=function(a,l){var c=[][a];return!!c&&Gk(function(){c.call(null,l||function(){return 1},1)})},Kk=J,Yk=ti,Da=Yk(Kk.process)==="process",od=te,Xk=qk.left,rn=Ca,ad=Nn,Qk=Da,ny=!Qk&&ad>79&&ad<83,Jk=ny||!rn("reduce");od({target:"Array",proto:!0,forced:Jk},{reduce:function(l){var c=arguments.length;return Xk(this,l,c,c>1?arguments[1]:void 0)}});var Zk=gt,eO=Zk("Array","reduce"),tO=We,rO=eO,sd=Array.prototype,iO=function(a){var l=a.reduce;return a===sd||tO(sd,a)&&l===sd.reduce?rO:l},nO=iO,oO=nO,ld=oO,oy=A(ld),aO=te,sO=to.filter,lO=sa,uO=lO("filter");aO({target:"Array",proto:!0,forced:!uO},{filter:function(l){return sO(this,l,arguments.length>1?arguments[1]:void 0)}});var hO=gt,ud=hO("Array","filter"),cO=We,Vr=ud,hd=Array.prototype,dO=function(a){var l=a.filter;return a===hd||cO(hd,a)&&l===hd.filter?Vr:l},fO=dO,vO=fO,pO=vO,dt=A(pO),gO=te,yO=to.map,mO=sa,bO=mO("map");gO({target:"Array",proto:!0,forced:!bO},{map:function(l){return yO(this,l,arguments.length>1?arguments[1]:void 0)}});var wO=gt,ay=wO("Array","map"),_O=We,EO=ay,cd=Array.prototype,sy=function(a){var l=a.map;return a===cd||_O(cd,a)&&l===cd.map?EO:l},kO=sy,OO=kO,dd=OO,Ot=A(dd),SO=$e,gi=qt,xO=ra,ly=ni,uy=function(a,l,c,d,f,p,m,_){for(var b=f,E=0,S=m?ly(m,_):!1,I,T;E<d;)E in c&&(I=S?S(c[E],E,l):c[E],p>0&&SO(I)?(T=gi(I),b=uy(a,l,I,T,b,p-1)-1):(xO(b+1),a[b]=I),b++),E++;return b},hy=uy,cy=te,TO=hy,IO=Mt,$O=Nt,PO=qt,fd=aa;cy({target:"Array",proto:!0},{flatMap:function(l){var c=$O(this),d=PO(c),f;return IO(l),f=fd(c,0),f.length=TO(f,c,c,d,0,1,l,arguments.length>1?arguments[1]:void 0),f}});var CO=gt,jt=CO("Array","flatMap"),vd=We,DO=jt,pd=Array.prototype,gd=function(a){var l=a.flatMap;return a===pd||vd(pd,a)&&l===pd.flatMap?DO:l},dy=gd,MO=dy,AO=MO,yd=A(AO);function fy(a){return new NO(a)}var vy=function(){function a(l,c,d){var f,p,m;ge(this,a),Jt(this,"_listeners",{add:tn(f=this._add).call(f,this),remove:tn(p=this._remove).call(p,this),update:tn(m=this._update).call(m,this)}),this._source=l,this._transformers=c,this._target=d}return Zi(a,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(c){var d;return oy(d=this._transformers).call(d,function(f,p){return p(f)},c)}},{key:"_add",value:function(c,d){d!=null&&this._target.add(this._transformItems(this._source.get(d.items)))}},{key:"_update",value:function(c,d){d!=null&&this._target.update(this._transformItems(this._source.get(d.items)))}},{key:"_remove",value:function(c,d){d!=null&&this._target.remove(this._transformItems(d.oldData))}}]),a}(),NO=function(){function a(l){ge(this,a),Jt(this,"_transformers",[]),this._source=l}return Zi(a,[{key:"filter",value:function(c){return this._transformers.push(function(d){return dt(d).call(d,c)}),this}},{key:"map",value:function(c){return this._transformers.push(function(d){return Ot(d).call(d,c)}),this}},{key:"flatMap",value:function(c){return this._transformers.push(function(d){return yd(d).call(d,c)}),this}},{key:"to",value:function(c){return new vy(this._source,this._transformers,c)}}]),a}(),RO=Re,py=Y,BO=Ms,md=function(a,l,c){var d,f;py(a);try{if(d=BO(a,"return"),!d){if(l==="throw")throw c;return c}d=RO(d,a)}catch(p){f=!0,d=p}if(l==="throw")throw c;if(f)throw d;return py(d),c},Ma=Y,gy=md,yy=function(a,l,c,d){try{return d?l(Ma(c)[0],c[1]):l(c)}catch(f){gy(a,"throw",f)}},my=ze,FO=ho,by=my("iterator"),dr=Array.prototype,wy=function(a){return a!==void 0&&(FO.Array===a||dr[by]===a)},jO=wr,_y=Ms,bd=An,Ey=ho,zO=ze,LO=zO("iterator"),Rl=function(a){if(!bd(a))return _y(a,LO)||_y(a,"@@iterator")||Ey[jO(a)]},wd=Re,HO=Mt,_e=Y,WO=Fn,ky=Rl,nn=TypeError,Aa=function(a,l){var c=arguments.length<2?ky(a):l;if(HO(c))return _e(wd(c,a));throw new nn(WO(a)+" is not iterable")},UO=ni,VO=Re,Na=Nt,qO=yy,GO=wy,Oy=Ys,KO=qt,Sy=qn,YO=Aa,XO=Rl,xy=Array,QO=function(l){var c=Na(l),d=Oy(this),f=arguments.length,p=f>1?arguments[1]:void 0,m=p!==void 0;m&&(p=UO(p,f>2?arguments[2]:void 0));var _=XO(c),b=0,E,S,I,T,P,V;if(_&&!(this===xy&&GO(_)))for(T=YO(c,_),P=T.next,S=d?new this:[];!(I=VO(P,T)).done;b++)V=m?qO(T,p,[I.value,b],!0):I.value,Sy(S,b,V);else for(E=KO(c),S=d?new this(E):xy(E);E>b;b++)V=m?p(c[b],b):c[b],Sy(S,b,V);return S.length=b,S},JO=ze,Ty=JO("iterator"),_d=!1;try{var ZO=0,Ed={next:function(){return{done:!!ZO++}},return:function(){_d=!0}};Ed[Ty]=function(){return this},Array.from(Ed,function(){throw 2})}catch(a){}var kd=function(a,l){try{if(!l&&!_d)return!1}catch(f){return!1}var c=!1;try{var d={};d[Ty]=function(){return{next:function(){return{done:c=!0}}}},a(d)}catch(f){}return c},eS=te,Iy=QO,$y=kd,Ir=!$y(function(a){Array.from(a)});eS({target:"Array",stat:!0,forced:Ir},{from:Iy});var tS=be,Py=tS.Array.from,rS=Py,Cy=rS,Dy=Cy,Bl=A(Dy),iS=Rl,nS=iS,Od=nS,oS=Od,Ra=oS,fr=Ra,Zt=fr,Fl=Zt,qr=Fl,yi=A(qr),My=qr,jl=A(My),po=te,on=$e;po({target:"Array",stat:!0},{isArray:on});var Sd=be,zl=Sd.Array.isArray,Ay=zl,xd=Ay,Ny=xd,Ry=Ny,Td=Ry,an=Td,Ba=an,go=A(Ba);function Ll(a){if(go(a))return a}var By=tt,aS=$e,sS=TypeError,Fa=Object.getOwnPropertyDescriptor,Id=By&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(a){return a instanceof TypeError}}(),Fy=Id?function(a,l){if(aS(a)&&!Fa(a,"length").writable)throw new sS("Cannot set read only .length");return a.length=l}:function(a,l){return a.length=l},St=te,Qe=Nt,zt=qt,Hl=Fy,ja=ra,za=ye,La=za(function(){return[].push.call({length:4294967296},1)!==4294967297}),yo=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(a){return a instanceof TypeError}},$r=La||!yo();St({target:"Array",proto:!0,arity:1,forced:$r},{push:function(l){var c=Qe(this),d=zt(c),f=arguments.length;ja(d+f);for(var p=0;p<f;p++)c[d]=arguments[p],d++;return Hl(c,d),d}});var sn=gt,jy=sn("Array","push"),zy=We,Wl=jy,vr=Array.prototype,Ul=function(a){var l=a.push;return a===vr||zy(vr,a)&&l===vr.push?Wl:l},ln=Ul,Ly=ln,$d=Ly,Hy=$d,Wy=Hy,Vl=Wy,ql=Vl,Uy=A(ql);function Vy(a,l){var c=a==null?null:typeof co!="undefined"&&yi(a)||a["@@iterator"];if(c!=null){var d,f,p,m,_=[],b=!0,E=!1;try{if(p=(c=c.call(a)).next,l===0){if(Object(c)!==c)return;b=!1}else for(;!(b=(d=p.call(c)).done)&&(Uy(_).call(_,d.value),_.length!==l);b=!0);}catch(S){E=!0,f=S}finally{try{if(!b&&c.return!=null&&(m=c.return(),Object(m)!==m))return}finally{if(E)throw f}}return _}}var lS=te,qy=$e,Ha=Ys,Wa=at,mo=Gi,Gy=qt,bo=ue,un=qn,uS=ze,hS=sa,Ky=wa,Yy=hS("slice"),Xy=uS("species"),hn=Array,Pd=Math.max;lS({target:"Array",proto:!0,forced:!Yy},{slice:function(l,c){var d=bo(this),f=Gy(d),p=mo(l,f),m=mo(c===void 0?f:c,f),_,b,E;if(qy(d)&&(_=d.constructor,Ha(_)&&(_===hn||qy(_.prototype))?_=void 0:Wa(_)&&(_=_[Xy],_===null&&(_=void 0)),_===hn||_===void 0))return Ky(d,p,m);for(b=new(_===void 0?hn:_)(Pd(m-p,0)),E=0;p<m;p++,E++)p in d&&un(b,E,d[p]);return b.length=E,b}});var cS=gt,Cd=cS("Array","slice"),dS=We,fS=Cd,Ua=Array.prototype,vS=function(a){var l=a.slice;return a===Ua||dS(Ua,a)&&l===Ua.slice?fS:l},Qy=vS,Jy=Qy,pS=Jy,Zy=pS,wo=Zy,mi=wo,em=mi,Gl=A(em),tm=Cy,Va=tm,Dd=Va,_o=Dd,rm=_o,Kl=A(rm);function Yl(a,l){(l==null||l>a.length)&&(l=a.length);for(var c=0,d=new Array(l);c<l;c++)d[c]=a[c];return d}function Md(a,l){var c;if(a){if(typeof a=="string")return Yl(a,l);var d=Gl(c=Object.prototype.toString.call(a)).call(c,8,-1);if(d==="Object"&&a.constructor&&(d=a.constructor.name),d==="Map"||d==="Set")return Kl(a);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return Yl(a,l)}}function im(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xt(a,l){return Ll(a)||Vy(a,l)||Md(a,l)||im()}function nm(a){if(go(a))return Yl(a)}function om(a){if(typeof co!="undefined"&&yi(a)!=null||a["@@iterator"]!=null)return Kl(a)}function am(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _t(a){return nm(a)||om(a)||Md(a)||am()}var gS=Lc,qa=A(gS),yS=gt,sm=yS("Array","concat"),lm=We,mS=sm,Ad=Array.prototype,um=function(a){var l=a.concat;return a===Ad||lm(Ad,a)&&l===Ad.concat?mS:l},hm=um,bS=hm,cm=bS,Ga=A(cm),Xl=Jy,cn=A(Xl),Pr=bt,wS=Ae,_S=Er,ES=da,kS=Y,bi=wS([].concat),Cr=Pr("Reflect","ownKeys")||function(l){var c=_S.f(kS(l)),d=ES.f;return d?bi(c,d(l)):c},dm=te,dn=Cr;dm({target:"Reflect",stat:!0},{ownKeys:dn});var fm=be,Eo=fm.Reflect.ownKeys,Ql=Eo,De=Ql,Jl=De,vm=A(Jl),pe=xd,yt=A(pe),er=te,pm=Nt,Zl=ha,Ka=ye,eu=Ka(function(){Zl(1)});er({target:"Object",stat:!0,forced:eu},{keys:function(l){return Zl(pm(l))}});var Nd=be,gm=Nd.Object.keys,ym=gm,wi=ym,tr=wi,Rd=A(tr),_i=to.forEach,OS=Ca,SS=OS("forEach"),Bd=SS?[].forEach:function(l){return _i(this,l,arguments.length>1?arguments[1]:void 0)},mm=te,bm=Bd;mm({target:"Array",proto:!0,forced:[].forEach!==bm},{forEach:bm});var xS=gt,Ya=xS("Array","forEach"),Fd=Ya,TS=Fd,IS=wr,$S=Ke,ko=We,PS=TS,tu=Array.prototype,CS={DOMTokenList:!0,NodeList:!0},jd=function(a){var l=a.forEach;return a===tu||ko(tu,a)&&l===tu.forEach||$S(CS,IS(a))?PS:l},wm=jd,Dr=A(wm),Tt=te,_m=Ae,Ei=$e,Oo=_m([].reverse),ce=[1,2];Tt({target:"Array",proto:!0,forced:String(ce)===String(ce.reverse())},{reverse:function(){return Ei(this)&&(this.length=this.length),Oo(this)}});var re=gt,Lt=re("Array","reverse"),ft=We,So=Lt,ru=Array.prototype,ki=function(a){var l=a.reverse;return a===ru||ft(ru,a)&&l===ru.reverse?So:l},DS=ki,zd=DS,MS=zd,Em=A(MS),Ce=Fn,km=TypeError,Om=function(a,l){if(!delete a[l])throw new km("Cannot delete property "+Ce(l)+" of "+Ce(a))},Sm=te,xm=Nt,Xa=Gi,It=Us,Tm=qt,Im=Fy,$m=ra,Ld=aa,AS=qn,Qa=Om,NS=sa,RS=NS("splice"),BS=Math.max,Pm=Math.min;Sm({target:"Array",proto:!0,forced:!RS},{splice:function(l,c){var d=xm(this),f=Tm(d),p=Xa(l,f),m=arguments.length,_,b,E,S,I,T;for(m===0?_=b=0:m===1?(_=0,b=f-p):(_=m-2,b=Pm(BS(It(c),0),f-p)),$m(f+_-b),E=Ld(d,b),S=0;S<b;S++)I=p+S,I in d&&AS(E,S,d[I]);if(E.length=b,_<b){for(S=p;S<f-b;S++)I=S+b,T=S+_,I in d?d[T]=d[I]:Qa(d,T);for(S=f;S>f-b+_;S--)Qa(d,S-1)}else if(_>b)for(S=f-b;S>p;S--)I=S+b-1,T=S+_-1,I in d?d[T]=d[I]:Qa(d,T);for(S=0;S<_;S++)d[S+p]=arguments[S+2];return Im(d,f-b+_),E}});var Cm=gt,FS=Cm("Array","splice"),jS=We,zS=FS,Hd=Array.prototype,Dm=function(a){var l=a.splice;return a===Hd||jS(Hd,a)&&l===Hd.splice?zS:l},iu=Dm,LS=iu,Mm=LS,Am=A(Mm),Nm=tt,HS=Ae,WS=Re,Wd=ye,Ud=ha,Rm=da,US=Ri,Vd=Nt,VS=ri,fn=Object.assign,Mr=Object.defineProperty,qS=HS([].concat),qd=!fn||Wd(function(){if(Nm&&fn({b:1},fn(Mr({},"a",{enumerable:!0,get:function(){Mr(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var a={},l={},c=Symbol("assign detection"),d="abcdefghijklmnopqrst";return a[c]=7,d.split("").forEach(function(f){l[f]=f}),fn({},a)[c]!==7||Ud(fn({},l)).join("")!==d})?function(l,c){for(var d=Vd(l),f=arguments.length,p=1,m=Rm.f,_=US.f;f>p;)for(var b=VS(arguments[p++]),E=m?qS(Ud(b),m(b)):Ud(b),S=E.length,I=0,T;S>I;)T=E[I++],(!Nm||WS(_,b,T))&&(d[T]=b[T]);return d}:fn,GS=te,Ja=qd;GS({target:"Object",stat:!0,arity:2,forced:Object.assign!==Ja},{assign:Ja});var KS=be,YS=KS.Object.assign,XS=YS,QS=XS,JS=QS,Bm=A(JS),Fm=te,ZS=ye,ex=Nt,Gd=fi,tx=lg,nu=ZS(function(){Gd(1)});Fm({target:"Object",stat:!0,forced:nu,sham:!tx},{getPrototypeOf:function(l){return Gd(ex(l))}});var jm=be,Kd=jm.Object.getPrototypeOf,rx=Kd,ix=rx,Yd=te,nx=tt,ox=Qt;Yd({target:"Object",stat:!0,sham:!nx},{create:ox});var ax=be,sx=ax.Object,lx=function(l,c){return sx.create(l,c)},ux=lx,zm=ux,hx=zm,cx=A(hx),Xd=be,dx=Ai;Xd.JSON||(Xd.JSON={stringify:JSON.stringify});var fx=function(l,c,d){return dx(Xd.JSON.stringify,null,arguments)},vx=fx,px=vx,gx=px,yx=A(gx),Qd=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",mx=TypeError,ou=function(a,l){if(a<l)throw new mx("Not enough arguments");return a},Lm=J,bx=Ai,wx=Ne,Hm=Qd,_x=jr,Ex=wa,Wm=ou,kx=Lm.Function,Ox=/MSIE .\./.test(_x)||Hm&&function(){var a=Lm.Bun.version.split(".");return a.length<3||a[0]==="0"&&(a[1]<3||a[1]==="3"&&a[2]==="0")}(),Um=function(a,l){var c=l?2:1;return Ox?function(d,f){var p=Wm(arguments.length,1)>c,m=wx(d)?d:kx(d),_=p?Ex(arguments,c):[],b=p?function(){bx(m,this,_)}:m;return l?a(b,f):a(b)}:a},Sx=te,Vm=J,qm=Um,Gm=qm(Vm.setInterval,!0);Sx({global:!0,bind:!0,forced:Vm.setInterval!==Gm},{setInterval:Gm});var Za=te,Jd=J,Km=Um,au=Km(Jd.setTimeout,!0);Za({global:!0,bind:!0,forced:Jd.setTimeout!==au},{setTimeout:au});var Ym=be,Xm=Ym.setTimeout,xx=Xm,Zd=A(xx),Qm={exports:{}};(function(a){function l(d){if(d)return c(d);this._callbacks=new Map}function c(d){return Object.assign(d,l.prototype),d._callbacks=new Map,d}l.prototype.on=function(d,f){var m;let p=(m=this._callbacks.get(d))!=null?m:[];return p.push(f),this._callbacks.set(d,p),this},l.prototype.once=function(d,f){let p=(...m)=>{this.off(d,p),f.apply(this,m)};return p.fn=f,this.on(d,p),this},l.prototype.off=function(d,f){if(d===void 0&&f===void 0)return this._callbacks.clear(),this;if(f===void 0)return this._callbacks.delete(d),this;let p=this._callbacks.get(d);if(p){for(let[m,_]of p.entries())if(_===f||_.fn===f){p.splice(m,1);break}p.length===0?this._callbacks.delete(d):this._callbacks.set(d,p)}return this},l.prototype.emit=function(d,...f){let p=this._callbacks.get(d);if(p){let m=[...p];for(let _ of m)_.apply(this,f)}return this},l.prototype.listeners=function(d){var f;return(f=this._callbacks.get(d))!=null?f:[]},l.prototype.listenerCount=function(d){if(d)return this.listeners(d).length;let f=0;for(let p of this._callbacks.values())f+=p.length;return f},l.prototype.hasListeners=function(d){return this.listenerCount(d)>0},l.prototype.addEventListener=l.prototype.on,l.prototype.removeListener=l.prototype.off,l.prototype.removeEventListener=l.prototype.off,l.prototype.removeAllListeners=l.prototype.off,a.exports=l})(Qm);var Tx=Qm.exports,vn=A(Tx);function pr(){return pr=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var c=arguments[l];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},pr.apply(this,arguments)}function rr(a,l){a.prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l}function su(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}var ef;typeof Object.assign!="function"?ef=function(l){if(l==null)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(l),d=1;d<arguments.length;d++){var f=arguments[d];if(f!=null)for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])}return c}:ef=Object.assign;var Gr=ef,Jm=["","webkit","Moz","MS","ms","o"],Ix=typeof document=="undefined"?{style:{}}:document.createElement("div"),Oi="function",pn=Math.round,gn=Math.abs,tf=Date.now;function lu(a,l){for(var c,d,f=l[0].toUpperCase()+l.slice(1),p=0;p<Jm.length;){if(c=Jm[p],d=c?c+f:l,d in a)return d;p++}}var Ar;typeof window=="undefined"?Ar={}:Ar=window;var rf=lu(Ix.style,"touchAction"),nf=rf!==void 0;function $x(){if(!nf)return!1;var a={},l=Ar.CSS&&Ar.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(c){return a[c]=l?Ar.CSS.supports("touch-action",c):!0}),a}var of="compute",Kr="auto",af="manipulation",yn="none",es="pan-x",ts="pan-y",gr=$x(),Zm=/mobile|tablet|ip(ad|hone|od)|android/i,eb="ontouchstart"in Ar,Px=lu(Ar,"PointerEvent")!==void 0,tb=eb&&Zm.test(navigator.userAgent),xo="touch",Cx="pen",To="mouse",uu="kinect",hu=25,Et=1,mn=2,Je=4,Ht=8,cu=1,rs=2,Si=4,Io=8,bn=16,yr=rs|Si,xi=Io|bn,rb=yr|xi,ib=["x","y"],du=["clientX","clientY"];function Yr(a,l,c){var d;if(a)if(a.forEach)a.forEach(l,c);else if(a.length!==void 0)for(d=0;d<a.length;)l.call(c,a[d],d,a),d++;else for(d in a)a.hasOwnProperty(d)&&l.call(c,a[d],d,a)}function fu(a,l){return typeof a===Oi?a.apply(l&&l[0]||void 0,l):a}function wn(a,l){return a.indexOf(l)>-1}function sf(a){if(wn(a,yn))return yn;var l=wn(a,es),c=wn(a,ts);return l&&c?yn:l||c?l?es:ts:wn(a,af)?af:Kr}var vu=function(){function a(c,d){this.manager=c,this.set(d)}var l=a.prototype;return l.set=function(d){d===of&&(d=this.compute()),nf&&this.manager.element.style&&gr[d]&&(this.manager.element.style[rf]=d),this.actions=d.toLowerCase().trim()},l.update=function(){this.set(this.manager.options.touchAction)},l.compute=function(){var d=[];return Yr(this.manager.recognizers,function(f){fu(f.options.enable,[f])&&(d=d.concat(f.getTouchAction()))}),sf(d.join(" "))},l.preventDefaults=function(d){var f=d.srcEvent,p=d.offsetDirection;if(this.manager.session.prevented){f.preventDefault();return}var m=this.actions,_=wn(m,yn)&&!gr[yn],b=wn(m,ts)&&!gr[ts],E=wn(m,es)&&!gr[es];if(_){var S=d.pointers.length===1,I=d.distance<2,T=d.deltaTime<250;if(S&&I&&T)return}if(!(E&&b)&&(_||b&&p&yr||E&&p&xi))return this.preventSrc(f)},l.preventSrc=function(d){this.manager.session.prevented=!0,d.preventDefault()},a}();function $o(a,l){for(;a;){if(a===l)return!0;a=a.parentNode}return!1}function lf(a){var l=a.length;if(l===1)return{x:pn(a[0].clientX),y:pn(a[0].clientY)};for(var c=0,d=0,f=0;f<l;)c+=a[f].clientX,d+=a[f].clientY,f++;return{x:pn(c/l),y:pn(d/l)}}function nb(a){for(var l=[],c=0;c<a.pointers.length;)l[c]={clientX:pn(a.pointers[c].clientX),clientY:pn(a.pointers[c].clientY)},c++;return{timeStamp:tf(),pointers:l,center:lf(l),deltaX:a.deltaX,deltaY:a.deltaY}}function pu(a,l,c){c||(c=ib);var d=l[c[0]]-a[c[0]],f=l[c[1]]-a[c[1]];return Math.sqrt(d*d+f*f)}function uf(a,l,c){c||(c=ib);var d=l[c[0]]-a[c[0]],f=l[c[1]]-a[c[1]];return Math.atan2(f,d)*180/Math.PI}function ob(a,l){return a===l?cu:gn(a)>=gn(l)?a<0?rs:Si:l<0?Io:bn}function Dx(a,l){var c=l.center,d=a.offsetDelta||{},f=a.prevDelta||{},p=a.prevInput||{};(l.eventType===Et||p.eventType===Je)&&(f=a.prevDelta={x:p.deltaX||0,y:p.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),l.deltaX=f.x+(c.x-d.x),l.deltaY=f.y+(c.y-d.y)}function gu(a,l,c){return{x:l/a||0,y:c/a||0}}function Mx(a,l){return pu(l[0],l[1],du)/pu(a[0],a[1],du)}function Ax(a,l){return uf(l[1],l[0],du)+uf(a[1],a[0],du)}function ab(a,l){var c=a.lastInterval||l,d=l.timeStamp-c.timeStamp,f,p,m,_;if(l.eventType!==Ht&&(d>hu||c.velocity===void 0)){var b=l.deltaX-c.deltaX,E=l.deltaY-c.deltaY,S=gu(d,b,E);p=S.x,m=S.y,f=gn(S.x)>gn(S.y)?S.x:S.y,_=ob(b,E),a.lastInterval=l}else f=c.velocity,p=c.velocityX,m=c.velocityY,_=c.direction;l.velocity=f,l.velocityX=p,l.velocityY=m,l.direction=_}function Nx(a,l){var c=a.session,d=l.pointers,f=d.length;c.firstInput||(c.firstInput=nb(l)),f>1&&!c.firstMultiple?c.firstMultiple=nb(l):f===1&&(c.firstMultiple=!1);var p=c.firstInput,m=c.firstMultiple,_=m?m.center:p.center,b=l.center=lf(d);l.timeStamp=tf(),l.deltaTime=l.timeStamp-p.timeStamp,l.angle=uf(_,b),l.distance=pu(_,b),Dx(c,l),l.offsetDirection=ob(l.deltaX,l.deltaY);var E=gu(l.deltaTime,l.deltaX,l.deltaY);l.overallVelocityX=E.x,l.overallVelocityY=E.y,l.overallVelocity=gn(E.x)>gn(E.y)?E.x:E.y,l.scale=m?Mx(m.pointers,d):1,l.rotation=m?Ax(m.pointers,d):0,l.maxPointers=c.prevInput?l.pointers.length>c.prevInput.maxPointers?l.pointers.length:c.prevInput.maxPointers:l.pointers.length,ab(c,l);var S=a.element,I=l.srcEvent,T;I.composedPath?T=I.composedPath()[0]:I.path?T=I.path[0]:T=I.target,$o(T,S)&&(S=T),l.target=S}function Rx(a,l,c){var d=c.pointers.length,f=c.changedPointers.length,p=l&Et&&d-f===0,m=l&(Je|Ht)&&d-f===0;c.isFirst=!!p,c.isFinal=!!m,p&&(a.session={}),c.eventType=l,Nx(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function Po(a){return a.trim().split(/\s+/g)}function is(a,l,c){Yr(Po(l),function(d){a.addEventListener(d,c,!1)})}function Xr(a,l,c){Yr(Po(l),function(d){a.removeEventListener(d,c,!1)})}function hf(a){var l=a.ownerDocument||a;return l.defaultView||l.parentWindow||window}var Co=function(){function a(c,d){var f=this;this.manager=c,this.callback=d,this.element=c.element,this.target=c.options.inputTarget,this.domHandler=function(p){fu(c.options.enable,[c])&&f.handler(p)},this.init()}var l=a.prototype;return l.handler=function(){},l.init=function(){this.evEl&&is(this.element,this.evEl,this.domHandler),this.evTarget&&is(this.target,this.evTarget,this.domHandler),this.evWin&&is(hf(this.element),this.evWin,this.domHandler)},l.destroy=function(){this.evEl&&Xr(this.element,this.evEl,this.domHandler),this.evTarget&&Xr(this.target,this.evTarget,this.domHandler),this.evWin&&Xr(hf(this.element),this.evWin,this.domHandler)},a}();function _n(a,l,c){if(a.indexOf&&!c)return a.indexOf(l);for(var d=0;d<a.length;){if(c&&a[d][c]==l||!c&&a[d]===l)return d;d++}return-1}var Bx={pointerdown:Et,pointermove:mn,pointerup:Je,pointercancel:Ht,pointerout:Ht},Fx={2:xo,3:Cx,4:To,5:uu},yu="pointerdown",sb="pointermove pointerup pointercancel";Ar.MSPointerEvent&&!Ar.PointerEvent&&(yu="MSPointerDown",sb="MSPointerMove MSPointerUp MSPointerCancel");var cf=function(a){rr(l,a);function l(){var d,f=l.prototype;return f.evEl=yu,f.evWin=sb,d=a.apply(this,arguments)||this,d.store=d.manager.session.pointerEvents=[],d}var c=l.prototype;return c.handler=function(f){var p=this.store,m=!1,_=f.type.toLowerCase().replace("ms",""),b=Bx[_],E=Fx[f.pointerType]||f.pointerType,S=E===xo,I=_n(p,f.pointerId,"pointerId");b&Et&&(f.button===0||S)?I<0&&(p.push(f),I=p.length-1):b&(Je|Ht)&&(m=!0),!(I<0)&&(p[I]=f,this.callback(this.manager,b,{pointers:p,changedPointers:[f],pointerType:E,srcEvent:f}),m&&p.splice(I,1))},l}(Co);function ns(a){return Array.prototype.slice.call(a,0)}function mu(a,l,c){for(var d=[],f=[],p=0;p<a.length;){var m=l?a[p][l]:a[p];_n(f,m)<0&&d.push(a[p]),f[p]=m,p++}return c&&(l?d=d.sort(function(_,b){return _[l]>b[l]}):d=d.sort()),d}var jx={touchstart:Et,touchmove:mn,touchend:Je,touchcancel:Ht},lb="touchstart touchmove touchend touchcancel",os=function(a){rr(l,a);function l(){var d;return l.prototype.evTarget=lb,d=a.apply(this,arguments)||this,d.targetIds={},d}var c=l.prototype;return c.handler=function(f){var p=jx[f.type],m=zx.call(this,f,p);m&&this.callback(this.manager,p,{pointers:m[0],changedPointers:m[1],pointerType:xo,srcEvent:f})},l}(Co);function zx(a,l){var c=ns(a.touches),d=this.targetIds;if(l&(Et|mn)&&c.length===1)return d[c[0].identifier]=!0,[c,c];var f,p,m=ns(a.changedTouches),_=[],b=this.target;if(p=c.filter(function(E){return $o(E.target,b)}),l===Et)for(f=0;f<p.length;)d[p[f].identifier]=!0,f++;for(f=0;f<m.length;)d[m[f].identifier]&&_.push(m[f]),l&(Je|Ht)&&delete d[m[f].identifier],f++;if(_.length)return[mu(p.concat(_),"identifier",!0),_]}var Lx={mousedown:Et,mousemove:mn,mouseup:Je},ub="mousedown",hb="mousemove mouseup",bu=function(a){rr(l,a);function l(){var d,f=l.prototype;return f.evEl=ub,f.evWin=hb,d=a.apply(this,arguments)||this,d.pressed=!1,d}var c=l.prototype;return c.handler=function(f){var p=Lx[f.type];p&Et&&f.button===0&&(this.pressed=!0),p&mn&&f.which!==1&&(p=Je),this.pressed&&(p&Je&&(this.pressed=!1),this.callback(this.manager,p,{pointers:[f],changedPointers:[f],pointerType:To,srcEvent:f}))},l}(Co),M=2500,cb=25;function wu(a){var l=a.changedPointers,c=l[0];if(c.identifier===this.primaryTouch){var d={x:c.clientX,y:c.clientY},f=this.lastTouches;this.lastTouches.push(d);var p=function(){var _=f.indexOf(d);_>-1&&f.splice(_,1)};setTimeout(p,M)}}function df(a,l){a&Et?(this.primaryTouch=l.changedPointers[0].identifier,wu.call(this,l)):a&(Je|Ht)&&wu.call(this,l)}function ff(a){for(var l=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var f=this.lastTouches[d],p=Math.abs(l-f.x),m=Math.abs(c-f.y);if(p<=cb&&m<=cb)return!0}return!1}var Ee=function(){var a=function(l){rr(c,l);function c(f,p){var m;return m=l.call(this,f,p)||this,m.handler=function(_,b,E){var S=E.pointerType===xo,I=E.pointerType===To;if(!(I&&E.sourceCapabilities&&E.sourceCapabilities.firesTouchEvents)){if(S)df.call(su(su(m)),b,E);else if(I&&ff.call(su(su(m)),E))return;m.callback(_,b,E)}},m.touch=new os(m.manager,m.handler),m.mouse=new bu(m.manager,m.handler),m.primaryTouch=null,m.lastTouches=[],m}var d=c.prototype;return d.destroy=function(){this.touch.destroy(),this.mouse.destroy()},c}(Co);return a}();function Oe(a){var l,c=a.options.inputClass;return c?l=c:Px?l=cf:tb?l=os:eb?l=Ee:l=bu,new l(a,Rx)}function En(a,l,c){return Array.isArray(a)?(Yr(a,c[l],c),!0):!1}var K=1,vt=2,Do=4,Ti=8,Qr=Ti,kn=16,Nr=32,Hx=1;function Wx(){return Hx++}function _u(a,l){var c=l.manager;return c?c.get(a):a}function db(a){return a&kn?"cancel":a&Ti?"end":a&Do?"move":a&vt?"start":""}var ir=function(){function a(c){c===void 0&&(c={}),this.options=pr({enable:!0},c),this.id=Wx(),this.manager=null,this.state=K,this.simultaneous={},this.requireFail=[]}var l=a.prototype;return l.set=function(d){return Gr(this.options,d),this.manager&&this.manager.touchAction.update(),this},l.recognizeWith=function(d){if(En(d,"recognizeWith",this))return this;var f=this.simultaneous;return d=_u(d,this),f[d.id]||(f[d.id]=d,d.recognizeWith(this)),this},l.dropRecognizeWith=function(d){return En(d,"dropRecognizeWith",this)?this:(d=_u(d,this),delete this.simultaneous[d.id],this)},l.requireFailure=function(d){if(En(d,"requireFailure",this))return this;var f=this.requireFail;return d=_u(d,this),_n(f,d)===-1&&(f.push(d),d.requireFailure(this)),this},l.dropRequireFailure=function(d){if(En(d,"dropRequireFailure",this))return this;d=_u(d,this);var f=_n(this.requireFail,d);return f>-1&&this.requireFail.splice(f,1),this},l.hasRequireFailures=function(){return this.requireFail.length>0},l.canRecognizeWith=function(d){return!!this.simultaneous[d.id]},l.emit=function(d){var f=this,p=this.state;function m(_){f.manager.emit(_,d)}p<Ti&&m(f.options.event+db(p)),m(f.options.event),d.additionalEvent&&m(d.additionalEvent),p>=Ti&&m(f.options.event+db(p))},l.tryEmit=function(d){if(this.canEmit())return this.emit(d);this.state=Nr},l.canEmit=function(){for(var d=0;d<this.requireFail.length;){if(!(this.requireFail[d].state&(Nr|K)))return!1;d++}return!0},l.recognize=function(d){var f=Gr({},d);if(!fu(this.options.enable,[this,f])){this.reset(),this.state=Nr;return}this.state&(Qr|kn|Nr)&&(this.state=K),this.state=this.process(f),this.state&(vt|Do|Ti|kn)&&this.tryEmit(f)},l.process=function(d){},l.getTouchAction=function(){},l.reset=function(){},a}(),Eu=function(a){rr(l,a);function l(d){var f;return d===void 0&&(d={}),f=a.call(this,pr({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},d))||this,f.pTime=!1,f.pCenter=!1,f._timer=null,f._input=null,f.count=0,f}var c=l.prototype;return c.getTouchAction=function(){return[af]},c.process=function(f){var p=this,m=this.options,_=f.pointers.length===m.pointers,b=f.distance<m.threshold,E=f.deltaTime<m.time;if(this.reset(),f.eventType&Et&&this.count===0)return this.failTimeout();if(b&&E&&_){if(f.eventType!==Je)return this.failTimeout();var S=this.pTime?f.timeStamp-this.pTime<m.interval:!0,I=!this.pCenter||pu(this.pCenter,f.center)<m.posThreshold;this.pTime=f.timeStamp,this.pCenter=f.center,!I||!S?this.count=1:this.count+=1,this._input=f;var T=this.count%m.taps;if(T===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){p.state=Qr,p.tryEmit()},m.interval),vt):Qr}return Nr},c.failTimeout=function(){var f=this;return this._timer=setTimeout(function(){f.state=Nr},this.options.interval),Nr},c.reset=function(){clearTimeout(this._timer)},c.emit=function(){this.state===Qr&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},l}(ir),Mo=function(a){rr(l,a);function l(d){return d===void 0&&(d={}),a.call(this,pr({pointers:1},d))||this}var c=l.prototype;return c.attrTest=function(f){var p=this.options.pointers;return p===0||f.pointers.length===p},c.process=function(f){var p=this.state,m=f.eventType,_=p&(vt|Do),b=this.attrTest(f);return _&&(m&Ht||!b)?p|kn:_||b?m&Je?p|Ti:p&vt?p|Do:vt:Nr},l}(ir);function fb(a){return a===bn?"down":a===Io?"up":a===rs?"left":a===Si?"right":""}var vf=function(a){rr(l,a);function l(d){var f;return d===void 0&&(d={}),f=a.call(this,pr({event:"pan",threshold:10,pointers:1,direction:rb},d))||this,f.pX=null,f.pY=null,f}var c=l.prototype;return c.getTouchAction=function(){var f=this.options.direction,p=[];return f&yr&&p.push(ts),f&xi&&p.push(es),p},c.directionTest=function(f){var p=this.options,m=!0,_=f.distance,b=f.direction,E=f.deltaX,S=f.deltaY;return b&p.direction||(p.direction&yr?(b=E===0?cu:E<0?rs:Si,m=E!==this.pX,_=Math.abs(f.deltaX)):(b=S===0?cu:S<0?Io:bn,m=S!==this.pY,_=Math.abs(f.deltaY))),f.direction=b,m&&_>p.threshold&&b&p.direction},c.attrTest=function(f){return Mo.prototype.attrTest.call(this,f)&&(this.state&vt||!(this.state&vt)&&this.directionTest(f))},c.emit=function(f){this.pX=f.deltaX,this.pY=f.deltaY;var p=fb(f.direction);p&&(f.additionalEvent=this.options.event+p),a.prototype.emit.call(this,f)},l}(Mo),vb=function(a){rr(l,a);function l(d){return d===void 0&&(d={}),a.call(this,pr({event:"swipe",threshold:10,velocity:.3,direction:yr|xi,pointers:1},d))||this}var c=l.prototype;return c.getTouchAction=function(){return vf.prototype.getTouchAction.call(this)},c.attrTest=function(f){var p=this.options.direction,m;return p&(yr|xi)?m=f.overallVelocity:p&yr?m=f.overallVelocityX:p&xi&&(m=f.overallVelocityY),a.prototype.attrTest.call(this,f)&&p&f.offsetDirection&&f.distance>this.options.threshold&&f.maxPointers===this.options.pointers&&gn(m)>this.options.velocity&&f.eventType&Je},c.emit=function(f){var p=fb(f.offsetDirection);p&&this.manager.emit(this.options.event+p,f),this.manager.emit(this.options.event,f)},l}(Mo),pb=function(a){rr(l,a);function l(d){return d===void 0&&(d={}),a.call(this,pr({event:"pinch",threshold:0,pointers:2},d))||this}var c=l.prototype;return c.getTouchAction=function(){return[yn]},c.attrTest=function(f){return a.prototype.attrTest.call(this,f)&&(Math.abs(f.scale-1)>this.options.threshold||this.state&vt)},c.emit=function(f){if(f.scale!==1){var p=f.scale<1?"in":"out";f.additionalEvent=this.options.event+p}a.prototype.emit.call(this,f)},l}(Mo),gb=function(a){rr(l,a);function l(d){return d===void 0&&(d={}),a.call(this,pr({event:"rotate",threshold:0,pointers:2},d))||this}var c=l.prototype;return c.getTouchAction=function(){return[yn]},c.attrTest=function(f){return a.prototype.attrTest.call(this,f)&&(Math.abs(f.rotation)>this.options.threshold||this.state&vt)},l}(Mo),yb=function(a){rr(l,a);function l(d){var f;return d===void 0&&(d={}),f=a.call(this,pr({event:"press",pointers:1,time:251,threshold:9},d))||this,f._timer=null,f._input=null,f}var c=l.prototype;return c.getTouchAction=function(){return[Kr]},c.process=function(f){var p=this,m=this.options,_=f.pointers.length===m.pointers,b=f.distance<m.threshold,E=f.deltaTime>m.time;if(this._input=f,!b||!_||f.eventType&(Je|Ht)&&!E)this.reset();else if(f.eventType&Et)this.reset(),this._timer=setTimeout(function(){p.state=Qr,p.tryEmit()},m.time);else if(f.eventType&Je)return Qr;return Nr},c.reset=function(){clearTimeout(this._timer)},c.emit=function(f){this.state===Qr&&(f&&f.eventType&Je?this.manager.emit(this.options.event+"up",f):(this._input.timeStamp=tf(),this.manager.emit(this.options.event,this._input)))},l}(ir),mb={domEvents:!1,touchAction:of,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},bb=[[gb,{enable:!1}],[pb,{enable:!1},["rotate"]],[vb,{direction:yr}],[vf,{direction:yr},["swipe"]],[Eu],[Eu,{event:"doubletap",taps:2},["tap"]],[yb]],Ux=1,wb=2;function _b(a,l){var c=a.element;if(c.style){var d;Yr(a.options.cssProps,function(f,p){d=lu(c.style,p),l?(a.oldCssProps[d]=c.style[d],c.style[d]=f):c.style[d]=a.oldCssProps[d]||""}),l||(a.oldCssProps={})}}function Vx(a,l){var c=document.createEvent("Event");c.initEvent(a,!0,!0),c.gesture=l,l.target.dispatchEvent(c)}var Eb=function(){function a(c,d){var f=this;this.options=Gr({},mb,d||{}),this.options.inputTarget=this.options.inputTarget||c,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=c,this.input=Oe(this),this.touchAction=new vu(this,this.options.touchAction),_b(this,!0),Yr(this.options.recognizers,function(p){var m=f.add(new p[0](p[1]));p[2]&&m.recognizeWith(p[2]),p[3]&&m.requireFailure(p[3])},this)}var l=a.prototype;return l.set=function(d){return Gr(this.options,d),d.touchAction&&this.touchAction.update(),d.inputTarget&&(this.input.destroy(),this.input.target=d.inputTarget,this.input.init()),this},l.stop=function(d){this.session.stopped=d?wb:Ux},l.recognize=function(d){var f=this.session;if(!f.stopped){this.touchAction.preventDefaults(d);var p,m=this.recognizers,_=f.curRecognizer;(!_||_&&_.state&Qr)&&(f.curRecognizer=null,_=null);for(var b=0;b<m.length;)p=m[b],f.stopped!==wb&&(!_||p===_||p.canRecognizeWith(_))?p.recognize(d):p.reset(),!_&&p.state&(vt|Do|Ti)&&(f.curRecognizer=p,_=p),b++}},l.get=function(d){if(d instanceof ir)return d;for(var f=this.recognizers,p=0;p<f.length;p++)if(f[p].options.event===d)return f[p];return null},l.add=function(d){if(En(d,"add",this))return this;var f=this.get(d.options.event);return f&&this.remove(f),this.recognizers.push(d),d.manager=this,this.touchAction.update(),d},l.remove=function(d){if(En(d,"remove",this))return this;var f=this.get(d);if(d){var p=this.recognizers,m=_n(p,f);m!==-1&&(p.splice(m,1),this.touchAction.update())}return this},l.on=function(d,f){if(d===void 0||f===void 0)return this;var p=this.handlers;return Yr(Po(d),function(m){p[m]=p[m]||[],p[m].push(f)}),this},l.off=function(d,f){if(d===void 0)return this;var p=this.handlers;return Yr(Po(d),function(m){f?p[m]&&p[m].splice(_n(p[m],f),1):delete p[m]}),this},l.emit=function(d,f){this.options.domEvents&&Vx(d,f);var p=this.handlers[d]&&this.handlers[d].slice();if(!(!p||!p.length)){f.type=d,f.preventDefault=function(){f.srcEvent.preventDefault()};for(var m=0;m<p.length;)p[m](f),m++}},l.destroy=function(){this.element&&_b(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},a}(),qx={touchstart:Et,touchmove:mn,touchend:Je,touchcancel:Ht},Gx="touchstart",Kx="touchstart touchmove touchend touchcancel",Yx=function(a){rr(l,a);function l(){var d,f=l.prototype;return f.evTarget=Gx,f.evWin=Kx,d=a.apply(this,arguments)||this,d.started=!1,d}var c=l.prototype;return c.handler=function(f){var p=qx[f.type];if(p===Et&&(this.started=!0),!!this.started){var m=Xx.call(this,f,p);p&(Je|Ht)&&m[0].length-m[1].length===0&&(this.started=!1),this.callback(this.manager,p,{pointers:m[0],changedPointers:m[1],pointerType:xo,srcEvent:f})}},l}(Co);function Xx(a,l){var c=ns(a.touches),d=ns(a.changedTouches);return l&(Je|Ht)&&(c=mu(c.concat(d),"identifier",!0)),[c,d]}function kb(a,l,c){var d="DEPRECATED METHOD: "+l+`
`+c+` AT 
`;return function(){var f=new Error("get-stack-trace"),p=f&&f.stack?f.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",m=window.console&&(window.console.warn||window.console.log);return m&&m.call(window.console,d,p),a.apply(this,arguments)}}var Ob=kb(function(a,l,c){for(var d=Object.keys(l),f=0;f<d.length;)(!c||c&&a[d[f]]===void 0)&&(a[d[f]]=l[d[f]]),f++;return a},"extend","Use `assign`."),Qx=kb(function(a,l){return Ob(a,l,!0)},"merge","Use `assign`.");function Jx(a,l,c){var d=l.prototype,f;f=a.prototype=Object.create(d),f.constructor=a,f._super=d,c&&Gr(f,c)}function Sb(a,l){return function(){return a.apply(l,arguments)}}var Zx=function(){var a=function(c,d){return d===void 0&&(d={}),new Eb(c,pr({recognizers:bb.concat()},d))};return a.VERSION="2.0.17-rc",a.DIRECTION_ALL=rb,a.DIRECTION_DOWN=bn,a.DIRECTION_LEFT=rs,a.DIRECTION_RIGHT=Si,a.DIRECTION_UP=Io,a.DIRECTION_HORIZONTAL=yr,a.DIRECTION_VERTICAL=xi,a.DIRECTION_NONE=cu,a.DIRECTION_DOWN=bn,a.INPUT_START=Et,a.INPUT_MOVE=mn,a.INPUT_END=Je,a.INPUT_CANCEL=Ht,a.STATE_POSSIBLE=K,a.STATE_BEGAN=vt,a.STATE_CHANGED=Do,a.STATE_ENDED=Ti,a.STATE_RECOGNIZED=Qr,a.STATE_CANCELLED=kn,a.STATE_FAILED=Nr,a.Manager=Eb,a.Input=Co,a.TouchAction=vu,a.TouchInput=os,a.MouseInput=bu,a.PointerEventInput=cf,a.TouchMouseInput=Ee,a.SingleTouchInput=Yx,a.Recognizer=ir,a.AttrRecognizer=Mo,a.Tap=Eu,a.Pan=vf,a.Swipe=vb,a.Pinch=pb,a.Rotate=gb,a.Press=yb,a.on=is,a.off=Xr,a.each=Yr,a.merge=Qx,a.extend=Ob,a.bindFn=Sb,a.assign=Gr,a.inherit=Jx,a.bindFn=Sb,a.prefixed=lu,a.toArray=ns,a.inArray=_n,a.uniqueArray=mu,a.splitStr=Po,a.boolOrFn=fu,a.hasParent=$o,a.addEventListeners=is,a.removeEventListeners=Xr,a.defaults=Gr({},mb,{preset:bb}),a}(),eT=Zx;function xb(a,l){var c=typeof qa!="undefined"&&jl(a)||a["@@iterator"];if(!c){if(yt(a)||(c=Tb(a))||l&&a&&typeof a.length=="number"){c&&(a=c);var d=0,f=function(){};return{s:f,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(E){throw E},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p=!0,m=!1,_;return{s:function(){c=c.call(a)},n:function(){var E=c.next();return p=E.done,E},e:function(E){m=!0,_=E},f:function(){try{!p&&c.return!=null&&c.return()}finally{if(m)throw _}}}}function Tb(a,l){var c;if(a){if(typeof a=="string")return pf(a,l);var d=cn(c=Object.prototype.toString.call(a)).call(c,8,-1);if(d==="Object"&&a.constructor&&(d=a.constructor.name),d==="Map"||d==="Set")return Bl(a);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return pf(a,l)}}function pf(a,l){(l==null||l>a.length)&&(l=a.length);for(var c=0,d=new Array(l);c<l;c++)d[c]=a[c];return d}var $t=qa("DELETE");function tT(a){for(var l,c=arguments.length,d=new Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return gf.apply(void 0,Ga(l=[{},a]).call(l,d))}function gf(){var a=ku.apply(void 0,arguments);return Ib(a),a}function ku(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];if(l.length<2)return l[0];if(l.length>2){var d;return ku.apply(void 0,Ga(d=[gf(l[0],l[1])]).call(d,_t(cn(l).call(l,2))))}var f=l[0],p=l[1];if(f instanceof Date&&p instanceof Date)return f.setTime(p.getTime()),f;var m=xb(vm(p)),_;try{for(m.s();!(_=m.n()).done;){var b=_.value;Object.prototype.propertyIsEnumerable.call(p,b)&&(p[b]===$t?delete f[b]:f[b]!==null&&p[b]!==null&&typeof f[b]=="object"&&typeof p[b]=="object"&&!yt(f[b])&&!yt(p[b])?f[b]=ku(f[b],p[b]):f[b]=yf(p[b]))}}catch(E){m.e(E)}finally{m.f()}return f}function yf(a){return yt(a)?Ot(a).call(a,function(l){return yf(l)}):typeof a=="object"&&a!==null?a instanceof Date?new Date(a.getTime()):ku({},a):a}function Ib(a){for(var l=0,c=Rd(a);l<c.length;l++){var d=c[l];a[d]===$t?delete a[d]:typeof a[d]=="object"&&a[d]!==null&&Ib(a[d])}}function rT(){var a=function(){};return{on:a,off:a,destroy:a,emit:a,get(){return{set:a}}}}var iT=typeof window!="undefined"?window.Hammer||eT:function(){return rT()};function Jr(a){var l=this,c;this._cleanupQueue=[],this.active=!1,this._dom={container:a,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){l._dom.overlay.parentNode.removeChild(l._dom.overlay)});var d=iT(this._dom.overlay);d.on("tap",tn(c=this._onTapOverlay).call(c,this)),this._cleanupQueue.push(function(){d.destroy()});var f=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Dr(f).call(f,function(p){d.on(p,function(m){m.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(p){nT(p.target,a)||l.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",l._onClick)})),this._escListener=function(p){("key"in p?p.key==="Escape":p.keyCode===27)&&l.deactivate()}}vn(Jr.prototype),Jr.current=null,Jr.prototype.destroy=function(){var a,l;this.deactivate();var c=xb(Em(a=Am(l=this._cleanupQueue).call(l,0)).call(a)),d;try{for(c.s();!(d=c.n()).done;){var f=d.value;f()}}catch(p){c.e(p)}finally{c.f()}},Jr.prototype.activate=function(){Jr.current&&Jr.current.deactivate(),Jr.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Jr.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Jr.prototype._onTapOverlay=function(a){this.activate(),a.srcEvent.stopPropagation()};function nT(a,l){for(;a;){if(a===l)return!0;a=a.parentNode}return!1}var oT=Ys,$b=Fn,aT=TypeError,as=function(a){if(oT(a))return a;throw new aT($b(a)+" is not a constructor")},sT=te,Pb=bt,mf=Ai,lT=en,Cb=as,Db=Y,Ge=at,uT=Qt,Mb=ye,bf=Pb("Reflect","construct"),hT=Object.prototype,cT=[].push,Ab=Mb(function(){function a(){}return!(bf(function(){},[],a)instanceof a)}),Nb=!Mb(function(){bf(function(){})}),Rb=Ab||Nb;sT({target:"Reflect",stat:!0,forced:Rb,sham:Rb},{construct:function(l,c){Cb(l),Db(c);var d=arguments.length<3?l:Cb(arguments[2]);if(Nb&&!Ab)return bf(l,c,d);if(l===d){switch(c.length){case 0:return new l;case 1:return new l(c[0]);case 2:return new l(c[0],c[1]);case 3:return new l(c[0],c[1],c[2]);case 4:return new l(c[0],c[1],c[2],c[3])}var f=[null];return mf(cT,f,c),new(mf(lT,l,f))}var p=d.prototype,m=uT(Ge(p)?p:hT),_=mf(l,m,c);return Ge(_)?_:m}});var dT=be,fT=dT.Reflect.construct,vT=fT,pT=vT,Bb=pT,Zr=A(Bb),Fb=be,jb=Fb.Object.getOwnPropertySymbols,zb=jb,Lb=zb,gT=Lb,Ou=A(gT),Hb={exports:{}},Wb=te,yT=ye,Ub=ue,Vb=et.f,qb=tt,mT=!qb||yT(function(){Vb(1)});Wb({target:"Object",stat:!0,forced:mT,sham:!qb},{getOwnPropertyDescriptor:function(l,c){return Vb(Ub(l),c)}});var Gb=be,Kb=Gb.Object,Yb=Hb.exports=function(l,c){return Kb.getOwnPropertyDescriptor(l,c)};Kb.getOwnPropertyDescriptor.sham&&(Yb.sham=!0);var Ao=Hb.exports,bT=Ao,Xb=bT,wT=Xb,Qb=A(wT),wf=te,_T=tt,Su=Cr,ET=ue,kT=et,OT=qn;wf({target:"Object",stat:!0,sham:!_T},{getOwnPropertyDescriptors:function(l){for(var c=ET(l),d=kT.f,f=Su(c),p={},m=0,_,b;f.length>m;)b=d(c,_=f[m++]),b!==void 0&&OT(p,_,b);return p}});var ST=be,xT=ST.Object.getOwnPropertyDescriptors,xu=xT,TT=xu,IT=TT,pt=A(IT),_f={exports:{}},ss=te,Pt=tt,Jb=Js.f;ss({target:"Object",stat:!0,forced:Object.defineProperties!==Jb,sham:!Pt},{defineProperties:Jb});var $T=be,Zb=$T.Object,PT=_f.exports=function(l,c){return Zb.defineProperties(l,c)};Zb.defineProperties.sham&&(PT.sham=!0);var CT=_f.exports,Tu=CT,e0=Tu,DT=e0,MT=A(DT),t0=Sv,r0=A(t0);function ls(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}var i0=zm,AT=i0,On=AT,NT=On,Ef=NT,Iu=A(Ef),RT=te,BT=Ic;RT({target:"Object",stat:!0},{setPrototypeOf:BT});var FT=be,kf=FT.Object.setPrototypeOf,jT=kf,n0=jT,zT=n0,LT=zT,HT=LT,WT=HT,o0=WT,Of=A(o0),$u=ry,a0=$u,Sf=a0,us=Sf,UT=us,s0=A(UT);function Pu(a,l){var c;return Pu=Of?s0(c=Of).call(c):function(f,p){return f.__proto__=p,f},Pu(a,l)}function hs(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Iu(l&&l.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Hs(a,"prototype",{writable:!1}),l&&Pu(a,l)}function xf(a,l){if(l&&(fo(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ls(a)}var VT=ix,qT=VT,l0=qT,Cu=l0,cs=Cu,u0=A(cs);function No(a){var l;return No=Of?s0(l=u0).call(l):function(d){return d.__proto__||u0(d)},No(a)}var Ro={exports:{}},h0={exports:{}};(function(a){var l=Kc,c=Yg;function d(f){"@babel/helpers - typeof";return a.exports=d=typeof l=="function"&&typeof c=="symbol"?function(p){return typeof p}:function(p){return p&&typeof l=="function"&&p.constructor===l&&p!==l.prototype?"symbol":typeof p},a.exports.__esModule=!0,a.exports.default=a.exports,d(f)}a.exports=d,a.exports.__esModule=!0,a.exports.default=a.exports})(h0);var Du=h0.exports,c0=jd,GT=c0,d0=GT,KT=d0,f0=KT,Tf=Ke,YT=Cr,v0=et,p0=Bt,Bo=function(a,l,c){for(var d=YT(l),f=p0.f,p=v0.f,m=0;m<d.length;m++){var _=d[m];!Tf(a,_)&&!(c&&Tf(c,_))&&f(a,_,p(l,_))}},Mu=at,g0=zr,Au=function(a,l){Mu(l)&&"cause"in l&&g0(a,"cause",l.cause)},y0=Ae,Ii=Error,nr=y0("".replace),$i=function(a){return String(new Ii(a).stack)}("zxcasd"),ei=/\n\s*at [^:]*:[^\n]*/,Nu=ei.test($i),ds=function(a,l){if(Nu&&typeof a=="string"&&!Ii.prepareStackTrace)for(;l--;)a=nr(a,ei,"");return a},Me=ye,If=Fr,$f=!Me(function(){var a=new Error("a");return"stack"in a?(Object.defineProperty(a,"stack",If(1,7)),a.stack!==7):!0}),m0=zr,b0=ds,w0=$f,_0=Error.captureStackTrace,E0=function(a,l,c,d){w0&&(_0?_0(a,l):m0(a,"stack",b0(c,d)))},k0=ni,XT=Re,O0=Y,QT=Fn,Pf=wy,JT=qt,S0=We,ZT=Aa,x0=Rl,T0=md,eI=TypeError,fs=function(a,l){this.stopped=a,this.result=l},I0=fs.prototype,Sn=function(a,l,c){var d=c&&c.that,f=!!(c&&c.AS_ENTRIES),p=!!(c&&c.IS_RECORD),m=!!(c&&c.IS_ITERATOR),_=!!(c&&c.INTERRUPTED),b=k0(l,d),E,S,I,T,P,V,ne,oe=function(ve){return E&&T0(E,"normal",ve),new fs(!0,ve)},he=function(ve){return f?(O0(ve),_?b(ve[0],ve[1],oe):b(ve[0],ve[1])):_?b(ve,oe):b(ve)};if(p)E=a.iterator;else if(m)E=a;else{if(S=x0(a),!S)throw new eI(QT(a)+" is not iterable");if(Pf(S)){for(I=0,T=JT(a);T>I;I++)if(P=he(a[I]),P&&S0(I0,P))return P;return new fs(!1)}E=ZT(a,S)}for(V=p?a.next:E.next;!(ne=XT(V,E)).done;){try{P=he(ne.value)}catch(ve){T0(E,"throw",ve)}if(typeof P=="object"&&P&&S0(I0,P))return P}return new fs(!1)},$0=qi,tI=function(a,l){return a===void 0?arguments.length<2?"":l:$0(a)},rI=te,P0=We,iI=fi,vs=Ic,Cf=Bo,C0=Qt,Df=zr,Ru=Fr,nI=Au,D0=E0,M0=Sn,Pi=tI,A0=ze,oI=A0("toStringTag"),Bu=Error,aI=[].push,Fo=function(l,c){var d=P0(Fu,this),f;vs?f=vs(new Bu,d?iI(this):Fu):(f=d?this:C0(Fu),Df(f,oI,"Error")),c!==void 0&&Df(f,"message",Pi(c)),D0(f,Fo,f.stack,1),arguments.length>2&&nI(f,arguments[2]);var p=[];return M0(l,aI,{that:p}),Df(f,"errors",p),f};vs?vs(Fo,Bu):Cf(Fo,Bu,{name:!0});var Fu=Fo.prototype=C0(Bu.prototype,{constructor:Ru(1,Fo),message:Ru(1,""),name:Ru(1,"AggregateError")});rI({global:!0,constructor:!0,arity:2},{AggregateError:Fo});var sI=bt,lI=Kh,uI=ze,Mf=tt,N0=uI("species"),jo=function(a){var l=sI(a);Mf&&l&&!l[N0]&&lI(l,N0,{configurable:!0,get:function(){return this}})},hI=We,cI=TypeError,Af=function(a,l){if(hI(l,a))return a;throw new cI("Incorrect invocation")},R0=Y,dI=as,B0=An,fI=ze,vI=fI("species"),F0=function(a,l){var c=R0(a).constructor,d;return c===void 0||B0(d=R0(c)[vI])?l:dI(d)},pI=jr,j0=/(?:ipad|iphone|ipod).*applewebkit/i.test(pI),Gt=J,Nf=Ai,gI=ni,Rf=Ne,z0=Ke,Bf=ye,L0=Zs,yI=wa,H0=dh,mI=ou,bI=j0,wI=Da,ps=Gt.setImmediate,Ff=Gt.clearImmediate,W0=Gt.process,jf=Gt.Dispatch,U0=Gt.Function,V0=Gt.MessageChannel,q0=Gt.String,zf=0,gs={},G0="onreadystatechange",zo,xn,j,R;Bf(function(){zo=Gt.location});var C=function(a){if(z0(gs,a)){var l=gs[a];delete gs[a],l()}},Tn=function(a){return function(){C(a)}},X=function(a){C(a.data)},ju=function(a){Gt.postMessage(q0(a),zo.protocol+"//"+zo.host)};(!ps||!Ff)&&(ps=function(l){mI(arguments.length,1);var c=Rf(l)?l:U0(l),d=yI(arguments,1);return gs[++zf]=function(){Nf(c,void 0,d)},xn(zf),zf},Ff=function(l){delete gs[l]},wI?xn=function(a){W0.nextTick(Tn(a))}:jf&&jf.now?xn=function(a){jf.now(Tn(a))}:V0&&!bI?(j=new V0,R=j.port2,j.port1.onmessage=X,xn=gI(R.postMessage,R)):Gt.addEventListener&&Rf(Gt.postMessage)&&!Gt.importScripts&&zo&&zo.protocol!=="file:"&&!Bf(ju)?(xn=ju,Gt.addEventListener("message",X,!1)):G0 in H0("script")?xn=function(a){L0.appendChild(H0("script"))[G0]=function(){L0.removeChild(this),C(a)}}:xn=function(a){setTimeout(Tn(a),0)});var zu={set:ps,clear:Ff},Lf=function(){this.head=null,this.tail=null};Lf.prototype={add:function(a){var l={item:a,next:null},c=this.tail;c?c.next=l:this.head=l,this.tail=l},get:function(){var a=this.head;if(a){var l=this.head=a.next;return l===null&&(this.tail=null),a.item}}};var Lu=Lf,K0=jr,_I=/ipad|iphone|ipod/i.test(K0)&&typeof Pebble!="undefined",EI=jr,kI=/web0s(?!.*chrome)/i.test(EI),G=J,Y0=ni,i=et.f,e=zu.set,t=Lu,r=j0,n=_I,o=kI,s=Da,u=G.MutationObserver||G.WebKitMutationObserver,h=G.document,v=G.process,g=G.Promise,y=i(G,"queueMicrotask"),w=y&&y.value,k,O,x,$,D;if(!w){var N=new t,z=function(){var a,l;for(s&&(a=v.domain)&&a.exit();l=N.get();)try{l()}catch(c){throw N.head&&k(),c}a&&a.enter()};!r&&!s&&!o&&u&&h?(O=!0,x=h.createTextNode(""),new u(z).observe(x,{characterData:!0}),k=function(){x.data=O=!O}):!n&&g&&g.resolve?($=g.resolve(void 0),$.constructor=g,D=Y0($.then,$),k=function(){D(z)}):s?k=function(){v.nextTick(z)}:(e=Y0(e,G),k=function(){e(z)}),w=function(a){N.head||k(),N.add(a)}}var U=w,Z=function(a,l){try{arguments.length===1?console.error(a):console.error(a,l)}catch(c){}},ae=function(a){try{return{error:!1,value:a()}}catch(l){return{error:!0,value:l}}},le=J,ie=le.Promise,Q=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",Se=Q,me=Da,Te=!Se&&!me&&typeof window=="object"&&typeof document=="object",Fe=J,Be=ie,or=Ne,rt=bv,Hu=Ks,yP=ze,mP=Te,bP=Q,OI=Nn,o$=Be&&Be.prototype,wP=yP("species"),SI=!1,a$=or(Fe.PromiseRejectionEvent),_P=rt("Promise",function(){var a=Hu(Be),l=a!==String(Be);if(!l&&OI===66||!(o$.catch&&o$.finally))return!0;if(!OI||OI<51||!/native code/.test(a)){var c=new Be(function(p){p(1)}),d=function(p){p(function(){},function(){})},f=c.constructor={};if(f[wP]=d,SI=c.then(function(){})instanceof d,!SI)return!0}return!l&&(mP||bP)&&!a$}),Hf={CONSTRUCTOR:_P,REJECTION_EVENT:a$,SUBCLASSING:SI},Ci={},s$=Mt,EP=TypeError,kP=function(a){var l,c;this.promise=new a(function(d,f){if(l!==void 0||c!==void 0)throw new EP("Bad Promise constructor");l=d,c=f}),this.resolve=s$(l),this.reject=s$(c)};Ci.f=function(a){return new kP(a)};var OP=te,X0=Da,Lo=J,Wf=Re,SP=Xn,xP=Yi,TP=jo,IP=Mt,xI=Ne,$P=at,PP=Af,CP=F0,l$=zu.set,TI=U,DP=Z,MP=ae,AP=Lu,u$=Or,II=ie,$I=Hf,h$=Ci,Q0="Promise",c$=$I.CONSTRUCTOR,NP=$I.REJECTION_EVENT;$I.SUBCLASSING;var PI=u$.getterFor(Q0),RP=u$.set,BP=II&&II.prototype,Wu=II,CI=BP,d$=Lo.TypeError,DI=Lo.document,MI=Lo.process,AI=h$.f,FP=AI,jP=!!(DI&&DI.createEvent&&Lo.dispatchEvent),f$="unhandledrejection",zP="rejectionhandled",v$=0,p$=1,LP=2,NI=1,g$=2,J0,y$,HP,m$=function(a){var l;return $P(a)&&xI(l=a.then)?l:!1},b$=function(a,l){var c=l.value,d=l.state===p$,f=d?a.ok:a.fail,p=a.resolve,m=a.reject,_=a.domain,b,E,S;try{f?(d||(l.rejection===g$&&UP(l),l.rejection=NI),f===!0?b=c:(_&&_.enter(),b=f(c),_&&(_.exit(),S=!0)),b===a.promise?m(new d$("Promise-chain cycle")):(E=m$(b))?Wf(E,b,p,m):p(b)):m(c)}catch(I){_&&!S&&_.exit(),m(I)}},w$=function(a,l){a.notified||(a.notified=!0,TI(function(){for(var c=a.reactions,d;d=c.get();)b$(d,a);a.notified=!1,l&&!a.rejection&&WP(a)}))},_$=function(a,l,c){var d,f;jP?(d=DI.createEvent("Event"),d.promise=l,d.reason=c,d.initEvent(a,!1,!0),Lo.dispatchEvent(d)):d={promise:l,reason:c},!NP&&(f=Lo["on"+a])?f(d):a===f$&&DP("Unhandled promise rejection",c)},WP=function(a){Wf(l$,Lo,function(){var l=a.facade,c=a.value,d=E$(a),f;if(d&&(f=MP(function(){X0?MI.emit("unhandledRejection",c,l):_$(f$,l,c)}),a.rejection=X0||E$(a)?g$:NI,f.error))throw f.value})},E$=function(a){return a.rejection!==NI&&!a.parent},UP=function(a){Wf(l$,Lo,function(){var l=a.facade;X0?MI.emit("rejectionHandled",l):_$(zP,l,a.value)})},Uu=function(a,l,c){return function(d){a(l,d,c)}},Vu=function(a,l,c){a.done||(a.done=!0,c&&(a=c),a.value=l,a.state=LP,w$(a,!0))},RI=function(a,l,c){if(!a.done){a.done=!0,c&&(a=c);try{if(a.facade===l)throw new d$("Promise can't be resolved itself");var d=m$(l);d?TI(function(){var f={done:!1};try{Wf(d,l,Uu(RI,f,a),Uu(Vu,f,a))}catch(p){Vu(f,p,a)}}):(a.value=l,a.state=p$,w$(a,!1))}catch(f){Vu({done:!1},f,a)}}};c$&&(Wu=function(l){PP(this,CI),IP(l),Wf(J0,this);var c=PI(this);try{l(Uu(RI,c),Uu(Vu,c))}catch(d){Vu(c,d)}},CI=Wu.prototype,J0=function(l){RP(this,{type:Q0,done:!1,notified:!1,parent:!1,reactions:new AP,rejection:!1,state:v$,value:void 0})},J0.prototype=SP(CI,"then",function(l,c){var d=PI(this),f=AI(CP(this,Wu));return d.parent=!0,f.ok=xI(l)?l:!0,f.fail=xI(c)&&c,f.domain=X0?MI.domain:void 0,d.state===v$?d.reactions.add(f):TI(function(){b$(f,d)}),f.promise}),y$=function(){var a=new J0,l=PI(a);this.promise=a,this.resolve=Uu(RI,l),this.reject=Uu(Vu,l)},h$.f=AI=function(a){return a===Wu||a===HP?new y$(a):FP(a)}),OP({global:!0,constructor:!0,wrap:!0,forced:c$},{Promise:Wu}),xP(Wu,Q0,!1,!0),TP(Q0);var VP=ie,qP=kd,GP=Hf.CONSTRUCTOR,Z0=GP||!qP(function(a){VP.all(a).then(void 0,function(){})}),KP=te,YP=Re,XP=Mt,QP=Ci,JP=ae,ZP=Sn,eC=Z0;KP({target:"Promise",stat:!0,forced:eC},{all:function(l){var c=this,d=QP.f(c),f=d.resolve,p=d.reject,m=JP(function(){var _=XP(c.resolve),b=[],E=0,S=1;ZP(l,function(I){var T=E++,P=!1;S++,YP(_,c,I).then(function(V){P||(P=!0,b[T]=V,--S||f(b))},p)}),--S||f(b)});return m.error&&p(m.value),d.promise}});var tC=te,rC=Hf.CONSTRUCTOR,k$=ie;k$&&k$.prototype,tC({target:"Promise",proto:!0,forced:rC,real:!0},{catch:function(a){return this.then(void 0,a)}});var iC=te,nC=Re,oC=Mt,aC=Ci,sC=ae,lC=Sn,uC=Z0;iC({target:"Promise",stat:!0,forced:uC},{race:function(l){var c=this,d=aC.f(c),f=d.reject,p=sC(function(){var m=oC(c.resolve);lC(l,function(_){nC(m,c,_).then(d.resolve,f)})});return p.error&&f(p.value),d.promise}});var hC=te,cC=Re,dC=Ci,fC=Hf.CONSTRUCTOR;hC({target:"Promise",stat:!0,forced:fC},{reject:function(l){var c=dC.f(this);return cC(c.reject,void 0,l),c.promise}});var vC=Y,pC=at,gC=Ci,O$=function(a,l){if(vC(a),pC(l)&&l.constructor===a)return l;var c=gC.f(a),d=c.resolve;return d(l),c.promise},yC=te,mC=bt,bC=st,wC=ie,_C=Hf.CONSTRUCTOR,EC=O$,kC=mC("Promise"),OC=!_C;yC({target:"Promise",stat:!0,forced:bC},{resolve:function(l){return EC(OC&&this===kC?wC:this,l)}});var SC=te,xC=Re,TC=Mt,IC=Ci,$C=ae,PC=Sn,CC=Z0;SC({target:"Promise",stat:!0,forced:CC},{allSettled:function(l){var c=this,d=IC.f(c),f=d.resolve,p=d.reject,m=$C(function(){var _=TC(c.resolve),b=[],E=0,S=1;PC(l,function(I){var T=E++,P=!1;S++,xC(_,c,I).then(function(V){P||(P=!0,b[T]={status:"fulfilled",value:V},--S||f(b))},function(V){P||(P=!0,b[T]={status:"rejected",reason:V},--S||f(b))})}),--S||f(b)});return m.error&&p(m.value),d.promise}});var DC=te,MC=Re,AC=Mt,NC=bt,RC=Ci,BC=ae,FC=Sn,jC=Z0,S$="No one promise resolved";DC({target:"Promise",stat:!0,forced:jC},{any:function(l){var c=this,d=NC("AggregateError"),f=RC.f(c),p=f.resolve,m=f.reject,_=BC(function(){var b=AC(c.resolve),E=[],S=0,I=1,T=!1;FC(l,function(P){var V=S++,ne=!1;I++,MC(b,c,P).then(function(oe){ne||T||(T=!0,p(oe))},function(oe){ne||T||(ne=!0,E[V]=oe,--I||m(new d(E,S$)))})}),--I||m(new d(E,S$))});return _.error&&m(_.value),f.promise}});var zC=te,BI=ie,LC=ye,HC=bt,WC=Ne,UC=F0,x$=O$,VC=BI&&BI.prototype,qC=!!BI&&LC(function(){VC.finally.call({then:function(){}},function(){})});zC({target:"Promise",proto:!0,real:!0,forced:qC},{finally:function(a){var l=UC(this,HC("Promise")),c=WC(a);return this.then(c?function(d){return x$(l,a()).then(function(){return d})}:a,c?function(d){return x$(l,a()).then(function(){throw d})}:a)}});var GC=be,KC=GC.Promise,YC=KC,XC=YC,QC=te,JC=Ci;QC({target:"Promise",stat:!0},{withResolvers:function(){var l=JC.f(this);return{promise:l.promise,resolve:l.resolve,reject:l.reject}}});var ZC=XC,eD=ZC,tD=te,rD=Ci,iD=ae;tD({target:"Promise",stat:!0,forced:!0},{try:function(a){var l=rD.f(this),c=iD(a);return(c.error?l.reject:l.resolve)(c.value),l.promise}});var nD=eD,oD=nD,aD=oD,sD=zd,lD=sD,uD=lD,hD=uD,cD=hD;(function(a){var l=Du.default,c=Tv,d=Kc,f=Ef,p=cs,m=f0,_=ql,b=o0,E=aD,S=cD,I=em;function T(){a.exports=T=function(){return V},a.exports.__esModule=!0,a.exports.default=a.exports;var P,V={},ne=Object.prototype,oe=ne.hasOwnProperty,he=c||function(q,F,W){q[F]=W.value},ve=typeof d=="function"?d:{},mt=ve.iterator||"@@iterator",Ye=ve.asyncIterator||"@@asyncIterator",Dt=ve.toStringTag||"@@toStringTag";function Xe(q,F,W){return c(q,F,{value:W,enumerable:!0,configurable:!0,writable:!0}),q[F]}try{Xe({},"")}catch(q){Xe=function(W,ee,de){return W[ee]=de}}function $n(q,F,W,ee){var de=F&&F.prototype instanceof Gu?F:Gu,se=f(de.prototype),it=new i$(ee||[]);return he(se,"_invoke",{value:bN(q,W,it)}),se}function mr(q,F,W){try{return{type:"normal",arg:q.call(F,W)}}catch(ee){return{type:"throw",arg:ee}}}V.wrap=$n;var Wo="suspendedStart",qu="suspendedYield",Uo="executing",Mi="completed",Rr={};function Gu(){}function ow(){}function bs(){}var e$={};Xe(e$,mt,function(){return this});var t$=p,aw=t$&&t$(t$(n$([])));aw&&aw!==ne&&oe.call(aw,mt)&&(e$=aw);var Ku=bs.prototype=Gu.prototype=f(e$);function lP(q){var F;m(F=["next","throw","return"]).call(F,function(W){Xe(q,W,function(ee){return this._invoke(W,ee)})})}function sw(q,F){function W(de,se,it,Kt){var sr=mr(q[de],q,se);if(sr.type!=="throw"){var ws=sr.arg,Vo=ws.value;return Vo&&l(Vo)=="object"&&oe.call(Vo,"__await")?F.resolve(Vo.__await).then(function(_s){W("next",_s,it,Kt)},function(_s){W("throw",_s,it,Kt)}):F.resolve(Vo).then(function(_s){ws.value=_s,it(ws)},function(_s){return W("throw",_s,it,Kt)})}Kt(sr.arg)}var ee;he(this,"_invoke",{value:function(se,it){function Kt(){return new F(function(sr,ws){W(se,it,sr,ws)})}return ee=ee?ee.then(Kt,Kt):Kt()}})}function bN(q,F,W){var ee=Wo;return function(de,se){if(ee===Uo)throw new Error("Generator is already running");if(ee===Mi){if(de==="throw")throw se;return{value:P,done:!0}}for(W.method=de,W.arg=se;;){var it=W.delegate;if(it){var Kt=uP(it,W);if(Kt){if(Kt===Rr)continue;return Kt}}if(W.method==="next")W.sent=W._sent=W.arg;else if(W.method==="throw"){if(ee===Wo)throw ee=Mi,W.arg;W.dispatchException(W.arg)}else W.method==="return"&&W.abrupt("return",W.arg);ee=Uo;var sr=mr(q,F,W);if(sr.type==="normal"){if(ee=W.done?Mi:qu,sr.arg===Rr)continue;return{value:sr.arg,done:W.done}}sr.type==="throw"&&(ee=Mi,W.method="throw",W.arg=sr.arg)}}}function uP(q,F){var W=F.method,ee=q.iterator[W];if(ee===P)return F.delegate=null,W==="throw"&&q.iterator.return&&(F.method="return",F.arg=P,uP(q,F),F.method==="throw")||W!=="return"&&(F.method="throw",F.arg=new TypeError("The iterator does not provide a '"+W+"' method")),Rr;var de=mr(ee,q.iterator,F.arg);if(de.type==="throw")return F.method="throw",F.arg=de.arg,F.delegate=null,Rr;var se=de.arg;return se?se.done?(F[q.resultName]=se.value,F.next=q.nextLoc,F.method!=="return"&&(F.method="next",F.arg=P),F.delegate=null,Rr):se:(F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,Rr)}function wN(q){var F,W={tryLoc:q[0]};1 in q&&(W.catchLoc=q[1]),2 in q&&(W.finallyLoc=q[2],W.afterLoc=q[3]),_(F=this.tryEntries).call(F,W)}function r$(q){var F=q.completion||{};F.type="normal",delete F.arg,q.completion=F}function i$(q){this.tryEntries=[{tryLoc:"root"}],m(q).call(q,wN,this),this.reset(!0)}function n$(q){if(q||q===""){var F=q[mt];if(F)return F.call(q);if(typeof q.next=="function")return q;if(!isNaN(q.length)){var W=-1,ee=function de(){for(;++W<q.length;)if(oe.call(q,W))return de.value=q[W],de.done=!1,de;return de.value=P,de.done=!0,de};return ee.next=ee}}throw new TypeError(l(q)+" is not iterable")}return ow.prototype=bs,he(Ku,"constructor",{value:bs,configurable:!0}),he(bs,"constructor",{value:ow,configurable:!0}),ow.displayName=Xe(bs,Dt,"GeneratorFunction"),V.isGeneratorFunction=function(q){var F=typeof q=="function"&&q.constructor;return!!F&&(F===ow||(F.displayName||F.name)==="GeneratorFunction")},V.mark=function(q){return b?b(q,bs):(q.__proto__=bs,Xe(q,Dt,"GeneratorFunction")),q.prototype=f(Ku),q},V.awrap=function(q){return{__await:q}},lP(sw.prototype),Xe(sw.prototype,Ye,function(){return this}),V.AsyncIterator=sw,V.async=function(q,F,W,ee,de){de===void 0&&(de=E);var se=new sw($n(q,F,W,ee),de);return V.isGeneratorFunction(F)?se:se.next().then(function(it){return it.done?it.value:se.next()})},lP(Ku),Xe(Ku,Dt,"Generator"),Xe(Ku,mt,function(){return this}),Xe(Ku,"toString",function(){return"[object Generator]"}),V.keys=function(q){var F=Object(q),W=[];for(var ee in F)_(W).call(W,ee);return S(W).call(W),function de(){for(;W.length;){var se=W.pop();if(se in F)return de.value=se,de.done=!1,de}return de.done=!0,de}},V.values=n$,i$.prototype={constructor:i$,reset:function(F){var W;if(this.prev=0,this.next=0,this.sent=this._sent=P,this.done=!1,this.delegate=null,this.method="next",this.arg=P,m(W=this.tryEntries).call(W,r$),!F)for(var ee in this)ee.charAt(0)==="t"&&oe.call(this,ee)&&!isNaN(+I(ee).call(ee,1))&&(this[ee]=P)},stop:function(){this.done=!0;var F=this.tryEntries[0].completion;if(F.type==="throw")throw F.arg;return this.rval},dispatchException:function(F){if(this.done)throw F;var W=this;function ee(ws,Vo){return it.type="throw",it.arg=F,W.next=ws,Vo&&(W.method="next",W.arg=P),!!Vo}for(var de=this.tryEntries.length-1;de>=0;--de){var se=this.tryEntries[de],it=se.completion;if(se.tryLoc==="root")return ee("end");if(se.tryLoc<=this.prev){var Kt=oe.call(se,"catchLoc"),sr=oe.call(se,"finallyLoc");if(Kt&&sr){if(this.prev<se.catchLoc)return ee(se.catchLoc,!0);if(this.prev<se.finallyLoc)return ee(se.finallyLoc)}else if(Kt){if(this.prev<se.catchLoc)return ee(se.catchLoc,!0)}else{if(!sr)throw new Error("try statement without catch or finally");if(this.prev<se.finallyLoc)return ee(se.finallyLoc)}}}},abrupt:function(F,W){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var de=this.tryEntries[ee];if(de.tryLoc<=this.prev&&oe.call(de,"finallyLoc")&&this.prev<de.finallyLoc){var se=de;break}}se&&(F==="break"||F==="continue")&&se.tryLoc<=W&&W<=se.finallyLoc&&(se=null);var it=se?se.completion:{};return it.type=F,it.arg=W,se?(this.method="next",this.next=se.finallyLoc,Rr):this.complete(it)},complete:function(F,W){if(F.type==="throw")throw F.arg;return F.type==="break"||F.type==="continue"?this.next=F.arg:F.type==="return"?(this.rval=this.arg=F.arg,this.method="return",this.next="end"):F.type==="normal"&&W&&(this.next=W),Rr},finish:function(F){for(var W=this.tryEntries.length-1;W>=0;--W){var ee=this.tryEntries[W];if(ee.finallyLoc===F)return this.complete(ee.completion,ee.afterLoc),r$(ee),Rr}},catch:function(F){for(var W=this.tryEntries.length-1;W>=0;--W){var ee=this.tryEntries[W];if(ee.tryLoc===F){var de=ee.completion;if(de.type==="throw"){var se=de.arg;r$(ee)}return se}}throw new Error("illegal catch attempt")},delegateYield:function(F,W,ee){return this.delegate={iterator:n$(F),resultName:W,nextLoc:ee},this.method==="next"&&(this.arg=P),Rr}},V}a.exports=T,a.exports.__esModule=!0,a.exports.default=a.exports})(Ro);var dD=Ro.exports,ew=dD(),fD=ew;try{regeneratorRuntime=ew}catch(a){typeof globalThis=="object"?globalThis.regeneratorRuntime=ew:Function("r","regeneratorRuntime = r")(ew)}var ar=A(fD),T$={exports:{}},vD=ye,pD=vD(function(){if(typeof ArrayBuffer=="function"){var a=new ArrayBuffer(8);Object.isExtensible(a)&&Object.defineProperty(a,"a",{value:8})}}),gD=ye,yD=at,mD=ti,I$=pD,tw=Object.isExtensible,bD=gD(function(){tw(1)}),wD=bD||I$?function(l){return!yD(l)||I$&&mD(l)==="ArrayBuffer"?!1:tw?tw(l):!0}:tw,_D=ye,ED=!_D(function(){return Object.isExtensible(Object.preventExtensions({}))}),kD=te,OD=Ae,SD=la,xD=at,FI=Ke,TD=Bt.f,$$=Er,ID=Gh,jI=wD,$D=Ns,PD=ED,P$=!1,In=$D("meta"),CD=0,zI=function(a){TD(a,In,{value:{objectID:"O"+CD++,weakData:{}}})},DD=function(a,l){if(!xD(a))return typeof a=="symbol"?a:(typeof a=="string"?"S":"P")+a;if(!FI(a,In)){if(!jI(a))return"F";if(!l)return"E";zI(a)}return a[In].objectID},MD=function(a,l){if(!FI(a,In)){if(!jI(a))return!0;if(!l)return!1;zI(a)}return a[In].weakData},AD=function(a){return PD&&P$&&jI(a)&&!FI(a,In)&&zI(a),a},ND=function(){RD.enable=function(){},P$=!0;var a=$$.f,l=OD([].splice),c={};c[In]=1,a(c).length&&($$.f=function(d){for(var f=a(d),p=0,m=f.length;p<m;p++)if(f[p]===In){l(f,p,1);break}return f},kD({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:ID.f}))},RD=T$.exports={enable:ND,fastKey:DD,getWeakData:MD,onFreeze:AD};SD[In]=!0;var C$=T$.exports,BD=te,FD=J,jD=C$,zD=ye,LD=zr,HD=Sn,WD=Af,UD=Ne,VD=at,qD=An,GD=Yi,KD=Bt.f,YD=to.forEach,XD=tt,D$=Or,QD=D$.set,JD=D$.getterFor,M$=function(a,l,c){var d=a.indexOf("Map")!==-1,f=a.indexOf("Weak")!==-1,p=d?"set":"add",m=FD[a],_=m&&m.prototype,b={},E;if(!XD||!UD(m)||!(f||_.forEach&&!zD(function(){new m().entries().next()})))E=c.getConstructor(l,a,d,p),jD.enable();else{E=l(function(T,P){QD(WD(T,S),{type:a,collection:new m}),qD(P)||HD(P,T[p],{that:T,AS_ENTRIES:d})});var S=E.prototype,I=JD(a);YD(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(T){var P=T==="add"||T==="set";T in _&&!(f&&T==="clear")&&LD(S,T,function(V,ne){var oe=I(this).collection;if(!P&&f&&!VD(V))return T==="get"?void 0:!1;var he=oe[T](V===0?0:V,ne);return P?this:he})}),f||KD(S,"size",{configurable:!0,get:function(){return I(this).collection.size}})}return GD(E,a,!1,!0),b[a]=E,BD({global:!0,forced:!0},b),f||c.setStrong(E,a,d),E},ZD=Xn,eM=function(a,l,c){for(var d in l)c&&c.unsafe&&a[d]?a[d]=l[d]:ZD(a,d,l[d],c);return a},tM=Qt,rM=Kh,A$=eM,iM=ni,nM=Af,oM=An,aM=Sn,sM=Nc,rw=Qi,lM=jo,Uf=tt,N$=C$.fastKey,R$=Or,B$=R$.set,LI=R$.getterFor,F$={getConstructor:function(a,l,c,d){var f=a(function(E,S){nM(E,p),B$(E,{type:l,index:tM(null),first:void 0,last:void 0,size:0}),Uf||(E.size=0),oM(S)||aM(S,E[d],{that:E,AS_ENTRIES:c})}),p=f.prototype,m=LI(l),_=function(E,S,I){var T=m(E),P=b(E,S),V,ne;return P?P.value=I:(T.last=P={index:ne=N$(S,!0),key:S,value:I,previous:V=T.last,next:void 0,removed:!1},T.first||(T.first=P),V&&(V.next=P),Uf?T.size++:E.size++,ne!=="F"&&(T.index[ne]=P)),E},b=function(E,S){var I=m(E),T=N$(S),P;if(T!=="F")return I.index[T];for(P=I.first;P;P=P.next)if(P.key===S)return P};return A$(p,{clear:function(){for(var S=this,I=m(S),T=I.index,P=I.first;P;)P.removed=!0,P.previous&&(P.previous=P.previous.next=void 0),delete T[P.index],P=P.next;I.first=I.last=void 0,Uf?I.size=0:S.size=0},delete:function(E){var S=this,I=m(S),T=b(S,E);if(T){var P=T.next,V=T.previous;delete I.index[T.index],T.removed=!0,V&&(V.next=P),P&&(P.previous=V),I.first===T&&(I.first=P),I.last===T&&(I.last=V),Uf?I.size--:S.size--}return!!T},forEach:function(S){for(var I=m(this),T=iM(S,arguments.length>1?arguments[1]:void 0),P;P=P?P.next:I.first;)for(T(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(S){return!!b(this,S)}}),A$(p,c?{get:function(S){var I=b(this,S);return I&&I.value},set:function(S,I){return _(this,S===0?0:S,I)}}:{add:function(S){return _(this,S=S===0?0:S,S)}}),Uf&&rM(p,"size",{configurable:!0,get:function(){return m(this).size}}),f},setStrong:function(a,l,c){var d=l+" Iterator",f=LI(l),p=LI(d);sM(a,l,function(m,_){B$(this,{type:d,target:m,state:f(m),kind:_,last:void 0})},function(){for(var m=p(this),_=m.kind,b=m.last;b&&b.removed;)b=b.previous;return!m.target||!(m.last=b=b?b.next:m.state.first)?(m.target=void 0,rw(void 0,!0)):rw(_==="keys"?b.key:_==="values"?b.value:[b.key,b.value],!1)},c?"entries":"values",!c,!0),lM(l)}},uM=M$,hM=F$;uM("Map",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},hM);var cM=be,dM=cM.Map,fM=dM,vM=fM,pM=vM,j$=A(pM),gM=te,yM=to.some,mM=Ca,bM=mM("some");gM({target:"Array",proto:!0,forced:!bM},{some:function(l){return yM(this,l,arguments.length>1?arguments[1]:void 0)}});var wM=gt,_M=wM("Array","some"),EM=We,kM=_M,HI=Array.prototype,OM=function(a){var l=a.some;return a===HI||EM(HI,a)&&l===HI.some?kM:l},SM=OM,xM=SM,TM=xM,IM=A(TM),$M=gt,PM=$M("Array","keys"),CM=PM,DM=CM,MM=wr,AM=Ke,NM=We,RM=DM,WI=Array.prototype,BM={DOMTokenList:!0,NodeList:!0},FM=function(a){var l=a.keys;return a===WI||NM(WI,a)&&l===WI.keys||AM(BM,MM(a))?RM:l},jM=FM,ys=A(jM),z$=np,zM=Math.floor,UI=function(a,l){var c=a.length,d=zM(c/2);return c<8?LM(a,l):HM(a,UI(z$(a,0,d),l),UI(z$(a,d),l),l)},LM=function(a,l){for(var c=a.length,d=1,f,p;d<c;){for(p=d,f=a[d];p&&l(a[p-1],f)>0;)a[p]=a[--p];p!==d++&&(a[p]=f)}return a},HM=function(a,l,c,d){for(var f=l.length,p=c.length,m=0,_=0;m<f||_<p;)a[m+_]=m<f&&_<p?d(l[m],c[_])<=0?l[m++]:c[_++]:m<f?l[m++]:c[_++];return a},WM=UI,UM=jr,L$=UM.match(/firefox\/(\d+)/i),VM=!!L$&&+L$[1],qM=jr,GM=/MSIE|Trident/.test(qM),KM=jr,H$=KM.match(/AppleWebKit\/(\d+)\./),YM=!!H$&&+H$[1],XM=te,W$=Ae,QM=Mt,JM=Nt,U$=qt,ZM=Om,V$=qi,VI=ye,eA=WM,tA=Ca,q$=VM,rA=GM,G$=Nn,K$=YM,Ho=[],Y$=W$(Ho.sort),iA=W$(Ho.push),nA=VI(function(){Ho.sort(void 0)}),oA=VI(function(){Ho.sort(null)}),aA=tA("sort"),X$=!VI(function(){if(G$)return G$<70;if(!(q$&&q$>3)){if(rA)return!0;if(K$)return K$<603;var a="",l,c,d,f;for(l=65;l<76;l++){switch(c=String.fromCharCode(l),l){case 66:case 69:case 70:case 72:d=3;break;case 68:case 71:d=4;break;default:d=2}for(f=0;f<47;f++)Ho.push({k:c+f,v:d})}for(Ho.sort(function(p,m){return m.v-p.v}),f=0;f<Ho.length;f++)c=Ho[f].k.charAt(0),a.charAt(a.length-1)!==c&&(a+=c);return a!=="DGBEFHACIJK"}}),sA=nA||!oA||!aA||!X$,lA=function(a){return function(l,c){return c===void 0?-1:l===void 0?1:a!==void 0?+a(l,c)||0:V$(l)>V$(c)?1:-1}};XM({target:"Array",proto:!0,forced:sA},{sort:function(l){l!==void 0&&QM(l);var c=JM(this);if(X$)return l===void 0?Y$(c):Y$(c,l);var d=[],f=U$(c),p,m;for(m=0;m<f;m++)m in c&&iA(d,c[m]);for(eA(d,lA(l)),p=U$(d),m=0;m<p;)c[m]=d[m++];for(;m<f;)ZM(c,m++);return c}});var uA=gt,hA=uA("Array","sort"),cA=We,dA=hA,qI=Array.prototype,fA=function(a){var l=a.sort;return a===qI||cA(qI,a)&&l===qI.sort?dA:l},vA=fA,pA=vA,gA=pA,GI=A(gA),yA=gt,mA=yA("Array","values"),bA=mA,wA=bA,_A=wr,EA=Ke,kA=We,OA=wA,KI=Array.prototype,SA={DOMTokenList:!0,NodeList:!0},xA=function(a){var l=a.values;return a===KI||kA(KI,a)&&l===KI.values||EA(SA,_A(a))?OA:l},TA=xA,Q$=A(TA),IA=Kg,ms=A(IA),$A=gt,PA=$A("Array","entries"),CA=PA,DA=CA,MA=wr,AA=Ke,NA=We,RA=DA,YI=Array.prototype,BA={DOMTokenList:!0,NodeList:!0},FA=function(a){var l=a.entries;return a===YI||NA(YI,a)&&l===YI.entries||AA(BA,MA(a))?RA:l},jA=FA,zA=A(jA);let iw,LA=new Uint8Array(16);function HA(){if(!iw&&(iw=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!iw))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return iw(LA)}let Ct=[];for(let a=0;a<256;++a)Ct.push((a+256).toString(16).slice(1));function WA(a,l=0){return Ct[a[l+0]]+Ct[a[l+1]]+Ct[a[l+2]]+Ct[a[l+3]]+"-"+Ct[a[l+4]]+Ct[a[l+5]]+"-"+Ct[a[l+6]]+Ct[a[l+7]]+"-"+Ct[a[l+8]]+Ct[a[l+9]]+"-"+Ct[a[l+10]]+Ct[a[l+11]]+Ct[a[l+12]]+Ct[a[l+13]]+Ct[a[l+14]]+Ct[a[l+15]]}var J$={randomUUID:typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function UA(a,l,c){if(J$.randomUUID&&!l&&!a)return J$.randomUUID();a=a||{};let d=a.random||(a.rng||HA)();if(d[6]=d[6]&15|64,d[8]=d[8]&63|128,l){c=c||0;for(let f=0;f<16;++f)l[c+f]=d[f];return l}return WA(d)}function XI(a){return typeof a=="string"||typeof a=="number"}var Z$=function(){function a(l){ge(this,a),Jt(this,"_queue",[]),Jt(this,"_timeout",null),Jt(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(l)}return Zi(a,[{key:"setOptions",value:function(c){c&&typeof c.delay!="undefined"&&(this.delay=c.delay),c&&typeof c.max!="undefined"&&(this.max=c.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var c=this._extended.object,d=this._extended.methods,f=0;f<d.length;f++){var p=d[f];p.original?c[p.name]=p.original:delete c[p.name]}this._extended=null}}},{key:"replace",value:function(c,d){var f=this,p=c[d];if(!p)throw new Error("Method "+d+" undefined");c[d]=function(){for(var m=arguments.length,_=new Array(m),b=0;b<m;b++)_[b]=arguments[b];f.queue({args:_,fn:p,context:this})}}},{key:"queue",value:function(c){typeof c=="function"?this._queue.push({fn:c}):this._queue.push(c),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var c=this;this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=Zd(function(){c.flush()},this.delay))}},{key:"flush",value:function(){var c,d;Dr(c=Am(d=this._queue).call(d,0)).call(c,function(f){f.fn.apply(f.context||f.fn,f.args||[])})}}],[{key:"extend",value:function(c,d){var f=new a(d);if(c.flush!==void 0)throw new Error("Target object already has a property flush");c.flush=function(){f.flush()};var p=[{name:"flush",original:void 0}];if(d&&d.replace)for(var m=0;m<d.replace.length;m++){var _=d.replace[m];p.push({name:_,original:c[_]}),f.replace(c,_)}return f._extended={object:c,methods:p},f}}]),a}(),eP=function(){function a(){ge(this,a),Jt(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Jt(this,"subscribe",a.prototype.on),Jt(this,"unsubscribe",a.prototype.off)}return Zi(a,[{key:"_trigger",value:function(c,d,f){var p,m;if(c==="*")throw new Error("Cannot trigger event *");Dr(p=Ga(m=[]).call(m,_t(this._subscribers[c]),_t(this._subscribers["*"]))).call(p,function(_){_(c,d,f!=null?f:null)})}},{key:"on",value:function(c,d){typeof d=="function"&&this._subscribers[c].push(d)}},{key:"off",value:function(c,d){var f;this._subscribers[c]=dt(f=this._subscribers[c]).call(f,function(p){return p!==d})}}]),a}(),VA=M$,qA=F$;VA("Set",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},qA);var GA=be,KA=GA.Set,YA=KA,XA=YA,QA=XA,nw=A(QA),JA=Aa,ZA=JA,eN=ZA,tN=eN,rN=tN,iN=rN,nN=iN,oN=nN,aN=oN,sN=aN,QI=A(sN);function Di(a,l){var c=typeof qa!="undefined"&&jl(a)||a["@@iterator"];if(!c){if(yt(a)||(c=lN(a))||l&&a&&typeof a.length=="number"){c&&(a=c);var d=0,f=function(){};return{s:f,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(E){throw E},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p=!0,m=!1,_;return{s:function(){c=c.call(a)},n:function(){var E=c.next();return p=E.done,E},e:function(E){m=!0,_=E},f:function(){try{!p&&c.return!=null&&c.return()}finally{if(m)throw _}}}}function lN(a,l){var c;if(a){if(typeof a=="string")return tP(a,l);var d=cn(c=Object.prototype.toString.call(a)).call(c,8,-1);if(d==="Object"&&a.constructor&&(d=a.constructor.name),d==="Map"||d==="Set")return Bl(a);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return tP(a,l)}}function tP(a,l){(l==null||l>a.length)&&(l=a.length);for(var c=0,d=new Array(l);c<l;c++)d[c]=a[c];return d}var JI=function(a){function l(c){ge(this,l),this._pairs=c}return Zi(l,[{key:a,value:ar.mark(function c(){var d,f,p,m,_;return ar.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:d=Di(this._pairs),E.prev=1,d.s();case 3:if((f=d.n()).done){E.next=9;break}return p=xt(f.value,2),m=p[0],_=p[1],E.next=7,[m,_];case 7:E.next=3;break;case 9:E.next=14;break;case 11:E.prev=11,E.t0=E.catch(1),d.e(E.t0);case 14:return E.prev=14,d.f(),E.finish(14);case 17:case"end":return E.stop()}},c,this,[[1,11,14,17]])})},{key:"entries",value:ar.mark(function c(){var d,f,p,m,_;return ar.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:d=Di(this._pairs),E.prev=1,d.s();case 3:if((f=d.n()).done){E.next=9;break}return p=xt(f.value,2),m=p[0],_=p[1],E.next=7,[m,_];case 7:E.next=3;break;case 9:E.next=14;break;case 11:E.prev=11,E.t0=E.catch(1),d.e(E.t0);case 14:return E.prev=14,d.f(),E.finish(14);case 17:case"end":return E.stop()}},c,this,[[1,11,14,17]])})},{key:"keys",value:ar.mark(function c(){var d,f,p,m;return ar.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:d=Di(this._pairs),b.prev=1,d.s();case 3:if((f=d.n()).done){b.next=9;break}return p=xt(f.value,1),m=p[0],b.next=7,m;case 7:b.next=3;break;case 9:b.next=14;break;case 11:b.prev=11,b.t0=b.catch(1),d.e(b.t0);case 14:return b.prev=14,d.f(),b.finish(14);case 17:case"end":return b.stop()}},c,this,[[1,11,14,17]])})},{key:"values",value:ar.mark(function c(){var d,f,p,m;return ar.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:d=Di(this._pairs),b.prev=1,d.s();case 3:if((f=d.n()).done){b.next=9;break}return p=xt(f.value,2),m=p[1],b.next=7,m;case 7:b.next=3;break;case 9:b.next=14;break;case 11:b.prev=11,b.t0=b.catch(1),d.e(b.t0);case 14:return b.prev=14,d.f(),b.finish(14);case 17:case"end":return b.stop()}},c,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var d;return Ot(d=_t(this._pairs)).call(d,function(f){return f[0]})}},{key:"toItemArray",value:function(){var d;return Ot(d=_t(this._pairs)).call(d,function(f){return f[1]})}},{key:"toEntryArray",value:function(){return _t(this._pairs)}},{key:"toObjectMap",value:function(){var d=cx(null),f=Di(this._pairs),p;try{for(f.s();!(p=f.n()).done;){var m=xt(p.value,2),_=m[0],b=m[1];d[_]=b}}catch(E){f.e(E)}finally{f.f()}return d}},{key:"toMap",value:function(){return new j$(this._pairs)}},{key:"toIdSet",value:function(){return new nw(this.toIdArray())}},{key:"toItemSet",value:function(){return new nw(this.toItemArray())}},{key:"cache",value:function(){return new l(_t(this._pairs))}},{key:"distinct",value:function(d){var f=new nw,p=Di(this._pairs),m;try{for(p.s();!(m=p.n()).done;){var _=xt(m.value,2),b=_[0],E=_[1];f.add(d(E,b))}}catch(S){p.e(S)}finally{p.f()}return f}},{key:"filter",value:function(d){var f=this._pairs;return new l({[ms](){return ar.mark(function p(){var m,_,b,E,S;return ar.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:m=Di(f),T.prev=1,m.s();case 3:if((_=m.n()).done){T.next=10;break}if(b=xt(_.value,2),E=b[0],S=b[1],!d(S,E)){T.next=8;break}return T.next=8,[E,S];case 8:T.next=3;break;case 10:T.next=15;break;case 12:T.prev=12,T.t0=T.catch(1),m.e(T.t0);case 15:return T.prev=15,m.f(),T.finish(15);case 18:case"end":return T.stop()}},p,null,[[1,12,15,18]])})()}})}},{key:"forEach",value:function(d){var f=Di(this._pairs),p;try{for(f.s();!(p=f.n()).done;){var m=xt(p.value,2),_=m[0],b=m[1];d(b,_)}}catch(E){f.e(E)}finally{f.f()}}},{key:"map",value:function(d){var f=this._pairs;return new l({[ms](){return ar.mark(function p(){var m,_,b,E,S;return ar.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:m=Di(f),T.prev=1,m.s();case 3:if((_=m.n()).done){T.next=9;break}return b=xt(_.value,2),E=b[0],S=b[1],T.next=7,[E,d(S,E)];case 7:T.next=3;break;case 9:T.next=14;break;case 11:T.prev=11,T.t0=T.catch(1),m.e(T.t0);case 14:return T.prev=14,m.f(),T.finish(14);case 17:case"end":return T.stop()}},p,null,[[1,11,14,17]])})()}})}},{key:"max",value:function(d){var f=QI(this._pairs),p=f.next();if(p.done)return null;for(var m=p.value[1],_=d(p.value[1],p.value[0]);!(p=f.next()).done;){var b=xt(p.value,2),E=b[0],S=b[1],I=d(S,E);I>_&&(_=I,m=S)}return m}},{key:"min",value:function(d){var f=QI(this._pairs),p=f.next();if(p.done)return null;for(var m=p.value[1],_=d(p.value[1],p.value[0]);!(p=f.next()).done;){var b=xt(p.value,2),E=b[0],S=b[1],I=d(S,E);I<_&&(_=I,m=S)}return m}},{key:"reduce",value:function(d,f){var p=Di(this._pairs),m;try{for(p.s();!(m=p.n()).done;){var _=xt(m.value,2),b=_[0],E=_[1];f=d(f,E,b)}}catch(S){p.e(S)}finally{p.f()}return f}},{key:"sort",value:function(d){var f=this;return new l({[ms]:function(){var p;return QI(GI(p=_t(f._pairs)).call(p,function(m,_){var b=xt(m,2),E=b[0],S=b[1],I=xt(_,2),T=I[0],P=I[1];return d(S,P,E,T)}))}})}}]),l}(ms);function rP(a,l){var c=Rd(a);if(Ou){var d=Ou(a);l&&(d=dt(d).call(d,function(f){return Qb(a,f).enumerable})),c.push.apply(c,d)}return c}function iP(a){for(var l=1;l<arguments.length;l++){var c,d,f=arguments[l]!=null?arguments[l]:{};l%2?Dr(c=rP(Object(f),!0)).call(c,function(p){Jt(a,p,f[p])}):pt?MT(a,pt(f)):Dr(d=rP(Object(f))).call(d,function(p){r0(a,p,Qb(f,p))})}return a}function ZI(a,l){var c=typeof qa!="undefined"&&jl(a)||a["@@iterator"];if(!c){if(yt(a)||(c=uN(a))||l&&a&&typeof a.length=="number"){c&&(a=c);var d=0,f=function(){};return{s:f,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(E){throw E},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p=!0,m=!1,_;return{s:function(){c=c.call(a)},n:function(){var E=c.next();return p=E.done,E},e:function(E){m=!0,_=E},f:function(){try{!p&&c.return!=null&&c.return()}finally{if(m)throw _}}}}function uN(a,l){var c;if(a){if(typeof a=="string")return nP(a,l);var d=cn(c=Object.prototype.toString.call(a)).call(c,8,-1);if(d==="Object"&&a.constructor&&(d=a.constructor.name),d==="Map"||d==="Set")return Bl(a);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return nP(a,l)}}function nP(a,l){(l==null||l>a.length)&&(l=a.length);for(var c=0,d=new Array(l);c<l;c++)d[c]=a[c];return d}function hN(a){var l=cN();return function(){var d=No(a),f;if(l){var p=No(this).constructor;f=Zr(d,arguments,p)}else f=d.apply(this,arguments);return xf(this,f)}}function cN(){if(typeof Reflect=="undefined"||!Zr||Zr.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Zr(Boolean,[],function(){})),!0}catch(a){return!1}}function dN(a,l){return a[l]==null&&(a[l]=UA()),a}var oP=function(a){hs(c,a);var l=hN(c);function c(d,f){var p;return ge(this,c),p=l.call(this),Jt(ls(p),"_queue",null),d&&!yt(d)&&(f=d,d=[]),p._options=f||{},p._data=new j$,p.length=0,p._idProp=p._options.fieldId||"id",d&&d.length&&p.add(d),p.setOptions(f),p}return Zi(c,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(f){f&&f.queue!==void 0&&(f.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=Z$.extend(this,{replace:["add","update","remove"]})),f.queue&&typeof f.queue=="object"&&this._queue.setOptions(f.queue)))}},{key:"add",value:function(f,p){var m=this,_=[],b;if(yt(f)){var E=Ot(f).call(f,function(T){return T[m._idProp]});if(IM(E).call(E,function(T){return m._data.has(T)}))throw new Error("A duplicate id was found in the parameter array.");for(var S=0,I=f.length;S<I;S++)b=this._addItem(f[S]),_.push(b)}else if(f&&typeof f=="object")b=this._addItem(f),_.push(b);else throw new Error("Unknown dataType");return _.length&&this._trigger("add",{items:_},p),_}},{key:"update",value:function(f,p){var m=this,_=[],b=[],E=[],S=[],I=this._idProp,T=function(he){var ve=he[I];if(ve!=null&&m._data.has(ve)){var mt=he,Ye=Bm({},m._data.get(ve)),Dt=m._updateItem(mt);b.push(Dt),S.push(mt),E.push(Ye)}else{var Xe=m._addItem(he);_.push(Xe)}};if(yt(f))for(var P=0,V=f.length;P<V;P++)f[P]&&typeof f[P]=="object"?T(f[P]):console.warn("Ignoring input item, which is not an object at index "+P);else if(f&&typeof f=="object")T(f);else throw new Error("Unknown dataType");if(_.length&&this._trigger("add",{items:_},p),b.length){var ne={items:b,oldData:E,data:S};this._trigger("update",ne,p)}return Ga(_).call(_,b)}},{key:"updateOnly",value:function(f,p){var m,_=this;yt(f)||(f=[f]);var b=Ot(m=Ot(f).call(f,function(S){var I=_._data.get(S[_._idProp]);if(I==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:I,update:S}})).call(m,function(S){var I=S.oldData,T=S.update,P=I[_._idProp],V=tT(I,T);return _._data.set(P,V),{id:P,oldData:I,updatedData:V}});if(b.length){var E={items:Ot(b).call(b,function(S){return S.id}),oldData:Ot(b).call(b,function(S){return S.oldData}),data:Ot(b).call(b,function(S){return S.updatedData})};return this._trigger("update",E,p),E.items}else return[]}},{key:"get",value:function(f,p){var m=void 0,_=void 0,b=void 0;XI(f)?(m=f,b=p):yt(f)?(_=f,b=p):b=f;var E=b&&b.returnType==="Object"?"Object":"Array",S=b&&dt(b),I=[],T=void 0,P=void 0,V=void 0;if(m!=null)T=this._data.get(m),T&&S&&!S(T)&&(T=void 0);else if(_!=null)for(var ne=0,oe=_.length;ne<oe;ne++)T=this._data.get(_[ne]),T!=null&&(!S||S(T))&&I.push(T);else{var he;P=_t(ys(he=this._data).call(he));for(var ve=0,mt=P.length;ve<mt;ve++)V=P[ve],T=this._data.get(V),T!=null&&(!S||S(T))&&I.push(T)}if(b&&b.order&&m==null&&this._sort(I,b.order),b&&b.fields){var Ye=b.fields;if(m!=null&&T!=null)T=this._filterFields(T,Ye);else for(var Dt=0,Xe=I.length;Dt<Xe;Dt++)I[Dt]=this._filterFields(I[Dt],Ye)}if(E=="Object"){for(var $n={},mr=0,Wo=I.length;mr<Wo;mr++){var qu=I[mr],Uo=qu[this._idProp];$n[Uo]=qu}return $n}else if(m!=null){var Mi;return(Mi=T)!==null&&Mi!==void 0?Mi:null}else return I}},{key:"getIds",value:function(f){var p=this._data,m=f&&dt(f),_=f&&f.order,b=_t(ys(p).call(p)),E=[];if(m)if(_){for(var S=[],I=0,T=b.length;I<T;I++){var P=b[I],V=this._data.get(P);V!=null&&m(V)&&S.push(V)}this._sort(S,_);for(var ne=0,oe=S.length;ne<oe;ne++)E.push(S[ne][this._idProp])}else for(var he=0,ve=b.length;he<ve;he++){var mt=b[he],Ye=this._data.get(mt);Ye!=null&&m(Ye)&&E.push(Ye[this._idProp])}else if(_){for(var Dt=[],Xe=0,$n=b.length;Xe<$n;Xe++){var mr=b[Xe];Dt.push(p.get(mr))}this._sort(Dt,_);for(var Wo=0,qu=Dt.length;Wo<qu;Wo++)E.push(Dt[Wo][this._idProp])}else for(var Uo=0,Mi=b.length;Uo<Mi;Uo++){var Rr=b[Uo],Gu=p.get(Rr);Gu!=null&&E.push(Gu[this._idProp])}return E}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(f,p){var m=p&&dt(p),_=this._data,b=_t(ys(_).call(_));if(p&&p.order)for(var E=this.get(p),S=0,I=E.length;S<I;S++){var T=E[S],P=T[this._idProp];f(T,P)}else for(var V=0,ne=b.length;V<ne;V++){var oe=b[V],he=this._data.get(oe);he!=null&&(!m||m(he))&&f(he,oe)}}},{key:"map",value:function(f,p){for(var m=p&&dt(p),_=[],b=this._data,E=_t(ys(b).call(b)),S=0,I=E.length;S<I;S++){var T=E[S],P=this._data.get(T);P!=null&&(!m||m(P))&&_.push(f(P,T))}return p&&p.order&&this._sort(_,p.order),_}},{key:"_filterFields",value:function(f,p){var m;return f&&oy(m=yt(p)?p:Rd(p)).call(m,function(_,b){return _[b]=f[b],_},{})}},{key:"_sort",value:function(f,p){if(typeof p=="string"){var m=p;GI(f).call(f,function(_,b){var E=_[m],S=b[m];return E>S?1:E<S?-1:0})}else if(typeof p=="function")GI(f).call(f,p);else throw new TypeError("Order must be a function or a string")}},{key:"remove",value:function(f,p){for(var m=[],_=[],b=yt(f)?f:[f],E=0,S=b.length;E<S;E++){var I=this._remove(b[E]);if(I){var T=I[this._idProp];T!=null&&(m.push(T),_.push(I))}}return m.length&&this._trigger("remove",{items:m,oldData:_},p),m}},{key:"_remove",value:function(f){var p;if(XI(f)?p=f:f&&typeof f=="object"&&(p=f[this._idProp]),p!=null&&this._data.has(p)){var m=this._data.get(p)||null;return this._data.delete(p),--this.length,m}return null}},{key:"clear",value:function(f){for(var p,m=_t(ys(p=this._data).call(p)),_=[],b=0,E=m.length;b<E;b++)_.push(this._data.get(m[b]));return this._data.clear(),this.length=0,this._trigger("remove",{items:m,oldData:_},f),m}},{key:"max",value:function(f){var p,m=null,_=null,b=ZI(Q$(p=this._data).call(p)),E;try{for(b.s();!(E=b.n()).done;){var S=E.value,I=S[f];typeof I=="number"&&(_==null||I>_)&&(m=S,_=I)}}catch(T){b.e(T)}finally{b.f()}return m||null}},{key:"min",value:function(f){var p,m=null,_=null,b=ZI(Q$(p=this._data).call(p)),E;try{for(b.s();!(E=b.n()).done;){var S=E.value,I=S[f];typeof I=="number"&&(_==null||I<_)&&(m=S,_=I)}}catch(T){b.e(T)}finally{b.f()}return m||null}},{key:"distinct",value:function(f){for(var p=this._data,m=_t(ys(p).call(p)),_=[],b=0,E=0,S=m.length;E<S;E++){for(var I=m[E],T=p.get(I),P=T[f],V=!1,ne=0;ne<b;ne++)if(_[ne]==P){V=!0;break}!V&&P!==void 0&&(_[b]=P,b++)}return _}},{key:"_addItem",value:function(f){var p=dN(f,this._idProp),m=p[this._idProp];if(this._data.has(m))throw new Error("Cannot add item: item with id "+m+" already exists");return this._data.set(m,p),++this.length,m}},{key:"_updateItem",value:function(f){var p=f[this._idProp];if(p==null)throw new Error("Cannot update item: item has no id (item: "+yx(f)+")");var m=this._data.get(p);if(!m)throw new Error("Cannot update item: no item with id "+p+" found");return this._data.set(p,iP(iP({},m),f)),p}},{key:"stream",value:function(f){if(f){var p=this._data;return new JI({[ms](){return ar.mark(function _(){var b,E,S,I;return ar.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:b=ZI(f),P.prev=1,b.s();case 3:if((E=b.n()).done){P.next=11;break}if(S=E.value,I=p.get(S),I==null){P.next=9;break}return P.next=9,[S,I];case 9:P.next=3;break;case 11:P.next=16;break;case 13:P.prev=13,P.t0=P.catch(1),b.e(P.t0);case 16:return P.prev=16,b.f(),P.finish(16);case 19:case"end":return P.stop()}},_,null,[[1,13,16,19]])})()}})}else{var m;return new JI({[ms]:tn(m=zA(this._data)).call(m,this._data)})}}}]),c}(eP);function fN(a,l){var c=typeof qa!="undefined"&&jl(a)||a["@@iterator"];if(!c){if(yt(a)||(c=vN(a))||l&&a&&typeof a.length=="number"){c&&(a=c);var d=0,f=function(){};return{s:f,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(E){throw E},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p=!0,m=!1,_;return{s:function(){c=c.call(a)},n:function(){var E=c.next();return p=E.done,E},e:function(E){m=!0,_=E},f:function(){try{!p&&c.return!=null&&c.return()}finally{if(m)throw _}}}}function vN(a,l){var c;if(a){if(typeof a=="string")return aP(a,l);var d=cn(c=Object.prototype.toString.call(a)).call(c,8,-1);if(d==="Object"&&a.constructor&&(d=a.constructor.name),d==="Map"||d==="Set")return Bl(a);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return aP(a,l)}}function aP(a,l){(l==null||l>a.length)&&(l=a.length);for(var c=0,d=new Array(l);c<l;c++)d[c]=a[c];return d}function pN(a){var l=gN();return function(){var d=No(a),f;if(l){var p=No(this).constructor;f=Zr(d,arguments,p)}else f=d.apply(this,arguments);return xf(this,f)}}function gN(){if(typeof Reflect=="undefined"||!Zr||Zr.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Zr(Boolean,[],function(){})),!0}catch(a){return!1}}var yN=function(a){hs(c,a);var l=pN(c);function c(d,f){var p,m;return ge(this,c),m=l.call(this),Jt(ls(m),"length",0),Jt(ls(m),"_ids",new nw),m._options=f||{},m._listener=tn(p=m._onEvent).call(p,ls(m)),m.setData(d),m}return Zi(c,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(f){if(this._data){this._data.off&&this._data.off("*",this._listener);var p=this._data.getIds({filter:dt(this._options)}),m=this._data.get(p);this._ids.clear(),this.length=0,this._trigger("remove",{items:p,oldData:m})}if(f!=null){this._data=f;for(var _=this._data.getIds({filter:dt(this._options)}),b=0,E=_.length;b<E;b++){var S=_[b];this._ids.add(S)}this.length=_.length,this._trigger("add",{items:_})}else this._data=new oP;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var f=this._data.getIds({filter:dt(this._options)}),p=_t(this._ids),m={},_=[],b=[],E=[],S=0,I=f.length;S<I;S++){var T=f[S];m[T]=!0,this._ids.has(T)||(_.push(T),this._ids.add(T))}for(var P=0,V=p.length;P<V;P++){var ne=p[P],oe=this._data.get(ne);oe==null?console.error("If you see this, report it please."):m[ne]||(b.push(ne),E.push(oe),this._ids.delete(ne))}this.length+=_.length-b.length,_.length&&this._trigger("add",{items:_}),b.length&&this._trigger("remove",{items:b,oldData:E})}},{key:"get",value:function(f,p){if(this._data==null)return null;var m=null,_;XI(f)||yt(f)?(m=f,_=p):_=f;var b=Bm({},this._options,_),E=dt(this._options),S=_&&dt(_);return E&&S&&(b.filter=function(I){return E(I)&&S(I)}),m==null?this._data.get(b):this._data.get(m,b)}},{key:"getIds",value:function(f){if(this._data.length){var p=dt(this._options),m=f!=null?dt(f):null,_;return m?p?_=function(E){return p(E)&&m(E)}:_=m:_=p,this._data.getIds({filter:_,order:f&&f.order})}else return[]}},{key:"forEach",value:function(f,p){if(this._data){var m,_=dt(this._options),b=p&&dt(p),E;b?_?E=function(I){return _(I)&&b(I)}:E=b:E=_,Dr(m=this._data).call(m,f,{filter:E,order:p&&p.order})}}},{key:"map",value:function(f,p){if(this._data){var m,_=dt(this._options),b=p&&dt(p),E;return b?_?E=function(I){return _(I)&&b(I)}:E=b:E=_,Ot(m=this._data).call(m,f,{filter:E,order:p&&p.order})}else return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(f){var p;return this._data.stream(f||{[ms]:tn(p=ys(this._ids)).call(p,this._ids)})}},{key:"dispose",value:function(){var f;(f=this._data)!==null&&f!==void 0&&f.off&&this._data.off("*",this._listener);var p="This data view has already been disposed of.",m={get:function(){throw new Error(p)},set:function(){throw new Error(p)},configurable:!1},_=fN(vm(c.prototype)),b;try{for(_.s();!(b=_.n()).done;){var E=b.value;r0(this,E,m)}}catch(S){_.e(S)}finally{_.f()}}},{key:"_onEvent",value:function(f,p,m){if(!(!p||!p.items||!this._data)){var _=p.items,b=[],E=[],S=[],I=[],T=[],P=[];switch(f){case"add":for(var V=0,ne=_.length;V<ne;V++){var oe=_[V],he=this.get(oe);he&&(this._ids.add(oe),b.push(oe))}break;case"update":for(var ve=0,mt=_.length;ve<mt;ve++){var Ye=_[ve],Dt=this.get(Ye);Dt?this._ids.has(Ye)?(E.push(Ye),T.push(p.data[ve]),I.push(p.oldData[ve])):(this._ids.add(Ye),b.push(Ye)):this._ids.has(Ye)&&(this._ids.delete(Ye),S.push(Ye),P.push(p.oldData[ve]))}break;case"remove":for(var Xe=0,$n=_.length;Xe<$n;Xe++){var mr=_[Xe];this._ids.has(mr)&&(this._ids.delete(mr),S.push(mr),P.push(p.oldData[Xe]))}break}this.length+=b.length-S.length,b.length&&this._trigger("add",{items:b},m),E.length&&this._trigger("update",{items:E,oldData:I,data:T},m),S.length&&this._trigger("remove",{items:S,oldData:P},m)}}}]),c}(eP);function sP(a,l){return typeof l=="object"&&l!==null&&a===l.idProp&&typeof l.add=="function"&&typeof l.clear=="function"&&typeof l.distinct=="function"&&typeof Dr(l)=="function"&&typeof l.get=="function"&&typeof l.getDataSet=="function"&&typeof l.getIds=="function"&&typeof l.length=="number"&&typeof Ot(l)=="function"&&typeof l.max=="function"&&typeof l.min=="function"&&typeof l.off=="function"&&typeof l.on=="function"&&typeof l.remove=="function"&&typeof l.setOptions=="function"&&typeof l.stream=="function"&&typeof l.update=="function"&&typeof l.updateOnly=="function"}function mN(a,l){return typeof l=="object"&&l!==null&&a===l.idProp&&typeof Dr(l)=="function"&&typeof l.get=="function"&&typeof l.getDataSet=="function"&&typeof l.getIds=="function"&&typeof l.length=="number"&&typeof Ot(l)=="function"&&typeof l.off=="function"&&typeof l.on=="function"&&typeof l.stream=="function"&&sP(a,l.getDataSet())}fe.DELETE=$t,fe.DataSet=oP,fe.DataStream=JI,fe.DataView=yN,fe.Queue=Z$,fe.createNewDataPipeFrom=fy,fe.isDataSetLike=sP,fe.isDataViewLike=mN})});var pP=cP((uw,vP)=>{(function(fe,ge){typeof uw=="object"&&typeof vP!="undefined"?ge(uw,fP()):typeof define=="function"&&define.amd?define(["exports","vis-data/peer/umd/vis-data.js"],ge):ge((fe=typeof globalThis!="undefined"?globalThis:fe||self).vis=fe.vis||{},fe.vis)})(uw,function(fe,ge){var Wt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function A(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ut=function(i){return i&&i.Math===Math&&i},Ie=Ut(typeof globalThis=="object"&&globalThis)||Ut(typeof window=="object"&&window)||Ut(typeof self=="object"&&self)||Ut(typeof Wt=="object"&&Wt)||function(){return this}()||Wt||Function("return this")(),J=function(i){try{return!!i()}catch(e){return!0}},ye=!J(function(){var i=function(){}.bind();return typeof i!="function"||i.hasOwnProperty("prototype")}),hw=ye,Pn=Function.prototype,Vf=Pn.apply,Yu=Pn.call,Cn=typeof Reflect=="object"&&Reflect.apply||(hw?Yu.bind(Vf):function(){return Yu.apply(Vf,arguments)}),Xu=ye,Ai=Function.prototype,Es=Ai.call,qf=Xu&&Ai.bind.bind(Es,Es),we=Xu?qf:function(i){return function(){return Es.apply(i,arguments)}},Gf=we,Ae=Gf({}.toString),Kf=Gf("".slice),Br=function(i){return Kf(Ae(i),8,-1)},cw=Br,ti=we,ks=function(i){if(cw(i)==="Function")return ti(i)},Qu=typeof document=="object"&&document.all,qo={all:Qu,IS_HTMLDDA:Qu===void 0&&Qu!==void 0},Ju=qo.all,nt=qo.IS_HTMLDDA?function(i){return typeof i=="function"||i===Ju}:function(i){return typeof i=="function"},Ni={},Ze=!J(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),dw=ye,Ne=Function.prototype.call,et=dw?Ne.bind(Ne):function(){return Ne.apply(Ne,arguments)},Os={},tt={}.propertyIsEnumerable,Yf=Object.getOwnPropertyDescriptor,Ss=Yf&&!tt.call({1:2},1);Os.f=Ss?function(i){var e=Yf(this,i);return!!e&&e.enumerable}:tt;var Re,Ri,Dn=function(i,e){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:e}},Xf=J,fw=Br,Fr=Object,vw=we("".split),xs=Xf(function(){return!Fr("z").propertyIsEnumerable(0)})?function(i){return fw(i)==="String"?vw(i,""):Fr(i)}:Fr,Mn=function(i){return i==null},Zu=Mn,pw=TypeError,ri=function(i){if(Zu(i))throw new pw("Can't call method on "+i);return i},An=xs,gw=ri,br=function(i){return An(gw(i))},Ts=nt,yw=qo.all,ot=qo.IS_HTMLDDA?function(i){return typeof i=="object"?i!==null:Ts(i)||i===yw}:function(i){return typeof i=="object"?i!==null:Ts(i)},ue={},Is=ue,$s=Ie,mw=nt,at=function(i){return mw(i)?i:void 0},be=function(i,e){return arguments.length<2?at(Is[i])||at($s[i]):Is[i]&&Is[i][e]||$s[i]&&$s[i][e]},je=we({}.isPrototypeOf),Bi=typeof navigator!="undefined"&&String(navigator.userAgent)||"",Qf=Ie,Ps=Bi,bt=Qf.process,Jf=Qf.Deno,We=bt&&bt.versions||Jf&&Jf.version,jr=We&&We.v8;jr&&(Ri=(Re=jr.split("."))[0]>0&&Re[0]<4?1:+(Re[0]+Re[1])),!Ri&&Ps&&(!(Re=Ps.match(/Edge\/(\d+)/))||Re[1]>=74)&&(Re=Ps.match(/Chrome\/(\d+)/))&&(Ri=+Re[1]);var Fi=Ri,Cs=Fi,Zf=J,ev=Ie.String,ji=!!Object.getOwnPropertySymbols&&!Zf(function(){var i=Symbol("symbol detection");return!ev(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&Cs&&Cs<41}),eh=ji&&!Symbol.sham&&typeof Symbol.iterator=="symbol",lr=be,Ds=nt,Nn=je,tv=Object,Go=eh?function(i){return typeof i=="symbol"}:function(i){var e=lr("Symbol");return Ds(e)&&Nn(e.prototype,tv(i))},bw=String,Rn=function(i){try{return bw(i)}catch(e){return"Object"}},Bn=nt,ww=Rn,rv=TypeError,zi=function(i){if(Bn(i))return i;throw new rv(ww(i)+" is not a function")},_w=zi,Ew=Mn,th=function(i,e){var t=i[e];return Ew(t)?void 0:_w(t)},rh=et,Li=nt,ih=ot,Fn=TypeError,iv={exports:{}},nv=Ie,kw=Object.defineProperty,Mt=function(i,e){try{kw(nv,i,{value:e,configurable:!0,writable:!0})}catch(t){nv[i]=e}return e},ov="__core-js_shared__",nh=Ie[ov]||Mt(ov,{}),Ms=nh;(iv.exports=function(i,e){return Ms[i]||(Ms[i]=e!==void 0?e:{})})("versions",[]).push({version:"3.33.0",mode:"pure",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"});var ii=iv.exports,oh=ri,ah=Object,At=function(i){return ah(oh(i))},Ow=At,av=we({}.hasOwnProperty),st=Object.hasOwn||function(i,e){return av(Ow(i),e)},sv=we,Sw=0,xw=Math.random(),Tw=sv(1 .toString),As=function(i){return"Symbol("+(i===void 0?"":i)+")_"+Tw(++Sw+xw,36)},lv=ii,uv=st,sh=As,hv=ji,jn=eh,zn=Ie.Symbol,lh=lv("wks"),Nt=jn?zn.for||zn:zn&&zn.withoutSetter||sh,Ue=function(i){return uv(lh,i)||(lh[i]=hv&&uv(zn,i)?zn[i]:Nt("Symbol."+i)),lh[i]},Iw=et,cv=ot,Ke=Go,$w=th,Pw=function(i,e){var t,r;if(e==="string"&&Li(t=i.toString)&&!ih(r=rh(t,i))||Li(t=i.valueOf)&&!ih(r=rh(t,i))||e!=="string"&&Li(t=i.toString)&&!ih(r=rh(t,i)))return r;throw new Fn("Can't convert object to primitive value")},Cw=TypeError,Dw=Ue("toPrimitive"),Ns=function(i,e){if(!cv(i)||Ke(i))return i;var t,r=$w(i,Dw);if(r){if(e===void 0&&(e="default"),t=Iw(r,i,e),!cv(t)||Ke(t))return t;throw new Cw("Can't convert object to primitive value")}return e===void 0&&(e="number"),Pw(i,e)},Mw=Go,Rs=function(i){var e=Ns(i,"string");return Mw(e)?e:e+""},uh=ot,hh=Ie.document,Aw=uh(hh)&&uh(hh.createElement),dv=function(i){return Aw?hh.createElement(i):{}},Ln=dv,Bs=!Ze&&!J(function(){return Object.defineProperty(Ln("div"),"a",{get:function(){return 7}}).a!==7}),Nw=Ze,ze=et,Rw=Os,fv=Dn,vv=br,Bw=Rs,Fw=st,jw=Bs,pv=Object.getOwnPropertyDescriptor;Ni.f=Nw?pv:function(i,e){if(i=vv(i),e=Bw(e),jw)try{return pv(i,e)}catch(t){}if(Fw(i,e))return fv(!ze(Rw.f,i,e),i[e])};var zw=J,Lw=nt,Hw=/#|\.prototype\./,Ko=function(i,e){var t=Ww[Fs(i)];return t===ch||t!==gv&&(Lw(e)?zw(e):!!e)},Fs=Ko.normalize=function(i){return String(i).replace(Hw,".").toLowerCase()},Ww=Ko.data={},gv=Ko.NATIVE="N",ch=Ko.POLYFILL="P",Uw=Ko,dh=zi,Vw=ye,qw=ks(ks.bind),Yo=function(i,e){return dh(i),e===void 0?i:Vw?qw(i,e):function(){return i.apply(e,arguments)}},Rt={},yv=Ze&&J(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Gw=ot,Kw=String,Yw=TypeError,Vt=function(i){if(Gw(i))return i;throw new Yw(Kw(i)+" is not an object")},Xw=Ze,Qw=Bs,Jw=yv,Xo=Vt,mv=Rs,Zw=TypeError,fh=Object.defineProperty,Qo=Object.getOwnPropertyDescriptor,vh="enumerable",ph="configurable",gh="writable";Rt.f=Xw?Jw?function(i,e,t){if(Xo(i),e=mv(e),Xo(t),typeof i=="function"&&e==="prototype"&&"value"in t&&gh in t&&!t[gh]){var r=Qo(i,e);r&&r[gh]&&(i[e]=t.value,t={configurable:ph in t?t[ph]:r[ph],enumerable:vh in t?t[vh]:r[vh],writable:!1})}return fh(i,e,t)}:fh:function(i,e,t){if(Xo(i),e=mv(e),Xo(t),Qw)try{return fh(i,e,t)}catch(r){}if("get"in t||"set"in t)throw new Zw("Accessors not supported");return"value"in t&&(i[e]=t.value),i};var e1=Rt,bv=Dn,Hi=Ze?function(i,e,t){return e1.f(i,e,bv(1,t))}:function(i,e,t){return i[e]=t,i},js=Ie,t1=Cn,r1=ks,ni=nt,Bt=Ni.f,i1=Uw,Hn=ue,wv=Yo,Wn=Hi,_v=st,n1=function(i){var e=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new i;case 1:return new i(t);case 2:return new i(t,r)}return new i(t,r,n)}return t1(i,this,arguments)};return e.prototype=i.prototype,e},Y=function(i,e){var t,r,n,o,s,u,h,v,g,y=i.target,w=i.global,k=i.stat,O=i.proto,x=w?js:k?js[y]:(js[y]||{}).prototype,$=w?Hn:Hn[y]||Wn(Hn,y,{})[y],D=$.prototype;for(o in e)r=!(t=i1(w?o:y+(k?".":"#")+o,i.forced))&&x&&_v(x,o),u=$[o],r&&(h=i.dontCallGetSet?(g=Bt(x,o))&&g.value:x[o]),s=r&&h?h:e[o],r&&typeof u==typeof s||(v=i.bind&&r?wv(s,js):i.wrap&&r?n1(s):O&&ni(s)?r1(s):s,(i.sham||s&&s.sham||u&&u.sham)&&Wn(v,"sham",!0),Wn($,o,v),O&&(_v(Hn,n=y+"Prototype")||Wn(Hn,n,{}),Wn(Hn[n],o,s),i.real&&D&&(t||!D[o])&&Wn(D,o,s)))},o1=Math.ceil,a1=Math.floor,s1=Math.trunc||function(i){var e=+i;return(e>0?a1:o1)(e)},Wi=function(i){var e=+i;return e!=e||e===0?0:s1(e)},Ev=Wi,l1=Math.max,yh=Math.min,Jo=function(i,e){var t=Ev(i);return t<0?l1(t+e,0):yh(t,e)},mh=Wi,bh=Math.min,wh=function(i){return i>0?bh(mh(i),9007199254740991):0},Yt=function(i){return wh(i.length)},u1=br,h1=Jo,zr=Yt,Zo=function(i){return function(e,t,r){var n,o=u1(e),s=zr(o),u=h1(r,s);if(i&&t!=t){for(;s>u;)if((n=o[u++])!=n)return!0}else for(;s>u;u++)if((i||u in o)&&o[u]===t)return i||u||0;return!i&&-1}},_h={includes:Zo(!0),indexOf:Zo(!1)},ea={},Eh=st,c1=br,d1=_h.indexOf,Un=ea,kv=we([].push),Ui=function(i,e){var t,r=c1(i),n=0,o=[];for(t in r)!Eh(Un,t)&&Eh(r,t)&&kv(o,t);for(;e.length>n;)Eh(r,t=e[n++])&&(~d1(o,t)||kv(o,t));return o},zs=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],f1=Ui,te=zs,Ls=Object.keys||function(i){return f1(i,te)},ta={};ta.f=Object.getOwnPropertySymbols;var kh=Ze,v1=we,Ov=et,p1=J,Oh=Ls,g1=ta,Sv=Os,y1=At,m1=xs,Vn=Object.assign,xv=Object.defineProperty,Tv=v1([].concat),Hs=!Vn||p1(function(){if(kh&&Vn({b:1},Vn(xv({},"a",{enumerable:!0,get:function(){xv(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var i={},e={},t=Symbol("assign detection"),r="abcdefghijklmnopqrst";return i[t]=7,r.split("").forEach(function(n){e[n]=n}),Vn({},i)[t]!==7||Oh(Vn({},e)).join("")!==r})?function(i,e){for(var t=y1(i),r=arguments.length,n=1,o=g1.f,s=Sv.f;r>n;)for(var u,h=m1(arguments[n++]),v=o?Tv(Oh(h),o(h)):Oh(h),g=v.length,y=0;g>y;)u=v[y++],kh&&!Ov(s,h,u)||(t[u]=h[u]);return t}:Vn,Iv=Hs;Y({target:"Object",stat:!0,arity:2,forced:Object.assign!==Iv},{assign:Iv});var $e=A(ue.Object.assign),Ws=we([].slice),$v=we,b1=zi,w1=ot,Us=st,Pv=Ws,_1=ye,Cv=Function,E1=$v([].concat),qt=$v([].join),Sh={},Dv=_1?Cv.bind:function(i){var e=b1(this),t=e.prototype,r=Pv(arguments,1),n=function(){var o=E1(r,Pv(arguments));return this instanceof n?function(s,u,h){if(!Us(Sh,u)){for(var v=[],g=0;g<u;g++)v[g]="a["+g+"]";Sh[u]=Cv("C,a","return new C("+qt(v,",")+")")}return Sh[u](s,h)}(e,o.length,o):e.apply(i,o)};return w1(t)&&(n.prototype=t),n},ra=Dv;Y({target:"Function",proto:!0,forced:Function.bind!==ra},{bind:ra});var k1=ue,lt=function(i){return k1[i+"Prototype"]},O1=lt("Function").bind,qn=je,S1=O1,xh=Function.prototype,Mv=function(i){var e=i.bind;return i===xh||qn(xh,i)&&e===xh.bind?S1:e},Vs=Mv,B=A(Vs);function Th(i,e,t,r){i.beginPath(),i.arc(e,t,r,0,2*Math.PI,!1),i.closePath()}function ia(i,e,t,r,n,o){var s=Math.PI/180;r-2*o<0&&(o=r/2),n-2*o<0&&(o=n/2),i.beginPath(),i.moveTo(e+o,t),i.lineTo(e+r-o,t),i.arc(e+r-o,t+o,o,270*s,360*s,!1),i.lineTo(e+r,t+n-o),i.arc(e+r-o,t+n-o,o,0,90*s,!1),i.lineTo(e+o,t+n),i.arc(e+o,t+n-o,o,90*s,180*s,!1),i.lineTo(e,t+o),i.arc(e+o,t+o,o,180*s,270*s,!1),i.closePath()}function Ih(i,e,t,r,n){var o=.5522848,s=r/2*o,u=n/2*o,h=e+r,v=t+n,g=e+r/2,y=t+n/2;i.beginPath(),i.moveTo(e,y),i.bezierCurveTo(e,y-u,g-s,t,g,t),i.bezierCurveTo(g+s,t,h,y-u,h,y),i.bezierCurveTo(h,y+u,g+s,v,g,v),i.bezierCurveTo(g-s,v,e,y+u,e,y),i.closePath()}function Av(i,e,t,r,n){var o=n*.3333333333333333,s=.5522848,u=r/2*s,h=o/2*s,v=e+r,g=t+o,y=e+r/2,w=t+o/2,k=t+(n-o/2),O=t+n;i.beginPath(),i.moveTo(v,w),i.bezierCurveTo(v,w+h,y+u,g,y,g),i.bezierCurveTo(y-u,g,e,w+h,e,w),i.bezierCurveTo(e,w-h,y-u,t,y,t),i.bezierCurveTo(y+u,t,v,w-h,v,w),i.lineTo(v,k),i.bezierCurveTo(v,k+h,y+u,O,y,O),i.bezierCurveTo(y-u,O,e,k+h,e,k),i.lineTo(e,w)}function Nv(i,e,t,r,n,o){i.beginPath(),i.moveTo(e,t);for(var s=o.length,u=r-e,h=n-t,v=h/u,g=Math.sqrt(u*u+h*h),y=0,w=!0,k=0,O=+o[0];g>=.1;)(O=+o[y++%s])>g&&(O=g),k=Math.sqrt(O*O/(1+v*v)),e+=k=u<0?-k:k,t+=v*k,w===!0?i.lineTo(e,t):i.moveTo(e,t),g-=O,w=!w}var Rv={circle:Th,dashedLine:Nv,database:Av,diamond:function(i,e,t,r){i.beginPath(),i.lineTo(e,t+r),i.lineTo(e+r,t),i.lineTo(e,t-r),i.lineTo(e-r,t),i.closePath()},ellipse:Ih,ellipse_vis:Ih,hexagon:function(i,e,t,r){i.beginPath();var n=2*Math.PI/6;i.moveTo(e+r,t);for(var o=1;o<6;o++)i.lineTo(e+r*Math.cos(n*o),t+r*Math.sin(n*o));i.closePath()},roundRect:ia,square:function(i,e,t,r){i.beginPath(),i.rect(e-r,t-r,2*r,2*r),i.closePath()},star:function(i,e,t,r){i.beginPath(),t+=.1*(r*=.82);for(var n=0;n<10;n++){var o=n%2==0?1.3*r:.5*r;i.lineTo(e+o*Math.sin(2*n*Math.PI/10),t-o*Math.cos(2*n*Math.PI/10))}i.closePath()},triangle:function(i,e,t,r){i.beginPath(),t+=.275*(r*=1.15);var n=2*r,o=n/2,s=Math.sqrt(3)/6*n,u=Math.sqrt(n*n-o*o);i.moveTo(e,t-(u-s)),i.lineTo(e+o,t+s),i.lineTo(e-o,t+s),i.lineTo(e,t-(u-s)),i.closePath()},triangleDown:function(i,e,t,r){i.beginPath(),t-=.275*(r*=1.15);var n=2*r,o=n/2,s=Math.sqrt(3)/6*n,u=Math.sqrt(n*n-o*o);i.moveTo(e,t+(u-s)),i.lineTo(e+o,t-s),i.lineTo(e-o,t-s),i.lineTo(e,t+(u-s)),i.closePath()}},Bv={exports:{}};(function(i){function e(t){if(t)return function(r){for(var n in e.prototype)r[n]=e.prototype[n];return r}(t)}i.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(r),this},e.prototype.once=function(t,r){function n(){this.off(t,n),r.apply(this,arguments)}return n.fn=r,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n,o=this._callbacks["$"+t];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s=0;s<o.length;s++)if((n=o[s])===r||n.fn===r){o.splice(s,1);break}return o.length===0&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),n=this._callbacks["$"+t],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(n){o=0;for(var s=(n=n.slice(0)).length;o<s;++o)n[o].apply(this,r)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}})(Bv);var wr=A(Bv.exports),Fv={};Fv[Ue("toStringTag")]="z";var qs,Vi,Gs,Ks=String(Fv)==="[object z]",x1=Ks,T1=nt,na=Br,I1=Ue("toStringTag"),$1=Object,P1=na(function(){return arguments}())==="Arguments",oi=x1?na:function(i){var e,t,r;return i===void 0?"Undefined":i===null?"Null":typeof(t=function(n,o){try{return n[o]}catch(s){}}(e=$1(i),I1))=="string"?t:P1?na(e):(r=na(e))==="Object"&&T1(e.callee)?"Arguments":r},C1=oi,jv=String,Xt=function(i){if(C1(i)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return jv(i)},$h=we,D1=Wi,oa=Xt,zv=ri,Ys=$h("".charAt),Ph=$h("".charCodeAt),M1=$h("".slice),Lv=function(i){return function(e,t){var r,n,o=oa(zv(e)),s=D1(t),u=o.length;return s<0||s>=u?i?"":void 0:(r=Ph(o,s))<55296||r>56319||s+1===u||(n=Ph(o,s+1))<56320||n>57343?i?Ys(o,s):r:i?M1(o,s,s+2):n-56320+(r-55296<<10)+65536}},A1={codeAt:Lv(!1),charAt:Lv(!0)},N1=nt,Ch=Ie.WeakMap,Hv=N1(Ch)&&/native code/.test(String(Ch)),R1=As,aa=ii("keys"),Xs=function(i){return aa[i]||(aa[i]=R1(i))},B1=Hv,Wv=Ie,F1=ot,sa=Hi,Dh=st,Mh=nh,j1=Xs,z1=ea,Uv="Object already initialized",Ah=Wv.TypeError,Vv=Wv.WeakMap;if(B1||Mh.state){var ur=Mh.state||(Mh.state=new Vv);ur.get=ur.get,ur.has=ur.has,ur.set=ur.set,qs=function(i,e){if(ur.has(i))throw new Ah(Uv);return e.facade=i,ur.set(i,e),e},Vi=function(i){return ur.get(i)||{}},Gs=function(i){return ur.has(i)}}else{var Gn=j1("state");z1[Gn]=!0,qs=function(i,e){if(Dh(i,Gn))throw new Ah(Uv);return e.facade=i,sa(i,Gn,e),e},Vi=function(i){return Dh(i,Gn)?i[Gn]:{}},Gs=function(i){return Dh(i,Gn)}}var _r={set:qs,get:Vi,has:Gs,enforce:function(i){return Gs(i)?Vi(i):qs(i,{})},getterFor:function(i){return function(e){var t;if(!F1(e)||(t=Vi(e)).type!==i)throw new Ah("Incompatible receiver, "+i+" required");return t}}},Nh=Ze,L1=st,Rh=Function.prototype,H1=Nh&&Object.getOwnPropertyDescriptor,Bh=L1(Rh,"name"),W1={EXISTS:Bh,PROPER:Bh&&function(){}.name==="something",CONFIGURABLE:Bh&&(!Nh||Nh&&H1(Rh,"name").configurable)},Qs={},U1=Ze,qi=yv,Js=Rt,V1=Vt,q1=br,G1=Ls;Qs.f=U1&&!qi?Object.defineProperties:function(i,e){V1(i);for(var t,r=q1(e),n=G1(e),o=n.length,s=0;o>s;)Js.f(i,t=n[s++],r[t]);return i};var Gi,K1=be("document","documentElement"),Y1=Vt,X1=Qs,Fh=zs,Q1=ea,la=K1,J1=dv,ua="prototype",jh="script",qv=Xs("IE_PROTO"),zh=function(){},Lh=function(i){return"<"+jh+">"+i+"</"+jh+">"},Hh=function(i){i.write(Lh("")),i.close();var e=i.parentWindow.Object;return i=null,e},Kn=function(){try{Gi=new ActiveXObject("htmlfile")}catch(n){}var i,e,t;Kn=typeof document!="undefined"?document.domain&&Gi?Hh(Gi):(e=J1("iframe"),t="java"+jh+":",e.style.display="none",la.appendChild(e),e.src=String(t),(i=e.contentWindow.document).open(),i.write(Lh("document.F=Object")),i.close(),i.F):Hh(Gi);for(var r=Fh.length;r--;)delete Kn[ua][Fh[r]];return Kn()};Q1[qv]=!0;var Ki,Gv,ha,Yn=Object.create||function(i,e){var t;return i!==null?(zh[ua]=Y1(i),t=new zh,zh[ua]=null,t[qv]=i):t=Kn(),e===void 0?t:X1.f(t,e)},Kv=!J(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype}),Z1=st,e_=nt,t_=At,r_=Kv,Yv=Xs("IE_PROTO"),Zs=Object,i_=Zs.prototype,el=r_?Zs.getPrototypeOf:function(i){var e=t_(i);if(Z1(e,Yv))return e[Yv];var t=e.constructor;return e_(t)&&e instanceof t?t.prototype:e instanceof Zs?i_:null},Xv=Hi,ai=function(i,e,t,r){return r&&r.enumerable?i[e]=t:Xv(i,e,t),i},n_=J,o_=nt,Qv=ot,a_=Yn,Jv=el,s_=ai,Wh=Ue("iterator"),Uh=!1;[].keys&&("next"in(ha=[].keys())?(Gv=Jv(Jv(ha)))!==Object.prototype&&(Ki=Gv):Uh=!0);var Zv=!Qv(Ki)||n_(function(){var i={};return Ki[Wh].call(i)!==i});o_((Ki=Zv?{}:a_(Ki))[Wh])||s_(Ki,Wh,function(){return this});var tl={IteratorPrototype:Ki,BUGGY_SAFARI_ITERATORS:Uh},Vh=oi,ep=Ks?{}.toString:function(){return"[object "+Vh(this)+"]"},qh=Ks,tp=Rt.f,rp=Hi,l_=st,rl=ep,ca=Ue("toStringTag"),Qt=function(i,e,t,r){if(i){var n=t?i:i.prototype;l_(n,ca)||tp(n,ca,{configurable:!0,value:e}),r&&!qh&&rp(n,"toString",rl)}},Er={},u_=tl.IteratorPrototype,h_=Yn,c_=Dn,Gh=Qt,ip=Er,d_=function(){return this},f_=we,v_=zi,p_=nt,np=String,g_=TypeError,y_=function(i,e,t){try{return f_(v_(Object.getOwnPropertyDescriptor(i,e)[t]))}catch(r){}},op=Vt,m_=function(i){if(typeof i=="object"||p_(i))return i;throw new g_("Can't set "+np(i)+" as a prototype")},ap=Object.setPrototypeOf||("__proto__"in{}?function(){var i,e=!1,t={};try{(i=y_(Object.prototype,"__proto__","set"))(t,[]),e=t instanceof Array}catch(r){}return function(r,n){return op(r),m_(n),e?i(r,n):r.__proto__=n,r}}():void 0),b_=Y,da=et,w_=W1,Xn=function(i,e,t,r){var n=e+" Iterator";return i.prototype=h_(u_,{next:c_(+!r,t)}),Gh(i,n,!1,!0),ip[n]=d_,i},__=el,Kh=Qt,Qn=ai,sp=Er,lp=tl,E_=w_.PROPER,il=lp.BUGGY_SAFARI_ITERATORS,Yh=Ue("iterator"),Le="keys",nl="values",up="entries",k_=function(){return this},Xh=function(i,e,t,r,n,o,s){Xn(t,e,r);var u,h,v,g=function(D){if(D===n&&x)return x;if(!il&&D&&D in k)return k[D];switch(D){case Le:case nl:case up:return function(){return new t(this,D)}}return function(){return new t(this)}},y=e+" Iterator",w=!1,k=i.prototype,O=k[Yh]||k["@@iterator"]||n&&k[n],x=!il&&O||g(n),$=e==="Array"&&k.entries||O;if($&&(u=__($.call(new i)))!==Object.prototype&&u.next&&(Kh(u,y,!0,!0),sp[y]=k_),E_&&n===nl&&O&&O.name!==nl&&(w=!0,x=function(){return da(O,this)}),n)if(h={values:g(nl),keys:o?x:g(Le),entries:g(up)},s)for(v in h)(il||w||!(v in k))&&Qn(k,v,h[v]);else b_({target:e,proto:!0,forced:il||w},h);return s&&k[Yh]!==x&&Qn(k,Yh,x,{name:n}),sp[e]=x,h},ol=function(i,e){return{value:i,done:e}},O_=A1.charAt,S_=Xt,hp=_r,x_=Xh,cp=ol,dp="String Iterator",T_=hp.set,I_=hp.getterFor(dp);x_(String,"String",function(i){T_(this,{type:dp,string:S_(i),index:0})},function(){var i,e=I_(this),t=e.string,r=e.index;return r>=t.length?cp(void 0,!0):(i=O_(t,r),e.index+=i.length,cp(i,!1))});var $_=et,Qh=Vt,Yi=th,fp=function(i,e,t){var r,n;Qh(i);try{if(!(r=Yi(i,"return"))){if(e==="throw")throw t;return t}r=$_(r,i)}catch(o){n=!0,r=o}if(e==="throw")throw t;if(n)throw r;return Qh(r),t},P_=Vt,vp=fp,C_=Er,D_=Ue("iterator"),pp=Array.prototype,gp=function(i){return i!==void 0&&(C_.Array===i||pp[D_]===i)},M_=nt,fa=nh,Jh=we(Function.toString);M_(fa.inspectSource)||(fa.inspectSource=function(i){return Jh(i)});var A_=fa.inspectSource,N_=we,yp=J,al=nt,R_=oi,sl=A_,Jn=function(){},ll=[],mp=be("Reflect","construct"),Zh=/^\s*(?:class|function)\b/,kr=N_(Zh.exec),Zn=!Zh.test(Jn),Or=function(i){if(!al(i))return!1;try{return mp(Jn,ll,i),!0}catch(e){return!1}},bp=function(i){if(!al(i))return!1;switch(R_(i)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Zn||!!kr(Zh,sl(i))}catch(e){return!0}};bp.sham=!0;var ul=!mp||yp(function(){var i;return Or(Or.call)||!Or(Object)||!Or(function(){i=!0})||i})?bp:Or,B_=Rs,F_=Rt,j_=Dn,eo=function(i,e,t){var r=B_(e);r in i?F_.f(i,r,j_(0,t)):i[r]=t},wp=oi,Lr=th,to=Mn,hl=Er,va=Ue("iterator"),ro=function(i){if(!to(i))return Lr(i,va)||Lr(i,"@@iterator")||hl[wp(i)]},z_=et,io=zi,no=Vt,L_=Rn,ut=ro,H_=TypeError,cl=function(i,e){var t=arguments.length<2?ut(i):e;if(io(t))return no(z_(t,i));throw new H_(L_(i)+" is not iterable")},dl=Yo,ec=et,W_=At,tc=function(i,e,t,r){try{return r?e(P_(t)[0],t[1]):e(t)}catch(n){vp(i,"throw",n)}},pa=gp,_p=ul,U_=Yt,rc=eo,V_=cl,Ep=ro,ic=Array,kp=Ue("iterator"),nc=!1;try{var Op=0,Sp={next:function(){return{done:!!Op++}},return:function(){nc=!0}};Sp[kp]=function(){return this},Array.from(Sp,function(){throw 2})}catch(i){}var oc=function(i){var e=W_(i),t=_p(this),r=arguments.length,n=r>1?arguments[1]:void 0,o=n!==void 0;o&&(n=dl(n,r>2?arguments[2]:void 0));var s,u,h,v,g,y,w=Ep(e),k=0;if(!w||this===ic&&pa(w))for(s=U_(e),u=t?new this(s):ic(s);s>k;k++)y=o?n(e[k],k):e[k],rc(u,k,y);else for(g=(v=V_(e,w)).next,u=t?new this:[];!(h=ec(g,v)).done;k++)y=o?tc(v,n,[h.value,k],!0):h.value,rc(u,k,y);return u.length=k,u},q_=function(i,e){try{if(!e&&!nc)return!1}catch(n){return!1}var t=!1;try{var r={};r[kp]=function(){return{next:function(){return{done:t=!0}}}},i(r)}catch(n){}return t};Y({target:"Array",stat:!0,forced:!q_(function(i){Array.from(i)})},{from:oc});var ac=ue.Array.from,si=A(ac),G_=br,xp=Er,Tp=_r;Rt.f;var K_=Xh,fl=ol,sc="Array Iterator",vl=Tp.set,Ft=Tp.getterFor(sc);K_(Array,"Array",function(i,e){vl(this,{type:sc,target:G_(i),index:0,kind:e})},function(){var i=Ft(this),e=i.target,t=i.kind,r=i.index++;if(!e||r>=e.length)return i.target=void 0,fl(void 0,!0);switch(t){case"keys":return fl(r,!1);case"values":return fl(e[r],!1)}return fl([r,e[r]],!1)},"values"),xp.Arguments=xp.Array;var pl=ro,ga={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Y_=Ie,Ip=oi,hr=Hi,li=Er,oo=Ue("toStringTag");for(var lc in ga){var $p=Y_[lc],ya=$p&&$p.prototype;ya&&Ip(ya)!==oo&&hr(ya,oo,lc),li[lc]=li.Array}var uc=pl,ui=A(uc),hi=A(uc);function L(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}var hc={exports:{}},Hr=Y,ma=Ze,Pp=Rt.f;Hr({target:"Object",stat:!0,forced:Object.defineProperty!==Pp,sham:!ma},{defineProperty:Pp});var gl=ue.Object,Cp=hc.exports=function(i,e,t){return gl.defineProperty(i,e,t)};gl.defineProperty.sham&&(Cp.sham=!0);var yl=hc.exports,ao=A(yl),ml=Br,Wr=Array.isArray||function(i){return ml(i)==="Array"},X_=TypeError,bl=function(i){if(i>9007199254740991)throw X_("Maximum allowed index exceeded");return i},cc=Wr,Dp=ul,Mp=ot,Q_=Ue("species"),dc=Array,J_=function(i){var e;return cc(i)&&(e=i.constructor,(Dp(e)&&(e===dc||cc(e.prototype))||Mp(e)&&(e=e[Q_])===null)&&(e=void 0)),e===void 0?dc:e},fc=function(i,e){return new(J_(i))(e===0?0:e)},Z_=J,eE=Fi,Ap=Ue("species"),ba=function(i){return eE>=51||!Z_(function(){var e=[];return(e.constructor={})[Ap]=function(){return{foo:1}},e[i](Boolean).foo!==1})},vc=Y,tE=J,rE=Wr,iE=ot,nE=At,oE=Yt,Np=bl,Rp=eo,Bp=fc,aE=ba,wa=Fi,Fp=Ue("isConcatSpreadable"),jp=wa>=51||!tE(function(){var i=[];return i[Fp]=!1,i.concat()[0]!==i}),sE=function(i){if(!iE(i))return!1;var e=i[Fp];return e!==void 0?!!e:rE(i)};vc({target:"Array",proto:!0,arity:1,forced:!jp||!aE("concat")},{concat:function(i){var e,t,r,n,o,s=nE(this),u=Bp(s,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(sE(o=e===-1?s:arguments[e]))for(n=oE(o),Np(h+n),t=0;t<n;t++,h++)t in o&&Rp(u,h,o[t]);else Np(h+1),Rp(u,h++,o);return u.length=h,u}});var so={},lE=Ui,zp=zs.concat("length","prototype");so.f=Object.getOwnPropertyNames||function(i){return lE(i,zp)};var wl={},Lp=Jo,Hp=Yt,Wp=eo,uE=Array,_a=Math.max,pc=function(i,e,t){for(var r=Hp(i),n=Lp(e,r),o=Lp(t===void 0?r:t,r),s=uE(_a(o-n,0)),u=0;n<o;n++,u++)Wp(s,u,i[n]);return s.length=u,s},Up=Br,Vp=br,gc=so.f,hE=pc,qp=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];wl.f=function(i){return qp&&Up(i)==="Window"?function(e){try{return gc(e)}catch(t){return hE(qp)}}(i):gc(Vp(i))};var cE=Rt,Sr=function(i,e,t){return cE.f(i,e,t)},ci={},Gp=Ue;ci.f=Gp;var Kp=ue,dE=st,fE=ci,vE=Rt.f,He=function(i){var e=Kp.Symbol||(Kp.Symbol={});dE(e,i)||vE(e,i,{value:fE.f(i)})},Yp=et,Xp=be,Qp=Ue,pE=ai,Jp=function(){var i=Xp("Symbol"),e=i&&i.prototype,t=e&&e.valueOf,r=Qp("toPrimitive");e&&!e[r]&&pE(e,r,function(n){return Yp(t,this)},{arity:1})},gE=Yo,yE=xs,mE=At,Zp=Yt,bE=fc,eg=we([].push),di=function(i){var e=i===1,t=i===2,r=i===3,n=i===4,o=i===6,s=i===7,u=i===5||o;return function(h,v,g,y){for(var w,k,O=mE(h),x=yE(O),$=gE(v,g),D=Zp(x),N=0,z=y||bE,U=e?z(h,D):t||s?z(h,0):void 0;D>N;N++)if((u||N in x)&&(k=$(w=x[N],N,O),i))if(e)U[N]=k;else if(k)switch(i){case 3:return!0;case 5:return w;case 6:return N;case 2:eg(U,w)}else switch(i){case 4:return!1;case 7:eg(U,w)}return o?-1:r||n?n:U}},Ur={forEach:di(0),map:di(1),filter:di(2),some:di(3),every:di(4),find:di(5),findIndex:di(6),filterReject:di(7)},_l=Y,El=Ie,yc=et,wE=we,lo=Ze,uo=ji,_E=J,ht=st,EE=je,mc=Vt,kl=br,bc=Rs,kE=Xt,wc=Dn,Ea=Yn,tg=Ls,OE=so,rg=wl,ho=ta,Ol=Ni,ig=Rt,ng=Qs,og=Os,Sl=ai,SE=Sr,_c=ii,ag=ea,sg=As,lg=Ue,xE=ci,TE=He,IE=Jp,$E=Qt,ug=_r,ka=Ur.forEach,wt=Xs("hidden"),xl="Symbol",fi="prototype",PE=ug.set,hg=ug.getterFor(xl),cr=Object[fi],Xi=El.Symbol,Oa=Xi&&Xi[fi],CE=El.RangeError,DE=El.TypeError,Sa=El.QObject,Ec=Ol.f,kt=ig.f,Tl=rg.f,kc=og.f,cg=wE([].push),xr=_c("symbols"),xa=_c("op-symbols"),ME=_c("wks"),Oc=!Sa||!Sa[fi]||!Sa[fi].findChild,dg=function(i,e,t){var r=Ec(cr,e);r&&delete cr[e],kt(i,e,t),r&&i!==cr&&kt(cr,e,r)},Sc=lo&&_E(function(){return Ea(kt({},"a",{get:function(){return kt(this,"a",{value:7}).a}})).a!==7})?dg:kt,xc=function(i,e){var t=xr[i]=Ea(Oa);return PE(t,{type:xl,tag:i,description:e}),lo||(t.description=e),t},Il=function(i,e,t){i===cr&&Il(xa,e,t),mc(i);var r=bc(e);return mc(t),ht(xr,r)?(t.enumerable?(ht(i,wt)&&i[wt][r]&&(i[wt][r]=!1),t=Ea(t,{enumerable:wc(0,!1)})):(ht(i,wt)||kt(i,wt,wc(1,{})),i[wt][r]=!0),Sc(i,r,t)):kt(i,r,t)},Tc=function(i,e){mc(i);var t=kl(e),r=tg(t).concat(gg(t));return ka(r,function(n){lo&&!yc(fg,t,n)||Il(i,n,t[n])}),i},fg=function(i){var e=bc(i),t=yc(kc,this,e);return!(this===cr&&ht(xr,e)&&!ht(xa,e))&&(!(t||!ht(this,e)||!ht(xr,e)||ht(this,wt)&&this[wt][e])||t)},vg=function(i,e){var t=kl(i),r=bc(e);if(t!==cr||!ht(xr,r)||ht(xa,r)){var n=Ec(t,r);return!n||!ht(xr,r)||ht(t,wt)&&t[wt][r]||(n.enumerable=!0),n}},pg=function(i){var e=Tl(kl(i)),t=[];return ka(e,function(r){ht(xr,r)||ht(ag,r)||cg(t,r)}),t},gg=function(i){var e=i===cr,t=Tl(e?xa:kl(i)),r=[];return ka(t,function(n){!ht(xr,n)||e&&!ht(cr,n)||cg(r,xr[n])}),r};uo||(Xi=function(){if(EE(Oa,this))throw new DE("Symbol is not a constructor");var i=arguments.length&&arguments[0]!==void 0?kE(arguments[0]):void 0,e=sg(i),t=function(r){this===cr&&yc(t,xa,r),ht(this,wt)&&ht(this[wt],e)&&(this[wt][e]=!1);var n=wc(1,r);try{Sc(this,e,n)}catch(o){if(!(o instanceof CE))throw o;dg(this,e,n)}};return lo&&Oc&&Sc(cr,e,{configurable:!0,set:t}),xc(e,i)},Sl(Oa=Xi[fi],"toString",function(){return hg(this).tag}),Sl(Xi,"withoutSetter",function(i){return xc(sg(i),i)}),og.f=fg,ig.f=Il,ng.f=Tc,Ol.f=vg,OE.f=rg.f=pg,ho.f=gg,xE.f=function(i){return xc(lg(i),i)},lo&&SE(Oa,"description",{configurable:!0,get:function(){return hg(this).description}})),_l({global:!0,constructor:!0,wrap:!0,forced:!uo,sham:!uo},{Symbol:Xi}),ka(tg(ME),function(i){TE(i)}),_l({target:xl,stat:!0,forced:!uo},{useSetter:function(){Oc=!0},useSimple:function(){Oc=!1}}),_l({target:"Object",stat:!0,forced:!uo,sham:!lo},{create:function(i,e){return e===void 0?Ea(i):Tc(Ea(i),e)},defineProperty:Il,defineProperties:Tc,getOwnPropertyDescriptor:vg}),_l({target:"Object",stat:!0,forced:!uo},{getOwnPropertyNames:pg}),IE(),$E(Xi,xl),ag[wt]=!0;var yg=ji&&!!Symbol.for&&!!Symbol.keyFor,AE=Y,NE=be,RE=st,BE=Xt,Ic=ii,FE=yg,$c=Ic("string-to-symbol-registry"),mg=Ic("symbol-to-string-registry");AE({target:"Symbol",stat:!0,forced:!FE},{for:function(i){var e=BE(i);if(RE($c,e))return $c[e];var t=NE("Symbol")(e);return $c[e]=t,mg[t]=e,t}});var jE=Y,zE=st,LE=Go,bg=Rn,HE=yg,Pc=ii("symbol-to-string-registry");jE({target:"Symbol",stat:!0,forced:!HE},{keyFor:function(i){if(!LE(i))throw new TypeError(bg(i)+" is not a symbol");if(zE(Pc,i))return Pc[i]}});var Cc=Wr,WE=nt,Ta=Br,Dc=Xt,Mc=we([].push),$l=Y,Ac=be,wg=Cn,Nc=et,Qi=we,_g=J,Rc=nt,Bc=Go,Eg=Ws,Pl=function(i){if(WE(i))return i;if(Cc(i)){for(var e=i.length,t=[],r=0;r<e;r++){var n=i[r];typeof n=="string"?Mc(t,n):typeof n!="number"&&Ta(n)!=="Number"&&Ta(n)!=="String"||Mc(t,Dc(n))}var o=t.length,s=!0;return function(u,h){if(s)return s=!1,h;if(Cc(this))return h;for(var v=0;v<o;v++)if(t[v]===u)return h}}},kg=ji,UE=String,vi=Ac("JSON","stringify"),Cl=Qi(/./.exec),Og=Qi("".charAt),VE=Qi("".charCodeAt),qE=Qi("".replace),GE=Qi(1 .toString),Sg=/[\uD800-\uDFFF]/g,xg=/^[\uD800-\uDBFF]$/,Fc=/^[\uDC00-\uDFFF]$/,Dl=!kg||_g(function(){var i=Ac("Symbol")("stringify detection");return vi([i])!=="[null]"||vi({a:i})!=="{}"||vi(Object(i))!=="{}"}),jc=_g(function(){return vi("\uDF06\uD834")!=='"\\udf06\\ud834"'||vi("\uDEAD")!=='"\\udead"'}),zc=function(i,e){var t=Eg(arguments),r=Pl(e);if(Rc(r)||i!==void 0&&!Bc(i))return t[1]=function(n,o){if(Rc(r)&&(o=Nc(r,this,UE(n),o)),!Bc(o))return o},wg(vi,null,t)},KE=function(i,e,t){var r=Og(t,e-1),n=Og(t,e+1);return Cl(xg,i)&&!Cl(Fc,n)||Cl(Fc,i)&&!Cl(xg,r)?"\\u"+GE(VE(i,0),16):i};vi&&$l({target:"JSON",stat:!0,arity:3,forced:Dl||jc},{stringify:function(i,e,t){var r=Eg(arguments),n=wg(Dl?zc:vi,null,r);return jc&&typeof n=="string"?qE(n,Sg,KE):n}});var Lc=ta,YE=At;Y({target:"Object",stat:!0,forced:!ji||J(function(){Lc.f(1)})},{getOwnPropertySymbols:function(i){var e=Lc.f;return e?e(YE(i)):[]}}),He("asyncIterator"),He("hasInstance"),He("isConcatSpreadable"),He("iterator"),He("match"),He("matchAll"),He("replace"),He("search"),He("species"),He("split");var XE=Jp;He("toPrimitive"),XE();var Tg=be,Ig=Qt;He("toStringTag"),Ig(Tg("Symbol"),"Symbol"),He("unscopables"),Qt(Ie.JSON,"JSON",!0);var $g=ue.Symbol,QE=Ue,JE=Rt.f,Pg=QE("metadata"),Cg=Function.prototype;Cg[Pg]===void 0&&JE(Cg,Pg,{value:null}),He("asyncDispose"),He("dispose"),He("metadata");var ZE=$g,ek=we,Ia=be("Symbol"),tk=Ia.keyFor,rk=ek(Ia.prototype.valueOf),Hc=Ia.isRegisteredSymbol||function(i){try{return tk(rk(i))!==void 0}catch(e){return!1}};Y({target:"Symbol",stat:!0},{isRegisteredSymbol:Hc});for(var ik=ii,Dg=be,nk=we,Mg=Go,ok=Ue,Ml=Dg("Symbol"),Ag=Ml.isWellKnownSymbol,$a=Dg("Object","getOwnPropertyNames"),Ng=nk(Ml.prototype.valueOf),Wc=ik("wks"),Uc=0,Vc=$a(Ml),qc=Vc.length;Uc<qc;Uc++)try{var Gc=Vc[Uc];Mg(Ml[Gc])&&ok(Gc)}catch(i){}var Rg=function(i){if(Ag&&Ag(i))return!0;try{for(var e=Ng(i),t=0,r=$a(Wc),n=r.length;t<n;t++)if(Wc[r[t]]==e)return!0}catch(o){}return!1};Y({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:Rg}),He("matcher"),He("observable"),Y({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Hc}),Y({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:Rg}),He("metadataKey"),He("patternMatch"),He("replaceAll");var Ji=A(ZE),Bg=A(ci.f("iterator"));function xe(i){return xe=typeof Ji=="function"&&typeof Bg=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Ji=="function"&&e.constructor===Ji&&e!==Ji.prototype?"symbol":typeof e},xe(i)}var ak=A(ci.f("toPrimitive"));function Fg(i){var e=function(t,r){if(xe(t)!=="object"||t===null)return t;var n=t[ak];if(n!==void 0){var o=n.call(t,r||"default");if(xe(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}(i,"string");return xe(e)==="symbol"?e:String(e)}function jg(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),ao(i,Fg(r.key),r)}}function H(i,e,t){return e&&jg(i.prototype,e),t&&jg(i,t),ao(i,"prototype",{writable:!1}),i}Y({target:"Array",stat:!0},{isArray:Wr});var zg=ue.Array.isArray,Lg=A(zg),sk=Ze,lk=Wr,uk=TypeError,hk=Object.getOwnPropertyDescriptor,Hg=sk&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(i){return i instanceof TypeError}}()?function(i,e){if(lk(i)&&!hk(i,"length").writable)throw new uk("Cannot set read only .length");return i.length=e}:function(i,e){return i.length=e},ck=At,Kc=Yt,co=Hg,Yc=bl;Y({target:"Array",proto:!0,arity:1,forced:J(function(){return[].push.call({length:4294967296},1)!==4294967297})||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(i){return i instanceof TypeError}}()},{push:function(i){var e=ck(this),t=Kc(e),r=arguments.length;Yc(t+r);for(var n=0;n<r;n++)e[t]=arguments[n],t++;return co(e,t),t}});var dk=lt("Array").push,fk=je,vk=dk,Xc=Array.prototype,Wg=function(i){var e=i.push;return i===Xc||fk(Xc,i)&&e===Xc.push?vk:e},pk=A(Wg),Ug=Y,Vg=Wr,gk=ul,yk=ot,Qc=Jo,mk=Yt,qg=br,Gg=eo,bk=Ue,wk=Ws,_k=ba("slice"),Ek=bk("species"),Jc=Array,Kg=Math.max;Ug({target:"Array",proto:!0,forced:!_k},{slice:function(i,e){var t,r,n,o=qg(this),s=mk(o),u=Qc(i,s),h=Qc(e===void 0?s:e,s);if(Vg(o)&&(t=o.constructor,(gk(t)&&(t===Jc||Vg(t.prototype))||yk(t)&&(t=t[Ek])===null)&&(t=void 0),t===Jc||t===void 0))return wk(o,u,h);for(r=new(t===void 0?Jc:t)(Kg(h-u,0)),n=0;u<h;u++,n++)u in o&&Gg(r,n,o[u]);return r.length=n,r}});var kk=lt("Array").slice,Ok=je,Sk=kk,Zc=Array.prototype,Yg=function(i){var e=i.slice;return i===Zc||Ok(Zc,i)&&e===Zc.slice?Sk:e},Xg=Yg,fo=A(Xg),Qg=A(ac);function ed(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}function Jg(i,e){var t;if(i){if(typeof i=="string")return ed(i,e);var r=fo(t=Object.prototype.toString.call(i)).call(t,8,-1);return r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set"?Qg(i):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ed(i,e):void 0}}function Ve(i,e){return function(t){if(Lg(t))return t}(i)||function(t,r){var n=t==null?null:Ji!==void 0&&ui(t)||t["@@iterator"];if(n!=null){var o,s,u,h,v=[],g=!0,y=!1;try{if(u=(n=n.call(t)).next,r===0){if(Object(n)!==n)return;g=!1}else for(;!(g=(o=u.call(n)).done)&&(pk(v).call(v,o.value),v.length!==r);g=!0);}catch(w){y=!0,s=w}finally{try{if(!g&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(y)throw s}}return v}}(i,e)||Jg(i,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Tr(i){return function(e){if(Lg(e))return ed(e)}(i)||function(e){if(Ji!==void 0&&ui(e)!=null||e["@@iterator"]!=null)return Qg(e)}(i)||Jg(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var pi=A($g),xk=lt("Array").concat,Tk=je,Ik=xk,td=Array.prototype,$k=function(i){var e=i.concat;return i===td||Tk(td,i)&&e===td.concat?Ik:e},Al=A($k),ct=A(Xg),Zi=be,Jt=so,Zg=ta,Pk=Vt,Ck=we([].concat),Dk=Zi("Reflect","ownKeys")||function(i){var e=Jt.f(Pk(i)),t=Zg.f;return t?Ck(e,t(i)):e},ke=A(zg),Mk=Ur.map;Y({target:"Array",proto:!0,forced:!ba("map")},{map:function(i){return Mk(this,i,arguments.length>1?arguments[1]:void 0)}});var ey=lt("Array").map,Ak=je,Nk=ey,Pa=Array.prototype,Rk=function(i){var e=i.map;return i===Pa||Ak(Pa,i)&&e===Pa.map?Nk:e},en=A(Rk),Bk=At,rd=Ls;Y({target:"Object",stat:!0,forced:J(function(){rd(1)})},{keys:function(i){return rd(Bk(i))}});var qe=A(ue.Object.keys),Fk=Y,gt=Date,jk=we(gt.prototype.getTime);Fk({target:"Date",stat:!0},{now:function(){return jk(new gt)}});var Nl=A(ue.Date.now),zk=J,vo=function(i,e){var t=[][i];return!!t&&zk(function(){t.call(null,e||function(){return 1},1)})},id=Ur.forEach,ty=vo("forEach")?[].forEach:function(i){return id(this,i,arguments.length>1?arguments[1]:void 0)};Y({target:"Array",proto:!0,forced:[].forEach!==ty},{forEach:ty});var Lk=lt("Array").forEach,ry=oi,Hk=st,tn=je,Wk=Lk,nd=Array.prototype,Uk={DOMTokenList:!0,NodeList:!0},Vk=function(i){var e=i.forEach;return i===nd||tn(nd,i)&&e===nd.forEach||Hk(Uk,ry(i))?Wk:e},Pe=A(Vk),iy=Y,qk=Wr,Gk=we([].reverse),Ca=[1,2];iy({target:"Array",proto:!0,forced:String(Ca)===String(Ca.reverse())},{reverse:function(){return qk(this)&&(this.length=this.length),Gk(this)}});var Kk=lt("Array").reverse,Yk=je,Da=Kk,od=Array.prototype,Xk=function(i){var e=i.reverse;return i===od||Yk(od,i)&&e===od.reverse?Da:e},rn=A(Xk),ad=Rn,Qk=TypeError,ny=function(i,e){if(!delete i[e])throw new Qk("Cannot delete property "+ad(e)+" of "+ad(i))},Jk=Y,Zk=At,eO=Jo,tO=Wi,rO=Yt,sd=Hg,iO=bl,nO=fc,oO=eo,ld=ny,oy=ba("splice"),aO=Math.max,sO=Math.min;Jk({target:"Array",proto:!0,forced:!oy},{splice:function(i,e){var t,r,n,o,s,u,h=Zk(this),v=rO(h),g=eO(i,v),y=arguments.length;for(y===0?t=r=0:y===1?(t=0,r=v-g):(t=y-2,r=sO(aO(tO(e),0),v-g)),iO(v+t-r),n=nO(h,r),o=0;o<r;o++)(s=g+o)in h&&oO(n,o,h[s]);if(n.length=r,t<r){for(o=g;o<v-r;o++)u=o+t,(s=o+r)in h?h[u]=h[s]:ld(h,u);for(o=v;o>v-r+t;o--)ld(h,o-1)}else if(t>r)for(o=v-r;o>g;o--)u=o+t-1,(s=o+r-1)in h?h[u]=h[s]:ld(h,u);for(o=0;o<t;o++)h[o+g]=arguments[o+2];return sd(h,v-r+t),n}});var lO=lt("Array").splice,uO=je,hO=lO,ud=Array.prototype,cO=function(i){var e=i.splice;return i===ud||uO(ud,i)&&e===ud.splice?hO:e},Vr=A(cO),hd=_h.includes;Y({target:"Array",proto:!0,forced:J(function(){return!Array(1).includes()})},{includes:function(i){return hd(this,i,arguments.length>1?arguments[1]:void 0)}});var dO=lt("Array").includes,fO=ot,vO=Br,pO=Ue("match"),dt=function(i){var e;return fO(i)&&((e=i[pO])!==void 0?!!e:vO(i)==="RegExp")},gO=TypeError,yO=Ue("match"),mO=Y,bO=function(i){if(dt(i))throw new gO("The method doesn't accept regular expressions");return i},wO=ri,ay=Xt,_O=function(i){var e=/./;try{"/./"[i](e)}catch(t){try{return e[yO]=!1,"/./"[i](e)}catch(r){}}return!1},EO=we("".indexOf);mO({target:"String",proto:!0,forced:!_O("includes")},{includes:function(i){return!!~EO(ay(wO(this)),ay(bO(i)),arguments.length>1?arguments[1]:void 0)}});var cd=lt("String").includes,sy=je,kO=dO,OO=cd,dd=Array.prototype,Ot=String.prototype,SO=function(i){var e=i.includes;return i===dd||sy(dd,i)&&e===dd.includes?kO:typeof i=="string"||i===Ot||sy(Ot,i)&&e===Ot.includes?OO:e},gi=A(SO),xO=At,ly=el,uy=Kv;Y({target:"Object",stat:!0,forced:J(function(){ly(1)}),sham:!uy},{getPrototypeOf:function(i){return ly(xO(i))}});var hy=ue.Object.getPrototypeOf,cy=A(hy),TO=Ur.filter;Y({target:"Array",proto:!0,forced:!ba("filter")},{filter:function(i){return TO(this,i,arguments.length>1?arguments[1]:void 0)}});var IO=lt("Array").filter,$O=je,PO=IO,fd=Array.prototype,CO=function(i){var e=i.filter;return i===fd||$O(fd,i)&&e===fd.filter?PO:e},jt=A(CO),vd=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,DO=ri,pd=Xt,gd=vd,dy=we("".replace),MO=RegExp("^["+gd+"]+"),AO=RegExp("(^|[^"+gd+"])["+gd+"]+$"),yd=function(i){return function(e){var t=pd(DO(e));return 1&i&&(t=dy(t,MO,"")),2&i&&(t=dy(t,AO,"$1")),t}},fy={start:yd(1),end:yd(2),trim:yd(3)},vy=Ie,NO=J,RO=we,py=Xt,BO=fy.trim,md=vd,Ma=vy.parseInt,gy=vy.Symbol,yy=gy&&gy.iterator,my=/^[+-]?0x/i,FO=RO(my.exec),by=Ma(md+"08")!==8||Ma(md+"0x16")!==22||yy&&!NO(function(){Ma(Object(yy))})?function(i,e){var t=BO(py(i));return Ma(t,e>>>0||(FO(my,t)?16:10))}:Ma;Y({global:!0,forced:parseInt!==by},{parseInt:by});var dr=A(ue.parseInt),wy=Y,jO=_h.indexOf,_y=vo,bd=ks([].indexOf),Ey=!!bd&&1/bd([1],1,-0)<0;wy({target:"Array",proto:!0,forced:Ey||!_y("indexOf")},{indexOf:function(i){var e=arguments.length>1?arguments[1]:void 0;return Ey?bd(this,i,e)||0:jO(this,i,e)}});var zO=lt("Array").indexOf,LO=je,Rl=zO,wd=Array.prototype,HO=function(i){var e=i.indexOf;return i===wd||LO(wd,i)&&e===wd.indexOf?Rl:e},_e=A(HO);Y({target:"Object",stat:!0,sham:!Ze},{create:Yn});var WO=ue.Object,ky=function(i,e){return WO.create(i,e)},nn=A(ky),Aa=ue,UO=Cn;Aa.JSON||(Aa.JSON={stringify:JSON.stringify});var VO=function(i,e,t){return UO(Aa.JSON.stringify,null,arguments)},Na=A(VO),qO=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",GO=TypeError,Oy=Ie,KO=Cn,Sy=nt,YO=qO,XO=Bi,xy=Ws,QO=function(i,e){if(i<e)throw new GO("Not enough arguments");return i},JO=Oy.Function,Ty=/MSIE .\./.test(XO)||YO&&function(){var i=Oy.Bun.version.split(".");return i.length<3||i[0]==="0"&&(i[1]<3||i[1]==="3"&&i[2]==="0")}(),_d=function(i,e){var t=e?2:1;return Ty?function(r,n){var o=QO(arguments.length,1)>t,s=Sy(r)?r:JO(r),u=o?xy(arguments,t):[],h=o?function(){KO(s,this,u)}:s;return e?i(h,n):i(h)}:i},ZO=Y,Ed=Ie,kd=_d(Ed.setInterval,!0);ZO({global:!0,bind:!0,forced:Ed.setInterval!==kd},{setInterval:kd});var eS=Y,Iy=Ie,$y=_d(Iy.setTimeout,!0);eS({global:!0,bind:!0,forced:Iy.setTimeout!==$y},{setTimeout:$y});var Ir=A(ue.setTimeout),tS=At,Py=Jo,rS=Yt,Cy=function(i){for(var e=tS(this),t=rS(e),r=arguments.length,n=Py(r>1?arguments[1]:void 0,t),o=r>2?arguments[2]:void 0,s=o===void 0?t:Py(o,t);s>n;)e[n++]=i;return e};Y({target:"Array",proto:!0},{fill:Cy});var Dy,Bl=lt("Array").fill,iS=je,nS=Bl,Od=Array.prototype,oS=function(i){var e=i.fill;return i===Od||iS(Od,i)&&e===Od.fill?nS:e},Ra=A(oS);function fr(){return fr=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},fr.apply(this,arguments)}function Zt(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}function Fl(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}Dy=typeof Object.assign!="function"?function(i){if(i==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(i),t=1;t<arguments.length;t++){var r=arguments[t];if(r!=null)for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}return e}:Object.assign;var qr,yi=Dy,My=["","webkit","Moz","MS","ms","o"],jl=typeof document=="undefined"?{style:{}}:document.createElement("div"),po=Math.round,on=Math.abs,Sd=Date.now;function zl(i,e){for(var t,r,n=e[0].toUpperCase()+e.slice(1),o=0;o<My.length;){if((r=(t=My[o])?t+n:e)in i)return r;o++}}qr=typeof window=="undefined"?{}:window;var Ay=zl(jl.style,"touchAction"),xd=Ay!==void 0,Ny="compute",Ry="auto",Td="manipulation",an="none",Ba="pan-x",go="pan-y",Ll=function(){if(!xd)return!1;var i={},e=qr.CSS&&qr.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return i[t]=!e||qr.CSS.supports("touch-action",t)}),i}(),By="ontouchstart"in qr,aS=zl(qr,"PointerEvent")!==void 0,sS=By&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Fa="touch",Id="mouse",Fy=25,St=1,Qe=4,zt=8,Hl=1,ja=2,za=4,La=8,yo=16,$r=ja|za,sn=La|yo,jy=$r|sn,zy=["x","y"],Wl=["clientX","clientY"];function vr(i,e,t){var r;if(i)if(i.forEach)i.forEach(e,t);else if(i.length!==void 0)for(r=0;r<i.length;)e.call(t,i[r],r,i),r++;else for(r in i)i.hasOwnProperty(r)&&e.call(t,i[r],r,i)}function Ul(i,e){return typeof i=="function"?i.apply(e&&e[0]||void 0,e):i}function ln(i,e){return i.indexOf(e)>-1}var Ly=function(){function i(t,r){this.manager=t,this.set(r)}var e=i.prototype;return e.set=function(t){t===Ny&&(t=this.compute()),xd&&this.manager.element.style&&Ll[t]&&(this.manager.element.style[Ay]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return vr(this.manager.recognizers,function(r){Ul(r.options.enable,[r])&&(t=t.concat(r.getTouchAction()))}),function(r){if(ln(r,an))return an;var n=ln(r,Ba),o=ln(r,go);return n&&o?an:n||o?n?Ba:go:ln(r,Td)?Td:Ry}(t.join(" "))},e.preventDefaults=function(t){var r=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)r.preventDefault();else{var o=this.actions,s=ln(o,an)&&!Ll[an],u=ln(o,go)&&!Ll[go],h=ln(o,Ba)&&!Ll[Ba];if(s){var v=t.pointers.length===1,g=t.distance<2,y=t.deltaTime<250;if(v&&g&&y)return}if(!h||!u)return s||u&&n&$r||h&&n&sn?this.preventSrc(r):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},i}();function $d(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}function Hy(i){var e=i.length;if(e===1)return{x:po(i[0].clientX),y:po(i[0].clientY)};for(var t=0,r=0,n=0;n<e;)t+=i[n].clientX,r+=i[n].clientY,n++;return{x:po(t/e),y:po(r/e)}}function Wy(i){for(var e=[],t=0;t<i.pointers.length;)e[t]={clientX:po(i.pointers[t].clientX),clientY:po(i.pointers[t].clientY)},t++;return{timeStamp:Sd(),pointers:e,center:Hy(e),deltaX:i.deltaX,deltaY:i.deltaY}}function Vl(i,e,t){t||(t=zy);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.sqrt(r*r+n*n)}function ql(i,e,t){t||(t=zy);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return 180*Math.atan2(n,r)/Math.PI}function Uy(i,e){return i===e?Hl:on(i)>=on(e)?i<0?ja:za:e<0?La:yo}function Vy(i,e,t){return{x:e/i||0,y:t/i||0}}function lS(i,e){var t=i.session,r=e.pointers,n=r.length;t.firstInput||(t.firstInput=Wy(e)),n>1&&!t.firstMultiple?t.firstMultiple=Wy(e):n===1&&(t.firstMultiple=!1);var o=t.firstInput,s=t.firstMultiple,u=s?s.center:o.center,h=e.center=Hy(r);e.timeStamp=Sd(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=ql(u,h),e.distance=Vl(u,h),function(x,$){var D=$.center,N=x.offsetDelta||{},z=x.prevDelta||{},U=x.prevInput||{};$.eventType!==St&&U.eventType!==Qe||(z=x.prevDelta={x:U.deltaX||0,y:U.deltaY||0},N=x.offsetDelta={x:D.x,y:D.y}),$.deltaX=z.x+(D.x-N.x),$.deltaY=z.y+(D.y-N.y)}(t,e),e.offsetDirection=Uy(e.deltaX,e.deltaY);var v,g,y=Vy(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=y.x,e.overallVelocityY=y.y,e.overallVelocity=on(y.x)>on(y.y)?y.x:y.y,e.scale=s?(v=s.pointers,Vl((g=r)[0],g[1],Wl)/Vl(v[0],v[1],Wl)):1,e.rotation=s?function(x,$){return ql($[1],$[0],Wl)+ql(x[1],x[0],Wl)}(s.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,function(x,$){var D,N,z,U,Z=x.lastInterval||$,ae=$.timeStamp-Z.timeStamp;if($.eventType!==zt&&(ae>Fy||Z.velocity===void 0)){var le=$.deltaX-Z.deltaX,ie=$.deltaY-Z.deltaY,Q=Vy(ae,le,ie);N=Q.x,z=Q.y,D=on(Q.x)>on(Q.y)?Q.x:Q.y,U=Uy(le,ie),x.lastInterval=$}else D=Z.velocity,N=Z.velocityX,z=Z.velocityY,U=Z.direction;$.velocity=D,$.velocityX=N,$.velocityY=z,$.direction=U}(t,e);var w,k=i.element,O=e.srcEvent;$d(w=O.composedPath?O.composedPath()[0]:O.path?O.path[0]:O.target,k)&&(k=w),e.target=k}function qy(i,e,t){var r=t.pointers.length,n=t.changedPointers.length,o=e&St&&r-n==0,s=e&(Qe|zt)&&r-n==0;t.isFirst=!!o,t.isFinal=!!s,o&&(i.session={}),t.eventType=e,lS(i,t),i.emit("hammer.input",t),i.recognize(t),i.session.prevInput=t}function Ha(i){return i.trim().split(/\s+/g)}function Wa(i,e,t){vr(Ha(e),function(r){i.addEventListener(r,t,!1)})}function mo(i,e,t){vr(Ha(e),function(r){i.removeEventListener(r,t,!1)})}function Gy(i){var e=i.ownerDocument||i;return e.defaultView||e.parentWindow||window}var bo=function(){function i(t,r){var n=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(o){Ul(t.options.enable,[t])&&n.handler(o)},this.init()}var e=i.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Wa(this.element,this.evEl,this.domHandler),this.evTarget&&Wa(this.target,this.evTarget,this.domHandler),this.evWin&&Wa(Gy(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&mo(this.element,this.evEl,this.domHandler),this.evTarget&&mo(this.target,this.evTarget,this.domHandler),this.evWin&&mo(Gy(this.element),this.evWin,this.domHandler)},i}();function un(i,e,t){if(i.indexOf&&!t)return i.indexOf(e);for(var r=0;r<i.length;){if(t&&i[r][t]==e||!t&&i[r]===e)return r;r++}return-1}var uS={pointerdown:St,pointermove:2,pointerup:Qe,pointercancel:zt,pointerout:zt},hS={2:Fa,3:"pen",4:Id,5:"kinect"},Ky="pointerdown",Yy="pointermove pointerup pointercancel";qr.MSPointerEvent&&!qr.PointerEvent&&(Ky="MSPointerDown",Yy="MSPointerMove MSPointerUp MSPointerCancel");var Xy=function(i){function e(){var t,r=e.prototype;return r.evEl=Ky,r.evWin=Yy,(t=i.apply(this,arguments)||this).store=t.manager.session.pointerEvents=[],t}return Zt(e,i),e.prototype.handler=function(t){var r=this.store,n=!1,o=t.type.toLowerCase().replace("ms",""),s=uS[o],u=hS[t.pointerType]||t.pointerType,h=u===Fa,v=un(r,t.pointerId,"pointerId");s&St&&(t.button===0||h)?v<0&&(r.push(t),v=r.length-1):s&(Qe|zt)&&(n=!0),v<0||(r[v]=t,this.callback(this.manager,s,{pointers:r,changedPointers:[t],pointerType:u,srcEvent:t}),n&&r.splice(v,1))},e}(bo);function hn(i){return Array.prototype.slice.call(i,0)}function Pd(i,e,t){for(var r=[],n=[],o=0;o<i.length;){var s=e?i[o][e]:i[o];un(n,s)<0&&r.push(i[o]),n[o]=s,o++}return t&&(r=e?r.sort(function(u,h){return u[e]>h[e]}):r.sort()),r}var cS={touchstart:St,touchmove:2,touchend:Qe,touchcancel:zt},Cd=function(i){function e(){var t;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(t=i.apply(this,arguments)||this).targetIds={},t}return Zt(e,i),e.prototype.handler=function(t){var r=cS[t.type],n=dS.call(this,t,r);n&&this.callback(this.manager,r,{pointers:n[0],changedPointers:n[1],pointerType:Fa,srcEvent:t})},e}(bo);function dS(i,e){var t,r,n=hn(i.touches),o=this.targetIds;if(e&(2|St)&&n.length===1)return o[n[0].identifier]=!0,[n,n];var s=hn(i.changedTouches),u=[],h=this.target;if(r=n.filter(function(v){return $d(v.target,h)}),e===St)for(t=0;t<r.length;)o[r[t].identifier]=!0,t++;for(t=0;t<s.length;)o[s[t].identifier]&&u.push(s[t]),e&(Qe|zt)&&delete o[s[t].identifier],t++;return u.length?[Pd(r.concat(u),"identifier",!0),u]:void 0}var fS={mousedown:St,mousemove:2,mouseup:Qe},Ua=function(i){function e(){var t,r=e.prototype;return r.evEl="mousedown",r.evWin="mousemove mouseup",(t=i.apply(this,arguments)||this).pressed=!1,t}return Zt(e,i),e.prototype.handler=function(t){var r=fS[t.type];r&St&&t.button===0&&(this.pressed=!0),2&r&&t.which!==1&&(r=Qe),this.pressed&&(r&Qe&&(this.pressed=!1),this.callback(this.manager,r,{pointers:[t],changedPointers:[t],pointerType:Id,srcEvent:t}))},e}(bo),vS=2500;function Qy(i){var e=i.changedPointers[0];if(e.identifier===this.primaryTouch){var t={x:e.clientX,y:e.clientY},r=this.lastTouches;this.lastTouches.push(t),setTimeout(function(){var n=r.indexOf(t);n>-1&&r.splice(n,1)},vS)}}function Jy(i,e){i&St?(this.primaryTouch=e.changedPointers[0].identifier,Qy.call(this,e)):i&(Qe|zt)&&Qy.call(this,e)}function pS(i){for(var e=i.srcEvent.clientX,t=i.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var n=this.lastTouches[r],o=Math.abs(e-n.x),s=Math.abs(t-n.y);if(o<=25&&s<=25)return!0}return!1}var Zy=function(){return function(i){function e(t,r){var n;return(n=i.call(this,t,r)||this).handler=function(o,s,u){var h=u.pointerType===Fa,v=u.pointerType===Id;if(!(v&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(h)Jy.call(Fl(Fl(n)),s,u);else if(v&&pS.call(Fl(Fl(n)),u))return;n.callback(o,s,u)}},n.touch=new Cd(n.manager,n.handler),n.mouse=new Ua(n.manager,n.handler),n.primaryTouch=null,n.lastTouches=[],n}return Zt(e,i),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(bo)}();function wo(i,e,t){return!!Array.isArray(i)&&(vr(i,t[e],t),!0)}var mi=32,em=1;function Gl(i,e){var t=e.manager;return t?t.get(i):i}function tm(i){return 16&i?"cancel":8&i?"end":4&i?"move":2&i?"start":""}var Va=function(){function i(t){t===void 0&&(t={}),this.options=fr({enable:!0},t),this.id=em++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=i.prototype;return e.set=function(t){return yi(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(wo(t,"recognizeWith",this))return this;var r=this.simultaneous;return r[(t=Gl(t,this)).id]||(r[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return wo(t,"dropRecognizeWith",this)||(t=Gl(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(wo(t,"requireFailure",this))return this;var r=this.requireFail;return un(r,t=Gl(t,this))===-1&&(r.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(wo(t,"dropRequireFailure",this))return this;t=Gl(t,this);var r=un(this.requireFail,t);return r>-1&&this.requireFail.splice(r,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var r=this,n=this.state;function o(s){r.manager.emit(s,t)}n<8&&o(r.options.event+tm(n)),o(r.options.event),t.additionalEvent&&o(t.additionalEvent),n>=8&&o(r.options.event+tm(n))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=mi},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var r=yi({},t);if(!Ul(this.options.enable,[this,r]))return this.reset(),void(this.state=mi);56&this.state&&(this.state=1),this.state=this.process(r),30&this.state&&this.tryEmit(r)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},i}(),Dd=function(i){function e(r){var n;return r===void 0&&(r={}),(n=i.call(this,fr({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}Zt(e,i);var t=e.prototype;return t.getTouchAction=function(){return[Td]},t.process=function(r){var n=this,o=this.options,s=r.pointers.length===o.pointers,u=r.distance<o.threshold,h=r.deltaTime<o.time;if(this.reset(),r.eventType&St&&this.count===0)return this.failTimeout();if(u&&h&&s){if(r.eventType!==Qe)return this.failTimeout();var v=!this.pTime||r.timeStamp-this.pTime<o.interval,g=!this.pCenter||Vl(this.pCenter,r.center)<o.posThreshold;if(this.pTime=r.timeStamp,this.pCenter=r.center,g&&v?this.count+=1:this.count=1,this._input=r,this.count%o.taps===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){n.state=8,n.tryEmit()},o.interval),2):8}return mi},t.failTimeout=function(){var r=this;return this._timer=setTimeout(function(){r.state=mi},this.options.interval),mi},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===8&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Va),_o=function(i){function e(r){return r===void 0&&(r={}),i.call(this,fr({pointers:1},r))||this}Zt(e,i);var t=e.prototype;return t.attrTest=function(r){var n=this.options.pointers;return n===0||r.pointers.length===n},t.process=function(r){var n=this.state,o=r.eventType,s=6&n,u=this.attrTest(r);return s&&(o&zt||!u)?16|n:s||u?o&Qe?8|n:2&n?4|n:2:mi},e}(Va);function rm(i){return i===yo?"down":i===La?"up":i===ja?"left":i===za?"right":""}var Kl=function(i){function e(r){var n;return r===void 0&&(r={}),(n=i.call(this,fr({event:"pan",threshold:10,pointers:1,direction:jy},r))||this).pX=null,n.pY=null,n}Zt(e,i);var t=e.prototype;return t.getTouchAction=function(){var r=this.options.direction,n=[];return r&$r&&n.push(go),r&sn&&n.push(Ba),n},t.directionTest=function(r){var n=this.options,o=!0,s=r.distance,u=r.direction,h=r.deltaX,v=r.deltaY;return u&n.direction||(n.direction&$r?(u=h===0?Hl:h<0?ja:za,o=h!==this.pX,s=Math.abs(r.deltaX)):(u=v===0?Hl:v<0?La:yo,o=v!==this.pY,s=Math.abs(r.deltaY))),r.direction=u,o&&s>n.threshold&&u&n.direction},t.attrTest=function(r){return _o.prototype.attrTest.call(this,r)&&(2&this.state||!(2&this.state)&&this.directionTest(r))},t.emit=function(r){this.pX=r.deltaX,this.pY=r.deltaY;var n=rm(r.direction);n&&(r.additionalEvent=this.options.event+n),i.prototype.emit.call(this,r)},e}(_o),Yl=function(i){function e(r){return r===void 0&&(r={}),i.call(this,fr({event:"swipe",threshold:10,velocity:.3,direction:$r|sn,pointers:1},r))||this}Zt(e,i);var t=e.prototype;return t.getTouchAction=function(){return Kl.prototype.getTouchAction.call(this)},t.attrTest=function(r){var n,o=this.options.direction;return o&($r|sn)?n=r.overallVelocity:o&$r?n=r.overallVelocityX:o&sn&&(n=r.overallVelocityY),i.prototype.attrTest.call(this,r)&&o&r.offsetDirection&&r.distance>this.options.threshold&&r.maxPointers===this.options.pointers&&on(n)>this.options.velocity&&r.eventType&Qe},t.emit=function(r){var n=rm(r.offsetDirection);n&&this.manager.emit(this.options.event+n,r),this.manager.emit(this.options.event,r)},e}(_o),Md=function(i){function e(r){return r===void 0&&(r={}),i.call(this,fr({event:"pinch",threshold:0,pointers:2},r))||this}Zt(e,i);var t=e.prototype;return t.getTouchAction=function(){return[an]},t.attrTest=function(r){return i.prototype.attrTest.call(this,r)&&(Math.abs(r.scale-1)>this.options.threshold||2&this.state)},t.emit=function(r){if(r.scale!==1){var n=r.scale<1?"in":"out";r.additionalEvent=this.options.event+n}i.prototype.emit.call(this,r)},e}(_o),im=function(i){function e(r){return r===void 0&&(r={}),i.call(this,fr({event:"rotate",threshold:0,pointers:2},r))||this}Zt(e,i);var t=e.prototype;return t.getTouchAction=function(){return[an]},t.attrTest=function(r){return i.prototype.attrTest.call(this,r)&&(Math.abs(r.rotation)>this.options.threshold||2&this.state)},e}(_o),xt=function(i){function e(r){var n;return r===void 0&&(r={}),(n=i.call(this,fr({event:"press",pointers:1,time:251,threshold:9},r))||this)._timer=null,n._input=null,n}Zt(e,i);var t=e.prototype;return t.getTouchAction=function(){return[Ry]},t.process=function(r){var n=this,o=this.options,s=r.pointers.length===o.pointers,u=r.distance<o.threshold,h=r.deltaTime>o.time;if(this._input=r,!u||!s||r.eventType&(Qe|zt)&&!h)this.reset();else if(r.eventType&St)this.reset(),this._timer=setTimeout(function(){n.state=8,n.tryEmit()},o.time);else if(r.eventType&Qe)return 8;return mi},t.reset=function(){clearTimeout(this._timer)},t.emit=function(r){this.state===8&&(r&&r.eventType&Qe?this.manager.emit(this.options.event+"up",r):(this._input.timeStamp=Sd(),this.manager.emit(this.options.event,this._input)))},e}(Va),nm={domEvents:!1,touchAction:Ny,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},om=[[im,{enable:!1}],[Md,{enable:!1},["rotate"]],[Yl,{direction:$r}],[Kl,{direction:$r},["swipe"]],[Dd],[Dd,{event:"doubletap",taps:2},["tap"]],[xt]];function am(i,e){var t,r=i.element;r.style&&(vr(i.options.cssProps,function(n,o){t=zl(r.style,o),e?(i.oldCssProps[t]=r.style[t],r.style[t]=n):r.style[t]=i.oldCssProps[t]||""}),e||(i.oldCssProps={}))}var _t=function(){function i(t,r){var n,o=this;this.options=yi({},nm,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(aS?Xy:sS?Cd:By?Zy:Ua))(n,qy),this.touchAction=new Ly(this,this.options.touchAction),am(this,!0),vr(this.options.recognizers,function(s){var u=o.add(new s[0](s[1]));s[2]&&u.recognizeWith(s[2]),s[3]&&u.requireFailure(s[3])},this)}var e=i.prototype;return e.set=function(t){return yi(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var r=this.session;if(!r.stopped){var n;this.touchAction.preventDefaults(t);var o=this.recognizers,s=r.curRecognizer;(!s||s&&8&s.state)&&(r.curRecognizer=null,s=null);for(var u=0;u<o.length;)n=o[u],r.stopped===2||s&&n!==s&&!n.canRecognizeWith(s)?n.reset():n.recognize(t),!s&&14&n.state&&(r.curRecognizer=n,s=n),u++}},e.get=function(t){if(t instanceof Va)return t;for(var r=this.recognizers,n=0;n<r.length;n++)if(r[n].options.event===t)return r[n];return null},e.add=function(t){if(wo(t,"add",this))return this;var r=this.get(t.options.event);return r&&this.remove(r),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(wo(t,"remove",this))return this;var r=this.get(t);if(t){var n=this.recognizers,o=un(n,r);o!==-1&&(n.splice(o,1),this.touchAction.update())}return this},e.on=function(t,r){if(t===void 0||r===void 0)return this;var n=this.handlers;return vr(Ha(t),function(o){n[o]=n[o]||[],n[o].push(r)}),this},e.off=function(t,r){if(t===void 0)return this;var n=this.handlers;return vr(Ha(t),function(o){r?n[o]&&n[o].splice(un(n[o],r),1):delete n[o]}),this},e.emit=function(t,r){this.options.domEvents&&function(s,u){var h=document.createEvent("Event");h.initEvent(s,!0,!0),h.gesture=u,u.target.dispatchEvent(h)}(t,r);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){r.type=t,r.preventDefault=function(){r.srcEvent.preventDefault()};for(var o=0;o<n.length;)n[o](r),o++}},e.destroy=function(){this.element&&am(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},i}(),gS={touchstart:St,touchmove:2,touchend:Qe,touchcancel:zt},qa=function(i){function e(){var t,r=e.prototype;return r.evTarget="touchstart",r.evWin="touchstart touchmove touchend touchcancel",(t=i.apply(this,arguments)||this).started=!1,t}return Zt(e,i),e.prototype.handler=function(t){var r=gS[t.type];if(r===St&&(this.started=!0),this.started){var n=yS.call(this,t,r);r&(Qe|zt)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,r,{pointers:n[0],changedPointers:n[1],pointerType:Fa,srcEvent:t})}},e}(bo);function yS(i,e){var t=hn(i.touches),r=hn(i.changedTouches);return e&(Qe|zt)&&(t=Pd(t.concat(r),"identifier",!0)),[t,r]}function sm(i,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var n=new Error("get-stack-trace"),o=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,r,o),i.apply(this,arguments)}}var lm=sm(function(i,e,t){for(var r=Object.keys(e),n=0;n<r.length;)(!t||t&&i[r[n]]===void 0)&&(i[r[n]]=e[r[n]]),n++;return i},"extend","Use `assign`."),mS=sm(function(i,e){return lm(i,e,!0)},"merge","Use `assign`.");function Ad(i,e,t){var r,n=e.prototype;(r=i.prototype=Object.create(n)).constructor=i,r._super=n,t&&yi(r,t)}function um(i,e){return function(){return i.apply(e,arguments)}}var hm=function(){var i=function(e,t){return t===void 0&&(t={}),new _t(e,fr({recognizers:om.concat()},t))};return i.VERSION="2.0.17-rc",i.DIRECTION_ALL=jy,i.DIRECTION_DOWN=yo,i.DIRECTION_LEFT=ja,i.DIRECTION_RIGHT=za,i.DIRECTION_UP=La,i.DIRECTION_HORIZONTAL=$r,i.DIRECTION_VERTICAL=sn,i.DIRECTION_NONE=Hl,i.DIRECTION_DOWN=yo,i.INPUT_START=St,i.INPUT_MOVE=2,i.INPUT_END=Qe,i.INPUT_CANCEL=zt,i.STATE_POSSIBLE=1,i.STATE_BEGAN=2,i.STATE_CHANGED=4,i.STATE_ENDED=8,i.STATE_RECOGNIZED=8,i.STATE_CANCELLED=16,i.STATE_FAILED=mi,i.Manager=_t,i.Input=bo,i.TouchAction=Ly,i.TouchInput=Cd,i.MouseInput=Ua,i.PointerEventInput=Xy,i.TouchMouseInput=Zy,i.SingleTouchInput=qa,i.Recognizer=Va,i.AttrRecognizer=_o,i.Tap=Dd,i.Pan=Kl,i.Swipe=Yl,i.Pinch=Md,i.Rotate=im,i.Press=xt,i.on=Wa,i.off=mo,i.each=vr,i.merge=mS,i.extend=lm,i.bindFn=um,i.assign=yi,i.inherit=Ad,i.bindFn=um,i.prefixed=zl,i.toArray=hn,i.inArray=un,i.uniqueArray=Pd,i.splitStr=Ha,i.boolOrFn=Ul,i.hasParent=$d,i.addEventListeners=Wa,i.removeEventListeners=mo,i.defaults=yi({},nm,{preset:om}),i}();hm.defaults;var bS=hm;function cm(i,e){var t=pi!==void 0&&hi(i)||i["@@iterator"];if(!t){if(ke(i)||(t=function(h,v){var g;if(h){if(typeof h=="string")return Ga(h,v);var y=ct(g=Object.prototype.toString.call(h)).call(g,8,-1);if(y==="Object"&&h.constructor&&(y=h.constructor.name),y==="Map"||y==="Set")return si(h);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return Ga(h,v)}}(i))||e&&i&&typeof i.length=="number"){t&&(i=t);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(h){throw h},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,u=!1;return{s:function(){t=t.call(i)},n:function(){var h=t.next();return s=h.done,h},e:function(h){u=!0,o=h},f:function(){try{s||t.return==null||t.return()}finally{if(u)throw o}}}}function Ga(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}function Xl(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return function(r){var n=function(){for(var y=function(){var $=4022871197;return function(D){for(var N=D.toString(),z=0;z<N.length;z++){var U=.02519603282416938*($+=N.charCodeAt(z));U-=$=U>>>0,$=(U*=$)>>>0,$+=4294967296*(U-=$)}return 23283064365386963e-26*($>>>0)}}(),w=y(" "),k=y(" "),O=y(" "),x=0;x<arguments.length;x++)(w-=y(x<0||arguments.length<=x?void 0:arguments[x]))<0&&(w+=1),(k-=y(x<0||arguments.length<=x?void 0:arguments[x]))<0&&(k+=1),(O-=y(x<0||arguments.length<=x?void 0:arguments[x]))<0&&(O+=1);return[w,k,O]}(r),o=Ve(n,3),s=o[0],u=o[1],h=o[2],v=1,g=function(){var y=2091639*s+23283064365386963e-26*v;return s=u,u=h,h=y-(v=0|y)};return g.uint32=function(){return 4294967296*g()},g.fract53=function(){return g()+11102230246251565e-32*(2097152*g()|0)},g.algorithm="Alea",g.seed=r,g.version="0.9",g}(e.length?e:[Nl()])}pi("DELETE");var cn=typeof window!="undefined"?window.Hammer||bS:function(){return function(){var i=function(){};return{on:i,off:i,destroy:i,emit:i,get:function(){return{set:i}}}}()};function Pr(i){var e,t=this;this._cleanupQueue=[],this.active=!1,this._dom={container:i,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){t._dom.overlay.parentNode.removeChild(t._dom.overlay)});var r=cn(this._dom.overlay);r.on("tap",B(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(function(){r.destroy()});var n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Pe(n).call(n,function(o){r.on(o,function(s){s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(o){(function(s,u){for(;s;){if(s===u)return!0;s=s.parentNode}return!1})(o.target,i)||t.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",t._onClick)})),this._escListener=function(o){("key"in o?o.key==="Escape":o.keyCode===27)&&t.deactivate()}}wr(Pr.prototype),Pr.current=null,Pr.prototype.destroy=function(){var i,e;this.deactivate();var t,r=cm(rn(i=Vr(e=this._cleanupQueue).call(e,0)).call(i));try{for(r.s();!(t=r.n()).done;)(0,t.value)()}catch(n){r.e(n)}finally{r.f()}},Pr.prototype.activate=function(){Pr.current&&Pr.current.deactivate(),Pr.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Pr.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Pr.prototype._onTapOverlay=function(i){this.activate(),i.srcEvent.stopPropagation()};var wS=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,_S=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,ES=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,kS=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function bi(i){if(i)for(;i.hasChildNodes()===!0;){var e=i.firstChild;e&&(bi(e),i.removeChild(e))}}function Cr(i){return i instanceof String||typeof i=="string"}function dm(i){return xe(i)==="object"&&i!==null}function dn(i,e,t,r){var n=!1;r===!0&&(n=e[t]===null&&i[t]!==void 0),n?delete i[t]:i[t]=e[t]}function fm(i,e){var t=arguments.length>2&&arguments[2]!==void 0&&arguments[2];for(var r in i)if(e[r]!==void 0)if(e[r]===null||xe(e[r])!=="object")dn(i,e,r,t);else{var n=i[r],o=e[r];dm(n)&&dm(o)&&fm(n,o,t)}}function Eo(i,e,t){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(ke(t))throw new TypeError("Arrays are not supported by deepExtend");for(var n=0;n<i.length;n++){var o=i[n];if(Object.prototype.hasOwnProperty.call(t,o))if(t[o]&&t[o].constructor===Object)e[o]===void 0&&(e[o]={}),e[o].constructor===Object?De(e[o],t[o],!1,r):dn(e,t,o,r);else{if(ke(t[o]))throw new TypeError("Arrays are not supported by deepExtend");dn(e,t,o,r)}}return e}function Ql(i,e,t){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(ke(t))throw new TypeError("Arrays are not supported by deepExtend");for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!gi(i).call(i,n))if(t[n]&&t[n].constructor===Object)e[n]===void 0&&(e[n]={}),e[n].constructor===Object?De(e[n],t[n]):dn(e,t,n,r);else if(ke(t[n])){e[n]=[];for(var o=0;o<t[n].length;o++)e[n].push(t[n][o])}else dn(e,t,n,r);return e}function De(i,e){var t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)||t===!0)if(xe(e[n])==="object"&&e[n]!==null&&cy(e[n])===Object.prototype)i[n]===void 0?i[n]=De({},e[n],t):xe(i[n])==="object"&&i[n]!==null&&cy(i[n])===Object.prototype?De(i[n],e[n],t):dn(i,e,n,r);else if(ke(e[n])){var o;i[n]=ct(o=e[n]).call(o)}else dn(i,e,n,r);return i}function Jl(i,e){var t;return Al(t=[]).call(t,Tr(i),[e])}function vm(i){return i.getBoundingClientRect().top}function pe(i,e){if(ke(i))for(var t=i.length,r=0;r<t;r++)e(i[r],r,i);else for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(i[n],n,i)}function yt(i){var e;switch(i.length){case 3:case 4:return(e=_S.exec(i))?{r:dr(e[1]+e[1],16),g:dr(e[2]+e[2],16),b:dr(e[3]+e[3],16)}:null;case 6:case 7:return(e=wS.exec(i))?{r:dr(e[1],16),g:dr(e[2],16),b:dr(e[3],16)}:null;default:return null}}function er(i,e){if(gi(i).call(i,"rgba"))return i;if(gi(i).call(i,"rgb")){var t=i.substr(_e(i).call(i,"(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}var r=yt(i);return r==null?i:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}function pm(i,e,t){var r;return"#"+ct(r=((1<<24)+(i<<16)+(e<<8)+t).toString(16)).call(r,1)}function Zl(i,e){if(Cr(i)){var t=i;if(ym(t)){var r,n=en(r=t.substr(4).substr(0,t.length-5).split(",")).call(r,function(g){return dr(g)});t=pm(n[0],n[1],n[2])}if(gm(t)===!0){var o=function(g){var y=yt(g);if(!y)throw new TypeError("'".concat(g,"' is not a valid color."));return Ka(y.r,y.g,y.b)}(t),s={h:o.h,s:.8*o.s,v:Math.min(1,1.02*o.v)},u={h:o.h,s:Math.min(1,1.25*o.s),v:.8*o.v},h=Nd(u.h,u.s,u.v),v=Nd(s.h,s.s,s.v);return{background:t,border:h,highlight:{background:v,border:h},hover:{background:v,border:h}}}return{background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}return e?{background:i.background||e.background,border:i.border||e.border,highlight:Cr(i.highlight)?{border:i.highlight,background:i.highlight}:{background:i.highlight&&i.highlight.background||e.highlight.background,border:i.highlight&&i.highlight.border||e.highlight.border},hover:Cr(i.hover)?{border:i.hover,background:i.hover}:{border:i.hover&&i.hover.border||e.hover.border,background:i.hover&&i.hover.background||e.hover.background}}:{background:i.background||void 0,border:i.border||void 0,highlight:Cr(i.highlight)?{border:i.highlight,background:i.highlight}:{background:i.highlight&&i.highlight.background||void 0,border:i.highlight&&i.highlight.border||void 0},hover:Cr(i.hover)?{border:i.hover,background:i.hover}:{border:i.hover&&i.hover.border||void 0,background:i.hover&&i.hover.background||void 0}}}function Ka(i,e,t){i/=255,e/=255,t/=255;var r=Math.min(i,Math.min(e,t)),n=Math.max(i,Math.max(e,t));return r===n?{h:0,s:0,v:r}:{h:60*((i===r?3:t===r?1:5)-(i===r?e-t:t===r?i-e:t-i)/(n-r))/360,s:(n-r)/n,v:n}}function eu(i,e,t){var r,n,o,s=Math.floor(6*i),u=6*i-s,h=t*(1-e),v=t*(1-u*e),g=t*(1-(1-u)*e);switch(s%6){case 0:r=t,n=g,o=h;break;case 1:r=v,n=t,o=h;break;case 2:r=h,n=t,o=g;break;case 3:r=h,n=v,o=t;break;case 4:r=g,n=h,o=t;break;case 5:r=t,n=h,o=v}return{r:Math.floor(255*r),g:Math.floor(255*n),b:Math.floor(255*o)}}function Nd(i,e,t){var r=eu(i,e,t);return pm(r.r,r.g,r.b)}function gm(i){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(i)}function ym(i){return ES.test(i)}function wi(i){if(i===null||xe(i)!=="object")return null;if(i instanceof Element)return i;var e=nn(i);for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&xe(i[t])=="object"&&(e[t]=wi(i[t]));return e}function tr(i,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},n=function(g){return g!=null},o=function(g){return g!==null&&xe(g)==="object"};if(!o(i))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!n(t))throw new Error("Parameter option must have a value");if(!o(r))throw new Error("Parameter globalOptions must be an object");var s=e[t],u=o(r)&&!function(g){for(var y in g)if(Object.prototype.hasOwnProperty.call(g,y))return!1;return!0}(r)?r[t]:void 0,h=u?u.enabled:void 0;if(s!==void 0){if(typeof s=="boolean")return o(i[t])||(i[t]={}),void(i[t].enabled=s);if(s===null&&!o(i[t])){if(!n(u))return;i[t]=nn(u)}if(o(s)){var v=!0;s.enabled!==void 0?v=s.enabled:h!==void 0&&(v=u.enabled),function(g,y,w){o(g[w])||(g[w]={});var k=y[w],O=g[w];for(var x in k)Object.prototype.hasOwnProperty.call(k,x)&&(O[x]=k[x])}(i,e,t),i[t].enabled=v}}}var Rd={linear:function(i){return i},easeInQuad:function(i){return i*i},easeOutQuad:function(i){return i*(2-i)},easeInOutQuad:function(i){return i<.5?2*i*i:(4-2*i)*i-1},easeInCubic:function(i){return i*i*i},easeOutCubic:function(i){return--i*i*i+1},easeInOutCubic:function(i){return i<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1},easeInQuart:function(i){return i*i*i*i},easeOutQuart:function(i){return 1- --i*i*i*i},easeInOutQuart:function(i){return i<.5?8*i*i*i*i:1-8*--i*i*i*i},easeInQuint:function(i){return i*i*i*i*i},easeOutQuint:function(i){return 1+--i*i*i*i*i},easeInOutQuint:function(i){return i<.5?16*i*i*i*i*i:1+16*--i*i*i*i*i}};function _i(i,e){var t;ke(e)||(e=[e]);var r,n=cm(i);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o){t=o[e[0]];for(var s=1;s<e.length;s++)t&&(t=t[e[s]]);if(t!==void 0)break}}}catch(u){n.e(u)}finally{n.f()}return t}var OS={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},SS=function(){function i(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;L(this,i),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return H(i,[{key:"insertTo",value:function(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(e){if(typeof e!="function")throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=e}},{key:"setCloseCallback",value:function(e){if(typeof e!="function")throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=e}},{key:"_isColorString",value:function(e){if(typeof e=="string")return OS[e]}},{key:"setColor",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(e!=="none"){var r,n=this._isColorString(e);if(n!==void 0&&(e=n),Cr(e)===!0){if(ym(e)===!0){var o=e.substr(4).substr(0,e.length-5).split(",");r={r:o[0],g:o[1],b:o[2],a:1}}else if(function(v){return kS.test(v)}(e)===!0){var s=e.substr(5).substr(0,e.length-6).split(",");r={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(gm(e)===!0){var u=yt(e);r={r:u.r,g:u.g,b:u.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){var h=e.a!==void 0?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:h}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Na(e));this._setColor(r,t)}}},{key:"show",value:function(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var e=this;(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])===!0&&(this.previousColor=$e({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Ir(function(){e.closeCallback!==void 0&&(e.closeCallback(),e.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(e){(!(arguments.length>1&&arguments[1]!==void 0)||arguments[1])===!0&&(this.initialColor=$e({},e)),this.color=e;var t=Ka(e.r,e.g,e.b),r=2*Math.PI,n=this.r*t.s,o=this.centerCoordinates.x+n*Math.sin(r*t.h),s=this.centerCoordinates.y+n*Math.cos(r*t.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=s-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}},{key:"_setOpacity",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(e){var t=Ka(this.color.r,this.color.g,this.color.b);t.v=e/100;var r=eu(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}},{key:"_updatePicker",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,t=Ka(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var n=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,n,o),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Ra(r).call(r),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var e,t,r,n;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var s=document.createElement("DIV");s.style.color="red",s.style.fontWeight="bold",s.style.padding="10px",s.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(s)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(h){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(h){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var u=this;this.opacityRange.onchange=function(){u._setOpacity(this.value)},this.opacityRange.oninput=function(){u._setOpacity(this.value)},this.brightnessRange.onchange=function(){u._setBrightness(this.value)},this.brightnessRange.oninput=function(){u._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=B(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=B(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=B(r=this._save).call(r,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=B(n=this._loadLast).call(n,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new cn(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",function(t){t.isFirst&&e._moveSelector(t)}),this.hammer.on("tap",function(t){e._moveSelector(t)}),this.hammer.on("panstart",function(t){e._moveSelector(t)}),this.hammer.on("panmove",function(t){e._moveSelector(t)}),this.hammer.on("panend",function(t){e._moveSelector(t)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var t,r,n,o,s=this.colorPickerCanvas.clientWidth,u=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,s,u),this.centerCoordinates={x:.5*s,y:.5*u},this.r=.49*s;var h,v=2*Math.PI/360,g=1/this.r;for(n=0;n<360;n++)for(o=0;o<this.r;o++)t=this.centerCoordinates.x+o*Math.sin(v*n),r=this.centerCoordinates.y+o*Math.cos(v*n),h=eu(.002777777777777778*n,o*g,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(t-.5,r-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,s,u)}this.generated=!0}},{key:"_moveSelector",value:function(e){var t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,n=e.center.y-t.top,o=.5*this.colorPickerDiv.clientHeight,s=.5*this.colorPickerDiv.clientWidth,u=r-s,h=n-o,v=Math.atan2(u,h),g=.98*Math.min(Math.sqrt(u*u+h*h),s),y=Math.cos(v)*g+o,w=Math.sin(v)*g+s;this.colorPickerSelector.style.top=y-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=w-.5*this.colorPickerSelector.clientWidth+"px";var k=v/(2*Math.PI);k=k<0?k+1:k;var O=g/this.r,x=Ka(this.color.r,this.color.g,this.color.b);x.h=k,x.s=O;var $=eu(x.h,x.s,x.v);$.a=this.color.a,this.color=$,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),i}();function Bd(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);var r=document.createElement(e[0]);return r.appendChild(Bd.apply(void 0,Tr(ct(e).call(e,1)))),r}var mm,bm=function(){function i(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return!1};L(this,i),this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},$e(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new SS(n),this.wrapper=void 0}return H(i,[{key:"setOptions",value:function(e){if(e!==void 0){this.popupHistory={},this._removePopup();var t=!0;if(typeof e=="string")this.options.filter=e;else if(ke(e))this.options.filter=e.join();else if(xe(e)==="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),jt(e)!==void 0&&(this.options.filter=jt(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);jt(this.options)===!1&&(t=!1),this.options.enabled=t}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var e=jt(this.options),t=0,r=!1;for(var n in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,n)&&(this.allowCreation=!1,r=!1,typeof e=="function"?r=(r=e(n,[]))||this._handleObject(this.configureOptions[n],[n],!0):e!==!0&&_e(e).call(e,n)===-1||(r=!0),r!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),t++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(e){for(var t=this.moduleOptions,r=0;r<e.length;r++){if(t[e[r]]===void 0){t=void 0;break}t=t[e[r]]}return t}},{key:"_makeItem",value:function(e){if(this.allowCreation===!0){var t=document.createElement("div");t.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return Pe(n).call(n,function(s){t.appendChild(s)}),this.domElements.push(t),this.domElements.length}return 0}},{key:"_makeHeader",value:function(e){var t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}},{key:"_makeLabel",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=document.createElement("div");if(n.className="vis-configuration vis-config-label vis-config-s"+t.length,r===!0){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(Bd("i","b",e))}else n.innerText=e+":";return n}},{key:"_makeDropdown",value:function(e,t,r){var n=document.createElement("select");n.className="vis-configuration vis-config-select";var o=0;t!==void 0&&_e(e).call(e,t)!==-1&&(o=_e(e).call(e,t));for(var s=0;s<e.length;s++){var u=document.createElement("option");u.value=e[s],s===o&&(u.selected="selected"),u.innerText=e[s],n.appendChild(u)}var h=this;n.onchange=function(){h._update(this.value,r)};var v=this._makeLabel(r[r.length-1],r);this._makeItem(r,v,n)}},{key:"_makeRange",value:function(e,t,r){var n=e[0],o=e[1],s=e[2],u=e[3],h=document.createElement("input");h.className="vis-configuration vis-config-range";try{h.type="range",h.min=o,h.max=s}catch($){}h.step=u;var v="",g=0;if(t!==void 0){var y=1.2;t<0&&t*y<o?(h.min=Math.ceil(t*y),g=h.min,v="range increased"):t/y<o&&(h.min=Math.ceil(t/y),g=h.min,v="range increased"),t*y>s&&s!==1&&(h.max=Math.ceil(t*y),g=h.max,v="range increased"),h.value=t}else h.value=n;var w=document.createElement("input");w.className="vis-configuration vis-config-rangeinput",w.value=h.value;var k=this;h.onchange=function(){w.value=this.value,k._update(Number(this.value),r)},h.oninput=function(){w.value=this.value};var O=this._makeLabel(r[r.length-1],r),x=this._makeItem(r,O,h,w);v!==""&&this.popupHistory[x]!==g&&(this.popupHistory[x]=g,this._setupPopup(v,x))}},{key:"_makeButton",value:function(){var e=this;if(this.options.showButton===!0){var t=document.createElement("div");t.className="vis-configuration vis-config-button",t.innerText="generate options",t.onclick=function(){e._printOptions()},t.onmouseover=function(){t.className="vis-configuration vis-config-button hover"},t.onmouseout=function(){t.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(t)}}},{key:"_setupPopup",value:function(e,t){var r=this;if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){var n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=function(){r._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:t}}}},{key:"_removePopup",value:function(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var e=this;if(this.popupDiv.html!==void 0){var t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Ir(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Ir(function(){e._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(e,t,r){var n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=e,t!==void 0&&(n.checked=t,t!==e&&(xe(e)==="object"?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));var o=this;n.onchange=function(){o._update(this.checked,r)};var s=this._makeLabel(r[r.length-1],r);this._makeItem(r,s,n)}},{key:"_makeTextInput",value:function(e,t,r){var n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=t,t!==e&&this.changedOptions.push({path:r,value:t});var o=this;n.onchange=function(){o._update(this.value,r)};var s=this._makeLabel(r[r.length-1],r);this._makeItem(r,s,n)}},{key:"_makeColorField",value:function(e,t,r){var n=this,o=e[1],s=document.createElement("div");(t=t===void 0?o:t)!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=t):s.className="vis-configuration vis-config-colorBlock none",t=t===void 0?o:t,s.onclick=function(){n._showColorPicker(t,s,r)};var u=this._makeLabel(r[r.length-1],r);this._makeItem(r,u,s)}},{key:"_showColorPicker",value:function(e,t,r){var n=this;t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(function(o){var s="rgba("+o.r+","+o.g+","+o.b+","+o.a+")";t.style.backgroundColor=s,n._update(s,r)}),this.colorPicker.setCloseCallback(function(){t.onclick=function(){n._showColorPicker(e,t,r)}})}},{key:"_handleObject",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=!1,o=jt(this.options),s=!1;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){n=!0;var h=e[u],v=Jl(t,u);if(typeof o=="function"&&(n=o(u,t))===!1&&!ke(h)&&typeof h!="string"&&typeof h!="boolean"&&h instanceof Object&&(this.allowCreation=!1,n=this._handleObject(h,v,!0),this.allowCreation=r===!1),n!==!1){s=!0;var g=this._getValue(v);if(ke(h))this._handleArray(h,g,v);else if(typeof h=="string")this._makeTextInput(h,g,v);else if(typeof h=="boolean")this._makeCheckbox(h,g,v);else if(h instanceof Object){if(!this.hideOption(t,u,this.moduleOptions))if(h.enabled!==void 0){var y=Jl(v,"enabled"),w=this._getValue(y);if(w===!0){var k=this._makeLabel(u,v,!0);this._makeItem(v,k),s=this._handleObject(h,v)||s}else this._makeCheckbox(h,w,v)}else{var O=this._makeLabel(u,v,!0);this._makeItem(v,O),s=this._handleObject(h,v)||s}}else console.error("dont know how to handle",h,u,v)}}return s}},{key:"_handleArray",value:function(e,t,r){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}},{key:"_update",value:function(e,t){var r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}},{key:"_constructOptions",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=r;e=(e=e==="true"||e)!=="false"&&e;for(var o=0;o<t.length;o++)t[o]!=="global"&&(n[t[o]]===void 0&&(n[t[o]]={}),o!==t.length-1?n=n[t[o]]:n[t[o]]=e);return r}},{key:"_printOptions",value:function(){for(var e=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(Bd("pre","const options = "+Na(e,null,2)))}},{key:"getOptions",value:function(){for(var e={},t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}}]),i}(),xS=function(){function i(e,t){L(this,i),this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return H(i,[{key:"setPosition",value:function(e,t){this.x=dr(e),this.y=dr(t)}},{key:"setText",value:function(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}},{key:"show",value:function(e){if(e===void 0&&(e=!0),e===!0){var t=this.frame.clientHeight,r=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,s=0,u=0;if(this.overflowMethod=="flip"){var h=!1,v=!0;this.y-t<this.padding&&(v=!1),this.x+r>o-this.padding&&(h=!0),s=h?this.x-r:this.x,u=v?this.y-t:this.y}else(u=this.y-t)+t+this.padding>n&&(u=n-t-this.padding),u<this.padding&&(u=this.padding),(s=this.x)+r+this.padding>o&&(s=o-r-this.padding),s<this.padding&&(s=this.padding);this.frame.style.left=s+"px",this.frame.style.top=u+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),i}(),Ya=!1,Fd="background: #FFeeee; color: #dd0000",TS=function(){function i(){L(this,i)}return H(i,null,[{key:"validate",value:function(e,t,r){Ya=!1,mm=t;var n=t;return r!==void 0&&(n=t[r]),i.parse(e,n,[]),Ya}},{key:"parse",value:function(e,t,r){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&i.check(n,e,t,r)}},{key:"check",value:function(e,t,r,n){if(r[e]!==void 0||r.__any__!==void 0){var o=e,s=!0;r[e]===void 0&&r.__any__!==void 0&&(o="__any__",s=i.getType(t[e])==="object");var u=r[o];s&&u.__type__!==void 0&&(u=u.__type__),i.checkFields(e,t,r,o,u,n)}else i.getSuggestion(e,r,n)}},{key:"checkFields",value:function(e,t,r,n,o,s){var u=function(g){console.error("%c"+g+i.printLocation(s,e),Fd)},h=i.getType(t[e]),v=o[h];v!==void 0?i.getType(v)==="array"&&_e(v).call(v,t[e])===-1?(u('Invalid option detected in "'+e+'". Allowed values are:'+i.print(v)+' not "'+t[e]+'". '),Ya=!0):h==="object"&&n!=="__any__"&&(s=Jl(s,e),i.parse(t[e],r[n],s)):o.any===void 0&&(u('Invalid type received for "'+e+'". Expected: '+i.print(qe(o))+". Received ["+h+'] "'+t[e]+'"'),Ya=!0)}},{key:"getType",value:function(e){var t=xe(e);return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":ke(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}},{key:"getSuggestion",value:function(e,t,r){var n,o=i.findInOptions(e,t,r,!1),s=i.findInOptions(e,mm,[],!0);n=o.indexMatch!==void 0?" in "+i.printLocation(o.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+`"?

`:s.distance<=4&&o.distance>s.distance?" in "+i.printLocation(o.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+i.printLocation(s.path,s.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+i.printLocation(o.path,e):". Did you mean one of these: "+i.print(qe(t))+i.printLocation(r,e),console.error('%cUnknown option detected: "'+e+'"'+n,Fd),Ya=!0}},{key:"findInOptions",value:function(e,t,r){var n,o=arguments.length>3&&arguments[3]!==void 0&&arguments[3],s=1e9,u="",h=[],v=e.toLowerCase(),g=void 0;for(var y in t){var w=void 0;if(t[y].__type__!==void 0&&o===!0){var k=i.findInOptions(e,t[y],Jl(r,y));s>k.distance&&(u=k.closestMatch,h=k.path,s=k.distance,g=k.indexMatch)}else{var O;_e(O=y.toLowerCase()).call(O,v)!==-1&&(g=y),s>(w=i.levenshteinDistance(e,y))&&(u=y,h=ct(n=r).call(n),s=w)}}return{closestMatch:u,path:h,distance:s,indexMatch:g}}},{key:"printLocation",value:function(e,t){for(var r=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`,n=0;n<e.length;n++){for(var o=0;o<n+1;o++)r+="  ";r+=e[n]+`: {
`}for(var s=0;s<e.length+1;s++)r+="  ";r+=t+`
`;for(var u=0;u<e.length+1;u++){for(var h=0;h<e.length-u;h++)r+="  ";r+=`}
`}return r+`

`}},{key:"print",value:function(e){return Na(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;var r,n,o=[];for(r=0;r<=t.length;r++)o[r]=[r];for(n=0;n<=e.length;n++)o[0][n]=n;for(r=1;r<=t.length;r++)for(n=1;n<=e.length;n++)t.charAt(r-1)==e.charAt(n-1)?o[r][n]=o[r-1][n-1]:o[r][n]=Math.min(o[r-1][n-1]+1,Math.min(o[r][n-1]+1,o[r-1][n]+1));return o[t.length][e.length]}}]),i}(),IS=Pr,$S=bm,ko=cn,PS=xS,tu=Fd,CS=TS;function jd(i){return Ei=i,function(){var e={};if(Oo=0,ce=Ei.charAt(0),Ce(),re==="strict"&&(e.strict=!0,Ce()),re!=="graph"&&re!=="digraph"||(e.type=re,Ce()),Lt===Tt.IDENTIFIER&&(e.id=re,Ce()),re!="{")throw It("Angle bracket { expected");if(Ce(),km(e),re!="}")throw It("Angle bracket } expected");if(Ce(),re!=="")throw It("End of file expected");return Ce(),delete e.node,delete e.edge,delete e.graph,e}()}var wm={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},Dr=nn(wm);Dr.color="color.color",Dr.style="dashes";var Tt={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},_m={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Ei="",Oo=0,ce="",re="",Lt=Tt.NULL;function ft(){Oo++,ce=Ei.charAt(Oo)}function So(){return Ei.charAt(Oo+1)}function ru(i){var e=i.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123&&e>96}function ki(i,e){if(i||(i={}),e)for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function DS(i,e,t){for(var r=e.split("."),n=i;r.length;){var o=r.shift();r.length?(n[o]||(n[o]={}),n=n[o]):n[o]=t}}function zd(i,e){for(var t,r,n=null,o=[i],s=i;s.parent;)o.push(s.parent),s=s.parent;if(s.nodes){for(t=0,r=s.nodes.length;t<r;t++)if(e.id===s.nodes[t].id){n=s.nodes[t];break}}for(n||(n={id:e.id},i.node&&(n.attr=ki(n.attr,i.node))),t=o.length-1;t>=0;t--){var u,h=o[t];h.nodes||(h.nodes=[]),_e(u=h.nodes).call(u,n)===-1&&h.nodes.push(n)}e.attr&&(n.attr=ki(n.attr,e.attr))}function MS(i,e){if(i.edges||(i.edges=[]),i.edges.push(e),i.edge){var t=ki({},i.edge);e.attr=ki(t,e.attr)}}function Em(i,e,t,r,n){var o={from:e,to:t,type:r};return i.edge&&(o.attr=ki({},i.edge)),o.attr=ki(o.attr||{},n),n!=null&&n.hasOwnProperty("arrows")&&n.arrows!=null&&(o.arrows={to:{enabled:!0,type:n.arrows.type}},n.arrows=null),o}function Ce(){for(Lt=Tt.NULL,re="";ce===" "||ce==="	"||ce===`
`||ce==="\r";)ft();do{var i=!1;if(ce==="#"){for(var e=Oo-1;Ei.charAt(e)===" "||Ei.charAt(e)==="	";)e--;if(Ei.charAt(e)===`
`||Ei.charAt(e)===""){for(;ce!=""&&ce!=`
`;)ft();i=!0}}if(ce==="/"&&So()==="/"){for(;ce!=""&&ce!=`
`;)ft();i=!0}if(ce==="/"&&So()==="*"){for(;ce!="";){if(ce==="*"&&So()==="/"){ft(),ft();break}ft()}i=!0}for(;ce===" "||ce==="	"||ce===`
`||ce==="\r";)ft()}while(i);if(ce!==""){var t=ce+So();if(_m[t])return Lt=Tt.DELIMITER,re=t,ft(),void ft();if(_m[ce])return Lt=Tt.DELIMITER,re=ce,void ft();if(ru(ce)||ce==="-"){for(re+=ce,ft();ru(ce);)re+=ce,ft();return re==="false"?re=!1:re==="true"?re=!0:isNaN(Number(re))||(re=Number(re)),void(Lt=Tt.IDENTIFIER)}if(ce==='"'){for(ft();ce!=""&&(ce!='"'||ce==='"'&&So()==='"');)ce==='"'?(re+=ce,ft()):ce==="\\"&&So()==="n"?(re+=`
`,ft()):re+=ce,ft();if(ce!='"')throw It('End of string " expected');return ft(),void(Lt=Tt.IDENTIFIER)}for(Lt=Tt.UNKNOWN;ce!="";)re+=ce,ft();throw new SyntaxError('Syntax error in part "'+Tm(re,30)+'"')}Lt=Tt.DELIMITER}function km(i){for(;re!==""&&re!="}";)Om(i),re===";"&&Ce()}function Om(i){var e=Sm(i);if(e)xm(i,e);else{var t=function(n){return re==="node"?(Ce(),n.node=Xa(),"node"):re==="edge"?(Ce(),n.edge=Xa(),"edge"):re==="graph"?(Ce(),n.graph=Xa(),"graph"):null}(i);if(!t){if(Lt!=Tt.IDENTIFIER)throw It("Identifier expected");var r=re;if(Ce(),re==="="){if(Ce(),Lt!=Tt.IDENTIFIER)throw It("Identifier expected");i[r]=re,Ce()}else(function(n,o){var s={id:o},u=Xa();u&&(s.attr=u),zd(n,s),xm(n,o)})(i,r)}}}function Sm(i){var e=null;if(re==="subgraph"&&((e={}).type="subgraph",Ce(),Lt===Tt.IDENTIFIER&&(e.id=re,Ce())),re==="{"){if(Ce(),e||(e={}),e.parent=i,e.node=i.node,e.edge=i.edge,e.graph=i.graph,km(e),re!="}")throw It("Angle bracket } expected");Ce(),delete e.node,delete e.edge,delete e.graph,delete e.parent,i.subgraphs||(i.subgraphs=[]),i.subgraphs.push(e)}return e}function xm(i,e){for(;re==="->"||re==="--";){var t,r=re;Ce();var n=Sm(i);if(n)t=n;else{if(Lt!=Tt.IDENTIFIER)throw It("Identifier or subgraph expected");zd(i,{id:t=re}),Ce()}MS(i,Em(i,e,t,r,Xa())),e=t}}function Xa(){for(var i,e,t=null,r={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},o=new Array,s=new Array;re==="[";){for(Ce(),t={};re!==""&&re!="]";){if(Lt!=Tt.IDENTIFIER)throw It("Attribute name expected");var u=re;if(Ce(),re!="=")throw It("Equal sign = expected");if(Ce(),Lt!=Tt.IDENTIFIER)throw It("Attribute value expected");var h=re;u==="style"&&(h=r[h]),u==="arrowhead"&&(u="arrows",h={to:{enabled:!0,type:n[h]}}),u==="arrowtail"&&(u="arrows",h={from:{enabled:!0,type:n[h]}}),o.push({attr:t,name:u,value:h}),s.push(u),Ce(),re==","&&Ce()}if(re!="]")throw It("Bracket ] expected");Ce()}if(gi(s).call(s,"dir")){var v={arrows:{}};for(i=0;i<o.length;i++)if(o[i].name==="arrows")if(o[i].value.to!=null)v.arrows.to=i;else{if(o[i].value.from==null)throw It("Invalid value of arrows");v.arrows.from=i}else o[i].name==="dir"&&(v.dir=i);var g,y,w=o[v.dir].value;if(!gi(s).call(s,"arrows"))if(w==="both")o.push({attr:o[v.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),v.arrows.to=o.length-1,o.push({attr:o[v.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),v.arrows.from=o.length-1;else if(w==="forward")o.push({attr:o[v.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),v.arrows.to=o.length-1;else if(w==="back")o.push({attr:o[v.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),v.arrows.from=o.length-1;else{if(w!=="none")throw It('Invalid dir type "'+w+'"');o.push({attr:o[v.dir].attr,name:"arrows",value:""}),v.arrows.to=o.length-1}if(w==="both")v.arrows.to&&v.arrows.from?(y=o[v.arrows.to].value.to.type,g=o[v.arrows.from].value.from.type,o[v.arrows.to]={attr:o[v.arrows.to].attr,name:o[v.arrows.to].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:g}}},Vr(o).call(o,v.arrows.from,1)):v.arrows.to?(y=o[v.arrows.to].value.to.type,g="arrow",o[v.arrows.to]={attr:o[v.arrows.to].attr,name:o[v.arrows.to].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:g}}}):v.arrows.from&&(y="arrow",g=o[v.arrows.from].value.from.type,o[v.arrows.from]={attr:o[v.arrows.from].attr,name:o[v.arrows.from].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:g}}});else if(w==="back")v.arrows.to&&v.arrows.from?(y="",g=o[v.arrows.from].value.from.type,o[v.arrows.from]={attr:o[v.arrows.from].attr,name:o[v.arrows.from].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:g}}}):v.arrows.to?(y="",g="arrow",v.arrows.from=v.arrows.to,o[v.arrows.from]={attr:o[v.arrows.from].attr,name:o[v.arrows.from].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:g}}}):v.arrows.from&&(y="",g=o[v.arrows.from].value.from.type,o[v.arrows.to]={attr:o[v.arrows.from].attr,name:o[v.arrows.from].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:g}}}),o[v.arrows.from]={attr:o[v.arrows.from].attr,name:o[v.arrows.from].name,value:{from:{enabled:!0,type:o[v.arrows.from].value.from.type}}};else if(w==="none"){var k;o[k=v.arrows.to?v.arrows.to:v.arrows.from]={attr:o[k].attr,name:o[k].name,value:""}}else{if(w!=="forward")throw It('Invalid dir type "'+w+'"');v.arrows.to&&v.arrows.from||v.arrows.to?(y=o[v.arrows.to].value.to.type,g="",o[v.arrows.to]={attr:o[v.arrows.to].attr,name:o[v.arrows.to].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:g}}}):v.arrows.from&&(y="arrow",g="",v.arrows.to=v.arrows.from,o[v.arrows.to]={attr:o[v.arrows.to].attr,name:o[v.arrows.to].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:g}}}),o[v.arrows.to]={attr:o[v.arrows.to].attr,name:o[v.arrows.to].name,value:{to:{enabled:!0,type:o[v.arrows.to].value.to.type}}}}Vr(o).call(o,v.dir,1)}if(gi(s).call(s,"penwidth")){var O=[];for(e=o.length,i=0;i<e;i++)o[i].name!=="width"&&(o[i].name==="penwidth"&&(o[i].name="width"),O.push(o[i]));o=O}for(e=o.length,i=0;i<e;i++)DS(o[i].attr,o[i].name,o[i].value);return t}function It(i){return new SyntaxError(i+', got "'+Tm(re,30)+'" (char '+Oo+")")}function Tm(i,e){return i.length<=e?i:i.substr(0,27)+"..."}function Im(i,e,t){for(var r=e.split("."),n=r.pop(),o=i,s=0;s<r.length;s++){var u=r[s];u in o||(o[u]={}),o=o[u]}return o[n]=t,i}function $m(i,e){var t={};for(var r in i)if(i.hasOwnProperty(r)){var n=e[r];ke(n)?Pe(n).call(n,function(o){Im(t,o,i[r])}):Im(t,typeof n=="string"?n:r,i[r])}return t}function Ld(i){var e,t=jd(i),r={nodes:[],edges:[],options:{}};if(t.nodes&&Pe(e=t.nodes).call(e,function(s){var u={id:s.id,label:String(s.label||s.id)};ki(u,$m(s.attr,wm)),u.image&&(u.shape="image"),r.nodes.push(u)}),t.edges){var n,o=function(s){var u={from:s.from,to:s.to};return ki(u,$m(s.attr,Dr)),u.arrows==null&&s.type==="->"&&(u.arrows="to"),u};Pe(n=t.edges).call(n,function(s){var u,h,v,g,y,w,k;u=s.from instanceof Object?s.from.nodes:{id:s.from},h=s.to instanceof Object?s.to.nodes:{id:s.to},s.from instanceof Object&&s.from.edges&&Pe(v=s.from.edges).call(v,function(O){var x=o(O);r.edges.push(x)}),y=h,w=function(O,x){var $=Em(r,O.id,x.id,s.type,s.attr),D=o($);r.edges.push(D)},ke(g=u)?Pe(g).call(g,function(O){ke(y)?Pe(y).call(y,function(x){w(O,x)}):w(O,y)}):ke(y)?Pe(y).call(y,function(O){w(g,O)}):w(g,y),s.to instanceof Object&&s.to.edges&&Pe(k=s.to.edges).call(k,function(O){var x=o(O);r.edges.push(x)})})}return t.attr&&(r.options=t.attr),r}var AS=Object.freeze({__proto__:null,DOTToGraph:Ld,parseDOT:jd});function Qa(i,e){var t,r={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(r.nodes.fixed=e.fixed),e.parseColor!=null&&(r.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(r.edges.inheritColor=e.inheritColor));var n=i.edges,o=en(n).call(n,function(s){var u={from:s.source,id:s.id,to:s.target};return s.attributes!=null&&(u.attributes=s.attributes),s.label!=null&&(u.label=s.label),s.attributes!=null&&s.attributes.title!=null&&(u.title=s.attributes.title),s.type==="Directed"&&(u.arrows="to"),s.color&&r.edges.inheritColor===!1&&(u.color=s.color),u});return{nodes:en(t=i.nodes).call(t,function(s){var u={id:s.id,fixed:r.nodes.fixed&&s.x!=null&&s.y!=null};return s.attributes!=null&&(u.attributes=s.attributes),s.label!=null&&(u.label=s.label),s.size!=null&&(u.size=s.size),s.attributes!=null&&s.attributes.title!=null&&(u.title=s.attributes.title),s.title!=null&&(u.title=s.title),s.x!=null&&(u.x=s.x),s.y!=null&&(u.y=s.y),s.color!=null&&(r.nodes.parseColor===!0?u.color=s.color:u.color={background:s.color,border:s.color,highlight:{background:s.color,border:s.color},hover:{background:s.color,border:s.color}}),u}),edges:o}}var NS=Object.freeze({__proto__:null,parseGephi:Qa}),RS=Object.freeze({__proto__:null,cn:{addDescription:"\u5355\u51FB\u7A7A\u767D\u5904\u653E\u7F6E\u65B0\u8282\u70B9\u3002",addEdge:"\u6DFB\u52A0\u8FDE\u63A5\u7EBF",addNode:"\u6DFB\u52A0\u8282\u70B9",back:"\u8FD4\u56DE",close:"\u95DC\u9589",createEdgeError:"\u65E0\u6CD5\u5C06\u8FDE\u63A5\u7EBF\u8FDE\u63A5\u5230\u7FA4\u96C6\u3002",del:"\u5220\u9664\u9009\u5B9A",deleteClusterError:"\u65E0\u6CD5\u5220\u9664\u7FA4\u96C6\u3002",edgeDescription:"\u5355\u51FB\u67D0\u4E2A\u8282\u70B9\u5E76\u5C06\u8BE5\u8FDE\u63A5\u7EBF\u62D6\u52A8\u5230\u53E6\u4E00\u4E2A\u8282\u70B9\u4EE5\u8FDE\u63A5\u5B83\u4EEC\u3002",edit:"\u7F16\u8F91",editClusterError:"\u65E0\u6CD5\u7F16\u8F91\u7FA4\u96C6\u3002",editEdge:"\u7F16\u8F91\u8FDE\u63A5\u7EBF",editEdgeDescription:"\u5355\u51FB\u63A7\u5236\u8282\u70B9\u5E76\u5C06\u5B83\u4EEC\u62D6\u5230\u8282\u70B9\u4E0A\u8FDE\u63A5\u3002",editNode:"\u7F16\u8F91\u8282\u70B9"},cs:{addDescription:"Kluknut\xEDm do pr\xE1zdn\xE9ho prostoru m\u016F\u017Eete p\u0159idat nov\xFD vrchol.",addEdge:"P\u0159idat hranu",addNode:"P\u0159idat vrchol",back:"Zp\u011Bt",close:"Zav\u0159\xEDt",createEdgeError:"Nelze p\u0159ipojit hranu ke shluku.",del:"Smazat v\xFDb\u011Br",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"P\u0159eta\u017Een\xEDm z jednoho vrcholu do druh\xE9ho m\u016F\u017Eete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"P\u0159eta\u017Een\xEDm kontroln\xEDho vrcholu hrany ji m\u016F\u017Eete p\u0159ipojit k jin\xE9mu vrcholu.",editNode:"Upravit vrchol"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzuf\xFCgen",addNode:"Knoten hinzuf\xFCgen",back:"Zur\xFCck",close:"Schlie\xDFen",createEdgeError:"Es ist nicht m\xF6glich, Kanten mit Clustern zu verbinden.",del:"L\xF6sche Auswahl",deleteClusterError:"Cluster k\xF6nnen nicht gel\xF6scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster k\xF6nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},es:{addDescription:"Haga clic en un lugar vac\xEDo para colocar un nuevo nodo.",addEdge:"A\xF1adir arista",addNode:"A\xF1adir nodo",back:"Atr\xE1s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecci\xF3n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un n\u0153ud.",addEdge:"Ajouter un lien",addNode:"Ajouter un n\u0153ud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de cr\xE9er un lien vers un cluster.",del:"Effacer la s\xE9lection",deleteClusterError:"Les clusters ne peuvent pas \xEAtre effac\xE9s.",edgeDescription:"Cliquez sur un n\u0153ud et glissez le lien vers un autre n\u0153ud pour les connecter.",edit:"\xC9diter",editClusterError:"Les clusters ne peuvent pas \xEAtre \xE9dit\xE9s.",editEdge:"\xC9diter le lien",editEdgeDescription:"Cliquez sur les points de contr\xF4le et glissez-les pour connecter un n\u0153ud.",editNode:"\xC9diter le n\u0153ud"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espa\xE7o em branco para adicionar um novo n\xF3",addEdge:"Adicionar aresta",addNode:"Adicionar n\xF3",back:"Voltar",close:"Fechar",createEdgeError:"N\xE3o foi poss\xEDvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters n\xE3o puderam ser removidos.",edgeDescription:"Clique em um n\xF3 e arraste a aresta at\xE9 outro n\xF3 para conect\xE1-los",edit:"Editar",editClusterError:"Clusters n\xE3o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xF3 para conect\xE1-los",editNode:"Editar n\xF3"},ru:{addDescription:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u0432 \u0441\u0432\u043E\u0431\u043E\u0434\u043D\u043E\u0435 \u043C\u0435\u0441\u0442\u043E, \u0447\u0442\u043E\u0431\u044B \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043D\u043E\u0432\u044B\u0439 \u0443\u0437\u0435\u043B.",addEdge:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0440\u0435\u0431\u0440\u043E",addNode:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0443\u0437\u0435\u043B",back:"\u041D\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043A\u0440\u044B\u0432\u0430\u0442\u044C",createEdgeError:"\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u0441\u043E\u0435\u0434\u0438\u043D\u0438\u0442\u044C \u0440\u0435\u0431\u0440\u0430 \u0432 \u043A\u043B\u0430\u0441\u0442\u0435\u0440.",del:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0435",deleteClusterError:"\u041A\u043B\u0430\u0441\u0442\u0435\u0440\u044B \u043D\u0435 \u043C\u043E\u0433\u0443\u0442 \u0431\u044B\u0442\u044C \u0443\u0434\u0430\u043B\u0435\u043D\u044B",edgeDescription:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u043D\u0430 \u0443\u0437\u0435\u043B \u0438 \u043F\u0440\u043E\u0442\u044F\u043D\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043E \u043A \u0434\u0440\u0443\u0433\u043E\u043C\u0443 \u0443\u0437\u043B\u0443, \u0447\u0442\u043E\u0431\u044B \u0441\u043E\u0435\u0434\u0438\u043D\u0438\u0442\u044C \u0438\u0445.",edit:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",editClusterError:"\u041A\u043B\u0430\u0441\u0442\u0435\u0440\u044B \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u044B \u0434\u043B\u044F \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F.",editEdge:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0440\u0435\u0431\u0440\u043E",editEdgeDescription:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u043D\u0430 \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044C\u043D\u044B\u0435 \u0442\u043E\u0447\u043A\u0438 \u0438 \u043F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043B, \u0447\u0442\u043E\u0431\u044B \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u044C\u0441\u044F \u043A \u043D\u0435\u043C\u0443.",editNode:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0443\u0437\u0435\u043B"},uk:{addDescription:"K\u043B\u0456\u043A\u043D\u0456\u0442\u044C \u043D\u0430 \u0432\u0456\u043B\u044C\u043D\u0435 \u043C\u0456\u0441\u0446\u0435, \u0449\u043E\u0431 \u0434\u043E\u0434\u0430\u0442\u0438 \u043D\u043E\u0432\u0438\u0439 \u0432\u0443\u0437\u043E\u043B.",addEdge:"\u0414\u043E\u0434\u0430\u0442\u0438 \u043A\u0440\u0430\u0439",addNode:"\u0414\u043E\u0434\u0430\u0442\u0438 \u0432\u0443\u0437\u043E\u043B",back:"\u041D\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043A\u0440\u0438\u0442\u0438",createEdgeError:"\u041D\u0435 \u043C\u043E\u0436\u043B\u0438\u0432\u043E \u043E\u0431'\u0454\u0434\u043D\u0430\u0442\u0438 \u043A\u0440\u0430\u0457 \u0432 \u0433\u0440\u0443\u043F\u0443.",del:"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u043E\u0431\u0440\u0430\u043D\u0435",deleteClusterError:"\u0413\u0440\u0443\u043F\u0438 \u043D\u0435 \u043C\u043E\u0436\u0443\u0442\u044C \u0431\u0443\u0442\u0438 \u0432\u0438\u0434\u0430\u043B\u0435\u043D\u0456.",edgeDescription:"\u041A\u043B\u0456\u043A\u043D\u0456\u0442\u044C \u043D\u0430 \u0432\u0443\u0437\u043E\u043B \u0456 \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0456\u0442\u044C \u043A\u0440\u0430\u0439 \u0434\u043E \u0456\u043D\u0448\u043E\u0433\u043E \u0432\u0443\u0437\u043B\u0430, \u0449\u043E\u0431 \u0457\u0445 \u0437'\u0454\u0434\u043D\u0430\u0442\u0438.",edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",editClusterError:"\u0413\u0440\u0443\u043F\u0438 \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u0456 \u0434\u043B\u044F \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043D\u043D\u044F.",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043A\u0440\u0430\u0439",editEdgeDescription:"\u041A\u043B\u0456\u043A\u043D\u0456\u0442\u044C \u043D\u0430 \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044C\u043D\u0456 \u0442\u043E\u0447\u043A\u0438 \u0456 \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0456\u0442\u044C \u0457\u0445 \u0443 \u0432\u0443\u0437\u043E\u043B, \u0449\u043E\u0431 \u043F\u0456\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u0438\u0441\u044F \u0434\u043E \u043D\u044C\u043E\u0433\u043E.",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0443\u0437\u043E\u043B"}}),BS=function(){function i(){L(this,i),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return H(i,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var e=this.image.width,t=this.image.height;this.width=e,this.height=t;var r=Math.floor(t/2),n=Math.floor(t/4),o=Math.floor(t/8),s=Math.floor(t/16),u=Math.floor(e/2),h=Math.floor(e/4),v=Math.floor(e/8),g=Math.floor(e/16);this.canvas.width=3*h,this.canvas.height=r,this.coordinates=[[0,0,u,r],[u,0,h,n],[u,n,v,o],[5*v,n,g,s]],this._fillMipMap()}}},{key:"initialized",value:function(){return this.coordinates!==void 0}},{key:"_fillMipMap",value:function(){var e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(var r=1;r<this.NUM_ITERATIONS;r++){var n=this.coordinates[r-1],o=this.coordinates[r];e.drawImage(this.canvas,n[0],n[1],n[2],n[3],o[0],o[1],o[2],o[3])}}},{key:"drawImageAtPosition",value:function(e,t,r,n,o,s){if(this.initialized())if(t>2){t*=.5;for(var u=0;t>2&&u<this.NUM_ITERATIONS;)t*=.5,u+=1;u>=this.NUM_ITERATIONS&&(u=this.NUM_ITERATIONS-1);var h=this.coordinates[u];e.drawImage(this.canvas,h[0],h[1],h[2],h[3],r,n,o,s)}else e.drawImage(this.image,r,n,o,s)}}]),i}(),Pm=function(){function i(e){L(this,i),this.images={},this.imageBroken={},this.callback=e}return H(i,[{key:"_tryloadBrokenUrl",value:function(e,t,r){e!==void 0&&r!==void 0&&(t!==void 0?(r.image.onerror=function(){console.error("Could not load brokenImage:",t)},r.image.src=t):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(e){this.callback&&this.callback(e)}},{key:"load",value:function(e,t){var r=this,n=this.images[e];if(n)return n;var o=new BS;return this.images[e]=o,o.image.onload=function(){r._fixImageCoordinates(o.image),o.init(),r._redrawWithImage(o)},o.image.onerror=function(){console.error("Could not load image:",e),r._tryloadBrokenUrl(e,t,o)},o.image.src=e,o}},{key:"_fixImageCoordinates",value:function(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}]),i}(),Cm={exports:{}},FS=J(function(){if(typeof ArrayBuffer=="function"){var i=new ArrayBuffer(8);Object.isExtensible(i)&&Object.defineProperty(i,"a",{value:8})}}),jS=J,zS=ot,Hd=Br,Dm=FS,iu=Object.isExtensible,LS=jS(function(){iu(1)})||Dm?function(i){return!!zS(i)&&(!Dm||Hd(i)!=="ArrayBuffer")&&(!iu||iu(i))}:iu,Mm=!J(function(){return Object.isExtensible(Object.preventExtensions({}))}),Am=Y,Nm=we,HS=ea,WS=ot,Wd=st,Ud=Rt.f,Rm=so,US=wl,Vd=LS,VS=Mm,fn=!1,Mr=As("meta"),qS=0,qd=function(i){Ud(i,Mr,{value:{objectID:"O"+qS++,weakData:{}}})},GS=Cm.exports={enable:function(){GS.enable=function(){},fn=!0;var i=Rm.f,e=Nm([].splice),t={};t[Mr]=1,i(t).length&&(Rm.f=function(r){for(var n=i(r),o=0,s=n.length;o<s;o++)if(n[o]===Mr){e(n,o,1);break}return n},Am({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:US.f}))},fastKey:function(i,e){if(!WS(i))return typeof i=="symbol"?i:(typeof i=="string"?"S":"P")+i;if(!Wd(i,Mr)){if(!Vd(i))return"F";if(!e)return"E";qd(i)}return i[Mr].objectID},getWeakData:function(i,e){if(!Wd(i,Mr)){if(!Vd(i))return!0;if(!e)return!1;qd(i)}return i[Mr].weakData},onFreeze:function(i){return VS&&fn&&Vd(i)&&!Wd(i,Mr)&&qd(i),i}};HS[Mr]=!0;var Ja=Cm.exports,KS=Yo,YS=et,XS=Vt,QS=Rn,JS=gp,Bm=Yt,Fm=je,ZS=cl,ex=ro,Gd=fp,tx=TypeError,nu=function(i,e){this.stopped=i,this.result=e},jm=nu.prototype,Kd=function(i,e,t){var r,n,o,s,u,h,v,g=t&&t.that,y=!(!t||!t.AS_ENTRIES),w=!(!t||!t.IS_RECORD),k=!(!t||!t.IS_ITERATOR),O=!(!t||!t.INTERRUPTED),x=KS(e,g),$=function(N){return r&&Gd(r,"normal",N),new nu(!0,N)},D=function(N){return y?(XS(N),O?x(N[0],N[1],$):x(N[0],N[1])):O?x(N,$):x(N)};if(w)r=i.iterator;else if(k)r=i;else{if(!(n=ex(i)))throw new tx(QS(i)+" is not iterable");if(JS(n)){for(o=0,s=Bm(i);s>o;o++)if((u=D(i[o]))&&Fm(jm,u))return u;return new nu(!1)}r=ZS(i,n)}for(h=w?i.next:r.next;!(v=YS(h,r)).done;){try{u=D(v.value)}catch(N){Gd(r,"throw",N)}if(typeof u=="object"&&u&&Fm(jm,u))return u}return new nu(!1)},rx=je,ix=TypeError,Yd=function(i,e){if(rx(e,i))return i;throw new ix("Incorrect invocation")},nx=Y,ox=Ie,ax=Ja,sx=J,lx=Hi,ux=Kd,zm=Yd,hx=nt,cx=ot,Xd=Mn,dx=Qt,fx=Rt.f,vx=Ur.forEach,px=Ze,gx=_r.set,yx=_r.getterFor,Qd=function(i,e,t){var r,n=i.indexOf("Map")!==-1,o=i.indexOf("Weak")!==-1,s=n?"set":"add",u=ox[i],h=u&&u.prototype,v={};if(px&&hx(u)&&(o||h.forEach&&!sx(function(){new u().entries().next()}))){var g=(r=e(function(w,k){gx(zm(w,g),{type:i,collection:new u}),Xd(k)||ux(k,w[s],{that:w,AS_ENTRIES:n})})).prototype,y=yx(i);vx(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(w){var k=w==="add"||w==="set";!(w in h)||o&&w==="clear"||lx(g,w,function(O,x){var $=y(this).collection;if(!k&&o&&!cx(O))return w==="get"&&void 0;var D=$[w](O===0?0:O,x);return k?this:D})}),o||fx(g,"size",{configurable:!0,get:function(){return y(this).collection.size}})}else r=t.getConstructor(e,i,n,s),ax.enable();return dx(r,i,!1,!0),v[i]=r,nx({global:!0,forced:!0},v),o||t.setStrong(r,i,n),r},mx=ai,ou=function(i,e,t){for(var r in e)t&&t.unsafe&&i[r]?i[r]=e[r]:mx(i,r,e[r],t);return i},Lm=be,bx=Sr,wx=Ze,Hm=Ue("species"),_x=Yn,Ex=Sr,Wm=ou,kx=Yo,Ox=Yd,Um=Mn,Sx=Kd,Vm=Xh,qm=ol,Gm=function(i){var e=Lm(i);wx&&e&&!e[Hm]&&bx(e,Hm,{configurable:!0,get:function(){return this}})},Za=Ze,Jd=Ja.fastKey,Km=_r.set,au=_r.getterFor,Ym={getConstructor:function(i,e,t,r){var n=i(function(v,g){Ox(v,o),Km(v,{type:e,index:_x(null),first:void 0,last:void 0,size:0}),Za||(v.size=0),Um(g)||Sx(g,v[r],{that:v,AS_ENTRIES:t})}),o=n.prototype,s=au(e),u=function(v,g,y){var w,k,O=s(v),x=h(v,g);return x?x.value=y:(O.last=x={index:k=Jd(g,!0),key:g,value:y,previous:w=O.last,next:void 0,removed:!1},O.first||(O.first=x),w&&(w.next=x),Za?O.size++:v.size++,k!=="F"&&(O.index[k]=x)),v},h=function(v,g){var y,w=s(v),k=Jd(g);if(k!=="F")return w.index[k];for(y=w.first;y;y=y.next)if(y.key===g)return y};return Wm(o,{clear:function(){for(var v=s(this),g=v.index,y=v.first;y;)y.removed=!0,y.previous&&(y.previous=y.previous.next=void 0),delete g[y.index],y=y.next;v.first=v.last=void 0,Za?v.size=0:this.size=0},delete:function(v){var g=this,y=s(g),w=h(g,v);if(w){var k=w.next,O=w.previous;delete y.index[w.index],w.removed=!0,O&&(O.next=k),k&&(k.previous=O),y.first===w&&(y.first=k),y.last===w&&(y.last=O),Za?y.size--:g.size--}return!!w},forEach:function(v){for(var g,y=s(this),w=kx(v,arguments.length>1?arguments[1]:void 0);g=g?g.next:y.first;)for(w(g.value,g.key,this);g&&g.removed;)g=g.previous},has:function(v){return!!h(this,v)}}),Wm(o,t?{get:function(v){var g=h(this,v);return g&&g.value},set:function(v,g){return u(this,v===0?0:v,g)}}:{add:function(v){return u(this,v=v===0?0:v,v)}}),Za&&Ex(o,"size",{configurable:!0,get:function(){return s(this).size}}),n},setStrong:function(i,e,t){var r=e+" Iterator",n=au(e),o=au(r);Vm(i,e,function(s,u){Km(this,{type:r,target:s,state:n(s),kind:u,last:void 0})},function(){for(var s=o(this),u=s.kind,h=s.last;h&&h.removed;)h=h.previous;return s.target&&(s.last=h=h?h.next:s.state.first)?qm(u==="keys"?h.key:u==="values"?h.value:[h.key,h.value],!1):(s.target=void 0,qm(void 0,!0))},t?"entries":"values",!t,!0),Gm(e)}};Qd("Map",function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},Ym);var Xm=A(ue.Map),xx=function(){function i(){L(this,i),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},$e(this.options,this.defaultOptions)}return H(i,[{key:"setOptions",value:function(e){var t=["useDefaultGroups"];if(e!==void 0){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&_e(t).call(t,r)===-1){var n=e[r];this.add(r,n)}}}},{key:"clear",value:function(){this._groups=new Xm,this._groupNames=[]}},{key:"get",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this._groups.get(e);if(r===void 0&&t)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){var n=this._groupIndex%this._groupNames.length;++this._groupIndex,(r={}).color=this._groups.get(this._groupNames[n]),this._groups.set(e,r)}else{var o=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,(r={}).color=this._defaultGroups[o],this._groups.set(e,r)}return r}},{key:"add",value:function(e,t){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,t),t}}]),i}();Y({target:"Number",stat:!0},{isNaN:function(i){return i!=i}});var Zd=A(ue.Number.isNaN),Qm=Ie.isFinite,Tx=Number.isFinite||function(i){return typeof i=="number"&&Qm(i)};Y({target:"Number",stat:!0},{isFinite:Tx});var vn=A(ue.Number.isFinite),pr=Ur.some;Y({target:"Array",proto:!0,forced:!vo("some")},{some:function(i){return pr(this,i,arguments.length>1?arguments[1]:void 0)}});var rr=lt("Array").some,su=je,ef=rr,Gr=Array.prototype,Jm=function(i){var e=i.some;return i===Gr||su(Gr,i)&&e===Gr.some?ef:e},Ix=A(Jm),Oi=A(ue.Object.getOwnPropertySymbols),pn={exports:{}},gn=Y,tf=J,lu=br,Ar=Ni.f,rf=Ze;gn({target:"Object",stat:!0,forced:!rf||tf(function(){Ar(1)}),sham:!rf},{getOwnPropertyDescriptor:function(i,e){return Ar(lu(i),e)}});var nf=ue.Object,$x=pn.exports=function(i,e){return nf.getOwnPropertyDescriptor(i,e)};nf.getOwnPropertyDescriptor.sham&&($x.sham=!0);var of=pn.exports,Kr=A(of),af=Dk,yn=br,es=Ni,ts=eo;Y({target:"Object",stat:!0,sham:!Ze},{getOwnPropertyDescriptors:function(i){for(var e,t,r=yn(i),n=es.f,o=af(r),s={},u=0;o.length>u;)(t=n(r,e=o[u++]))!==void 0&&ts(s,e,t);return s}});var gr=A(ue.Object.getOwnPropertyDescriptors),Zm={exports:{}},eb=Y,Px=Ze,tb=Qs.f;eb({target:"Object",stat:!0,forced:Object.defineProperties!==tb,sham:!Px},{defineProperties:tb});var xo=ue.Object,Cx=Zm.exports=function(i,e){return xo.defineProperties(i,e)};xo.defineProperties.sham&&(Cx.sham=!0);var To=A(Zm.exports),uu=A(yl);function hu(i,e,t){return(e=Fg(e))in i?ao(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var Et=Ie,mn=J,Je=Xt,Ht=fy.trim,cu=vd,rs=we("".charAt),Si=Et.parseFloat,Io=Et.Symbol,bn=Io&&Io.iterator,yr=1/Si(cu+"-0")!=-1/0||bn&&!mn(function(){Si(Object(bn))})?function(i){var e=Ht(Je(i)),t=Si(e);return t===0&&rs(e,0)==="-"?-0:t}:Si;Y({global:!0,forced:parseFloat!==yr},{parseFloat:yr});var xi=A(ue.parseFloat),rb=Y,ib=J,du=wl.f;rb({target:"Object",stat:!0,forced:ib(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:du});var Yr=ue.Object,fu=function(i){return Yr.getOwnPropertyNames(i)},wn=A(fu);function sf(i,e){var t=["node","edge","label"],r=!0,n=_i(e,"chosen");if(typeof n=="boolean")r=n;else if(xe(n)==="object"){if(_e(t).call(t,i)===-1)throw new Error("choosify: subOption '"+i+"' should be one of '"+t.join("', '")+"'");var o=_i(e,["chosen",i]);typeof o!="boolean"&&typeof o!="function"||(r=o)}return r}function vu(i,e,t){if(i.width<=0||i.height<=0)return!1;if(t!==void 0){var r={x:e.x-t.x,y:e.y-t.y};if(t.angle!==0){var n=-t.angle;e={x:Math.cos(n)*r.x-Math.sin(n)*r.y,y:Math.sin(n)*r.x+Math.cos(n)*r.y}}else e=r}var o=i.x+i.width,s=i.y+i.width;return i.left<e.x&&o>e.x&&i.top<e.y&&s>e.y}function $o(i){return typeof i=="string"&&i!==""}function lf(i,e,t,r){var n=r.x,o=r.y;if(typeof r.distanceToBorder=="function"){var s=r.distanceToBorder(i,e),u=Math.sin(e)*s,h=Math.cos(e)*s;h===s?(n+=s,o=r.y):u===s?(n=r.x,o-=s):(n+=h,o-=u)}else r.shape.width>r.shape.height?(n=r.x+.5*r.shape.width,o=r.y-t):(n=r.x+t,o=r.y-.5*r.shape.height);return{x:n,y:o}}var nb=lt("Array").values,pu=oi,uf=st,ob=je,Dx=nb,gu=Array.prototype,Mx={DOMTokenList:!0,NodeList:!0},Ax=function(i){var e=i.values;return i===gu||ob(gu,i)&&e===gu.values||uf(Mx,pu(i))?Dx:e},ab=A(Ax),Nx=function(){function i(e){L(this,i),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return H(i,[{key:"_add",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});var n=t;t!==void 0&&t!==""||(n=" ");var o=this.measureText(n,r),s=$e({},ab(o));s.text=t,s.width=o.width,s.mod=r,t!==void 0&&t!==""||(s.width=0),this.lines[e].blocks.push(s),this.lines[e].width+=s.width}},{key:"curWidth",value:function(){var e=this.lines[this.current];return e===void 0?0:e.width}},{key:"append",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t)}},{key:"newLine",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t),this.current++}},{key:"determineLineHeights",value:function(){for(var e=0;e<this.lines.length;e++){var t=this.lines[e],r=0;if(t.blocks!==void 0)for(var n=0;n<t.blocks.length;n++){var o=t.blocks[n];r<o.height&&(r=o.height)}t.height=r}}},{key:"determineLabelSize",value:function(){for(var e=0,t=0,r=0;r<this.lines.length;r++){var n=this.lines[r];n.width>e&&(e=n.width),t+=n.height}this.width=e,this.height=t}},{key:"removeEmptyBlocks",value:function(){for(var e=[],t=0;t<this.lines.length;t++){var r=this.lines[t];if(r.blocks.length!==0&&(t!==this.lines.length-1||r.width!==0)){var n={};$e(n,r),n.blocks=[];for(var o=void 0,s=[],u=0;u<r.blocks.length;u++){var h=r.blocks[u];h.width!==0?s.push(h):o===void 0&&(o=h)}s.length===0&&o!==void 0&&s.push(o),n.blocks=s,e.push(n)}}return e}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]),i}(),Rx={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},Po=function(){function i(e){L(this,i),this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return H(i,[{key:"mod",value:function(){return this.modStack.length===0?"normal":this.modStack[0]}},{key:"modName",value:function(){return this.modStack.length===0?"normal":this.modStack[0]==="mono"?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}},{key:"parseWS",value:function(e){return!!/[ \t]/.test(e)&&(this.mono?this.add(e):this.spacing=!0,!0)}},{key:"setTag",value:function(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}},{key:"unsetTag",value:function(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(e,t){return!(this.mono||this[e]||!this.match(t))&&(this.setTag(e),!0)}},{key:"match",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=Ve(this.prepareRegExp(e),2),n=r[0],o=r[1],s=n.test(this.text.substr(this.position,o));return s&&t&&(this.position+=o-1),s}},{key:"parseEndTag",value:function(e,t,r){var n=this.mod()===e;return!(!(n=e==="mono"?n&&this.mono:n&&!this.mono)||!this.match(t))&&(r!==void 0?(this.position===this.text.length-1||this.match(r,!1))&&this.unsetTag(e):this.unsetTag(e),!0)}},{key:"replace",value:function(e,t){return!!this.match(e)&&(this.add(t),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(e){var t,r;if(e instanceof RegExp)r=e,t=1;else{var n=Rx[e];r=n!==void 0?n:new RegExp(e),t=e.length}return[r,t]}}]),i}(),is=function(){function i(e,t,r,n){var o=this;L(this,i),this.ctx=e,this.parent=t,this.selected=r,this.hover=n,this.lines=new Nx(function(s,u){if(s===void 0)return 0;var h=o.parent.getFormattingValues(e,r,n,u),v=0;return s!==""&&(v=o.ctx.measureText(s).width),{width:v,values:h}})}return H(i,[{key:"process",value:function(e){if(!$o(e))return this.lines.finalize();var t=this.parent.fontOptions;e=(e=e.replace(/\r\n/g,`
`)).replace(/\r/g,`
`);var r=String(e).split(`
`),n=r.length;if(t.multi)for(var o=0;o<n;o++){var s=this.splitBlocks(r[o],t.multi);if(s!==void 0)if(s.length!==0){if(t.maxWdt>0)for(var u=0;u<s.length;u++){var h=s[u].mod,v=s[u].text;this.splitStringIntoLines(v,h,!0)}else for(var g=0;g<s.length;g++){var y=s[g].mod,w=s[g].text;this.lines.append(w,y)}this.lines.newLine()}else this.lines.newLine("")}else if(t.maxWdt>0)for(var k=0;k<n;k++)this.splitStringIntoLines(r[k]);else for(var O=0;O<n;O++)this.lines.newLine(r[O]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(e){var t="none";return e==="markdown"||e==="md"?t="markdown":e!==!0&&e!=="html"||(t="html"),t}},{key:"splitHtmlBlocks",value:function(e){for(var t=new Po(e),r=function(o){return!!/&/.test(o)&&(t.replace(t.text,"&lt;","<")||t.replace(t.text,"&amp;","&")||t.add("&"),!0)};t.position<t.text.length;){var n=t.text.charAt(t.position);t.parseWS(n)||/</.test(n)&&(t.parseStartTag("bold","<b>")||t.parseStartTag("ital","<i>")||t.parseStartTag("mono","<code>")||t.parseEndTag("bold","</b>")||t.parseEndTag("ital","</i>")||t.parseEndTag("mono","</code>"))||r(n)||t.add(n),t.position++}return t.emitBlock(),t.blocks}},{key:"splitMarkdownBlocks",value:function(e){for(var t=this,r=new Po(e),n=!0,o=function(u){return!!/\\/.test(u)&&(r.position<t.text.length+1&&(r.position++,u=t.text.charAt(r.position),/ \t/.test(u)?r.spacing=!0:(r.add(u),n=!1)),!0)};r.position<r.text.length;){var s=r.text.charAt(r.position);r.parseWS(s)||o(s)||(n||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(s),n=!1),r.position++}return r.emitBlock(),r.blocks}},{key:"splitBlocks",value:function(e,t){var r=this.decodeMarkupSystem(t);return r==="none"?[{text:e,mod:"normal"}]:r==="markdown"?this.splitMarkdownBlocks(e):r==="html"?this.splitHtmlBlocks(e):void 0}},{key:"overMaxWidth",value:function(e){var t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(e){for(var t="",r=0;r<e.length;){var n=t+(t===""?"":" ")+e[r];if(this.overMaxWidth(n))break;t=n,r++}return r}},{key:"getLongestFitWord",value:function(e){for(var t=0;t<e.length&&!this.overMaxWidth(ct(e).call(e,0,t));)t++;return t}},{key:"splitStringIntoLines",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t);for(var n=(e=(e=e.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");n.length>0;){var o=this.getLongestFit(n);if(o===0){var s=n[0],u=this.getLongestFitWord(s);this.lines.newLine(ct(s).call(s,0,u),t),n[0]=ct(s).call(s,u)}else{var h=o;n[o-1]===" "?o--:n[h]===" "&&h++;var v=ct(n).call(n,0,o).join("");o==n.length&&r?this.lines.append(v,t):this.lines.newLine(v,t),n=ct(n).call(n,h)}}}}]),i}(),Xr=["bold","ital","boldital","mono"],hf=function(){function i(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];L(this,i),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(t),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=r}return H(i,[{key:"setOptions",value:function(e){if(this.elementOptions=e,this.initFontOptions(e.font),$o(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(xe(e.font)==="object"){var t=e.font.size;t!==void 0&&(this.baseSize=t)}}}},{key:"initFontOptions",value:function(e){var t=this;pe(Xr,function(r){t.fontOptions[r]={}}),i.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:pe(e,function(r,n){r!=null&&xe(r)!=="object"&&(t.fontOptions[n]=r)})}},{key:"constrain",value:function(e){var t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},r=_i(e,"widthConstraint");if(typeof r=="number")t.maxWdt=Number(r),t.minWdt=Number(r);else if(xe(r)==="object"){var n=_i(e,["widthConstraint","maximum"]);typeof n=="number"&&(t.maxWdt=Number(n));var o=_i(e,["widthConstraint","minimum"]);typeof o=="number"&&(t.minWdt=Number(o))}var s=_i(e,"heightConstraint");if(typeof s=="number")t.minHgt=Number(s);else if(xe(s)==="object"){var u=_i(e,["heightConstraint","minimum"]);typeof u=="number"&&(t.minHgt=Number(u));var h=_i(e,["heightConstraint","valign"]);typeof h=="string"&&(h!=="top"&&h!=="bottom"||(t.valign=h))}return t}},{key:"update",value:function(e,t){this.setOptions(e,!0),this.propagateFonts(t),De(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=sf("label",t)}},{key:"adjustSizes",value:function(e){var t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t);var r=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=r)}},{key:"addFontOptionsToPile",value:function(e,t){for(var r=0;r<t.length;++r)this.addFontToPile(e,t[r])}},{key:"addFontToPile",value:function(e,t){if(t!==void 0&&t.font!==void 0&&t.font!==null){var r=t.font;e.push(r)}}},{key:"getBasicOptions",value:function(e){for(var t={},r=0;r<e.length;++r){var n=e[r],o={};i.parseFontString(o,n)&&(n=o),pe(n,function(s,u){s!==void 0&&(Object.prototype.hasOwnProperty.call(t,u)||(_e(Xr).call(Xr,u)!==-1?t[u]={}:t[u]=s))})}return t}},{key:"getFontOption",value:function(e,t,r){for(var n,o=0;o<e.length;++o){var s=e[o];if(Object.prototype.hasOwnProperty.call(s,t)){if((n=s[t])==null)continue;var u={};if(i.parseFontString(u,n)&&(n=u),Object.prototype.hasOwnProperty.call(n,r))return n[r]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,r))return this.fontOptions[r];throw new Error("Did not find value for multi-font for property: '"+r+"'")}},{key:"getFontOptions",value:function(e,t){for(var r={},n=["color","size","face","mod","vadjust"],o=0;o<n.length;++o){var s=n[o];r[s]=this.getFontOption(e,t,s)}return r}},{key:"propagateFonts",value:function(e){var t=this,r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(var n=function(){var s=Xr[o],u=t.fontOptions[s];pe(t.getFontOptions(r,s),function(h,v){u[v]=h}),u.size=Number(u.size),u.vadjust=Number(u.vadjust)},o=0;o<Xr.length;++o)n()}},{key:"draw",value:function(e,t,r,n,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label!==void 0){var u=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&u<this.elementOptions.scaling.label.drawThreshold-1||(u>=this.elementOptions.scaling.label.maxVisible&&(u=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,n,o,t,r,s),this._drawBackground(e),this._drawText(e,t,this.size.yLine,s,u))}}},{key:"_drawBackground",value:function(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;var t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}},{key:"_drawText",value:function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",o=arguments.length>4?arguments[4]:void 0,s=Ve(this._setAlignment(e,t,r,n),2);t=s[0],r=s[1],e.textAlign="left",t-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(r-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(r+=(this.size.height-this.size.labelHeight)/2));for(var u=0;u<this.lineCount;u++){var h=this.lines[u];if(h&&h.blocks){var v=0;this.isEdgeLabel||this.fontOptions.align==="center"?v+=(this.size.width-h.width)/2:this.fontOptions.align==="right"&&(v+=this.size.width-h.width);for(var g=0;g<h.blocks.length;g++){var y=h.blocks[g];e.font=y.font;var w=Ve(this._getColor(y.color,o,y.strokeColor),2),k=w[0],O=w[1];y.strokeWidth>0&&(e.lineWidth=y.strokeWidth,e.strokeStyle=O,e.lineJoin="round"),e.fillStyle=k,y.strokeWidth>0&&e.strokeText(y.text,t+v,r+y.vadjust),e.fillText(y.text,t+v,r+y.vadjust),v+=y.width}r+=h.height}}}},{key:"_setAlignment",value:function(e,t,r,n){return this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1?(t=0,r=0,this.fontOptions.align==="top"?(e.textBaseline="alphabetic",r-=4):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",r+=4):e.textBaseline="middle"):e.textBaseline=n,[t,r]}},{key:"_getColor",value:function(e,t,r){var n=e||"#000000",o=r||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){var s=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));n=er(n,s),o=er(o,s)}return[n,o]}},{key:"getTextSize",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return this._processLabel(e,t,r),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var e=this.size.left,t=this.size.top-1;if(this.isEdgeLabel){var r=.5*-this.size.width;switch(this.fontOptions.align){case"middle":e=r,t=.5*-this.size.height;break;case"top":e=r,t=-(this.size.height+2);break;case"bottom":e=r,t=2}}return{left:e,top:t,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,t,r),this.size.left=n-.5*this.size.width,this.size.top=o-.5*this.size.height,this.size.yLine=o+.5*(1-this.lineCount)*this.fontOptions.size,s==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(e,t,r,n){var o=function(h,v,g){return v==="normal"?g==="mod"?"":h[g]:h[v][g]!==void 0?h[v][g]:h[g]},s={color:o(this.fontOptions,n,"color"),size:o(this.fontOptions,n,"size"),face:o(this.fontOptions,n,"face"),mod:o(this.fontOptions,n,"mod"),vadjust:o(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||r)&&(n==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?s.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(s,this.elementOptions.id,t,r));var u="";return s.mod!==void 0&&s.mod!==""&&(u+=s.mod+" "),u+=s.size+"px "+s.face,e.font=u.replace(/"/g,""),s.font=e.font,s.height=s.size,s}},{key:"differentState",value:function(e,t){return e!==this.selectedState||t!==this.hoverState}},{key:"_processLabelText",value:function(e,t,r,n){return new is(e,this,t,r).process(n)}},{key:"_processLabel",value:function(e,t,r){if(this.labelDirty!==!1||this.differentState(t,r)){var n=this._processLabelText(e,t,r,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=t,this.hoverState=r,this.labelDirty=!1}}},{key:"visible",value:function(){return this.size.width!==0&&this.size.height!==0&&this.elementOptions.label!==void 0&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(e,t){if(!t||typeof t!="string")return!1;var r=t.split(" ");return e.size=+r[0].replace("px",""),e.face=r[1],e.color=r[2],!0}}]),i}(),Co=ul,_n=Rn,Bx=TypeError,Fx=Y,yu=Cn,sb=Dv,cf=function(i){if(Co(i))return i;throw new Bx(_n(i)+" is not a constructor")},ns=Vt,mu=ot,jx=Yn,lb=J,os=be("Reflect","construct"),zx=Object.prototype,Lx=[].push,ub=lb(function(){function i(){}return!(os(function(){},[],i)instanceof i)}),hb=!lb(function(){os(function(){})}),bu=ub||hb;Fx({target:"Reflect",stat:!0,forced:bu,sham:bu},{construct:function(i,e){cf(i),ns(e);var t=arguments.length<3?i:cf(arguments[2]);if(hb&&!ub)return os(i,e,t);if(i===t){switch(e.length){case 0:return new i;case 1:return new i(e[0]);case 2:return new i(e[0],e[1]);case 3:return new i(e[0],e[1],e[2]);case 4:return new i(e[0],e[1],e[2],e[3])}var r=[null];return yu(Lx,r,e),new(yu(sb,i,r))}var n=t.prototype,o=jx(mu(n)?n:zx),s=yu(i,o,e);return mu(s)?s:o}});var M=A(ue.Reflect.construct),cb=A(ky);Y({target:"Object",stat:!0},{setPrototypeOf:ap});var wu=A(ue.Object.setPrototypeOf),df=A(Vs);function ff(i,e){var t;return ff=wu?df(t=wu).call(t):function(r,n){return r.__proto__=n,r},ff(i,e)}function Ee(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=cb(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),ao(i,"prototype",{writable:!1}),e&&ff(i,e)}function Oe(i,e){if(e&&(xe(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i)}var En=A(hy);function K(i){var e;return K=wu?df(e=En).call(e):function(t){return t.__proto__||En(t)},K(i)}var vt=function(){function i(e,t,r){L(this,i),this.body=t,this.labelModule=r,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return H(i,[{key:"setOptions",value:function(e){this.options=e}},{key:"_setMargins",value:function(e){this.margin={},this.options.margin&&(xe(this.options.margin)=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(e,t){var r=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+r}},{key:"enableShadow",value:function(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(e,t){if(t.borderDashes!==!1)if(e.setLineDash!==void 0){var r=t.borderDashes;r===!0&&(r=[5,15]),e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}},{key:"disableBorderDashes",value:function(e,t){t.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}},{key:"needsRefresh",value:function(e,t){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,t)}},{key:"initContextForDraw",value:function(e,t){var r=t.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,r),e.strokeStyle=t.borderColor,e.fillStyle=t.color}},{key:"performStroke",value:function(e,t){var r=t.borderWidth/this.body.view.scale;e.save(),r>0&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}},{key:"performFill",value:function(e,t){e.save(),e.fillStyle=t.color,this.enableShadow(e,t),Ra(e).call(e),this.disableShadow(e,t),e.restore(),this.performStroke(e,t)}},{key:"_addBoundingBoxMargin",value:function(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}},{key:"_updateBoundingBox",value:function(e,t,r,n,o){r!==void 0&&this.resize(r,n,o),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(e,t,r,n,o){this._updateBoundingBox(e,t,r,n,o)}},{key:"getDimensionsFromLabel",value:function(e,t,r){this.textSize=this.labelModule.getTextSize(e,t,r);var n=this.textSize.width,o=this.textSize.height;return n===0&&(n=14,o=14),{width:n,height:o}}}]),i}();function Do(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var Ti=function(i){Ee(t,i);var e=Do(t);function t(r,n,o){var s;return L(this,t),(s=e.call(this,r,n,o))._setMargins(o),s}return H(t,[{key:"resize",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(n,o)){var s=this.getDimensionsFromLabel(r,n,o);this.width=s.width+this.margin.right+this.margin.left,this.height=s.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(r,n,o,s,u,h){this.resize(r,s,u),this.left=n-this.width/2,this.top=o-this.height/2,this.initContextForDraw(r,h),ia(r,this.left,this.top,this.width,this.height,h.borderRadius),this.performFill(r,h),this.updateBoundingBox(n,o,r,s,u),this.labelModule.draw(r,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,s,u)}},{key:"updateBoundingBox",value:function(r,n,o,s,u){this._updateBoundingBox(r,n,o,s,u);var h=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(h)}},{key:"distanceToBorder",value:function(r,n){r&&this.resize(r);var o=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(n)),Math.abs(this.height/2/Math.sin(n)))+o}}]),t}(vt);function Qr(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var kn=function(i){Ee(t,i);var e=Qr(t);function t(r,n,o){var s;return L(this,t),(s=e.call(this,r,n,o)).labelOffset=0,s.selected=!1,s}return H(t,[{key:"setOptions",value:function(r,n,o){this.options=r,n===void 0&&o===void 0||this.setImages(n,o)}},{key:"setImages",value:function(r,n){n&&this.selected?(this.imageObj=n,this.imageObjAlt=r):(this.imageObj=r,this.imageObjAlt=n)}},{key:"switchImages",value:function(r){var n=r&&!this.selected||!r&&this.selected;if(this.selected=r,this.imageObjAlt!==void 0&&n){var o=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=o}}},{key:"_getImagePadding",value:function(){var r={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var n=this.options.imagePadding;xe(n)=="object"?(r.top=n.top,r.right=n.right,r.bottom=n.bottom,r.left=n.left):(r.top=n,r.right=n,r.bottom=n,r.left=n)}return r}},{key:"_resizeImage",value:function(){var r,n;if(this.options.shapeProperties.useImageSize===!1){var o=1,s=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?o=this.imageObj.width/this.imageObj.height:s=this.imageObj.height/this.imageObj.width),r=2*this.options.size*o,n=2*this.options.size*s}else{var u=this._getImagePadding();r=this.imageObj.width+u.left+u.right,n=this.imageObj.height+u.top+u.bottom}this.width=r,this.height=n,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(r,n,o,s){this.initContextForDraw(r,s),Th(r,n,o,s.size),this.performFill(r,s)}},{key:"_drawImageAtPosition",value:function(r,n){if(this.imageObj.width!=0){r.globalAlpha=n.opacity!==void 0?n.opacity:1,this.enableShadow(r,n);var o=1;this.options.shapeProperties.interpolation===!0&&(o=this.imageObj.width/this.width/this.body.view.scale);var s=this._getImagePadding(),u=this.left+s.left,h=this.top+s.top,v=this.width-s.left-s.right,g=this.height-s.top-s.bottom;this.imageObj.drawImageAtPosition(r,o,u,h,v,g),this.disableShadow(r,n)}}},{key:"_drawImageLabel",value:function(r,n,o,s,u){var h=0;if(this.height!==void 0){h=.5*this.height;var v=this.labelModule.getTextSize(r,s,u);v.lineCount>=1&&(h+=v.height/2)}var g=o+h;this.options.label&&(this.labelOffset=h),this.labelModule.draw(r,n,g,s,u,"hanging")}}]),t}(vt);function Nr(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var Hx=function(i){Ee(t,i);var e=Nr(t);function t(r,n,o){var s;return L(this,t),(s=e.call(this,r,n,o))._setMargins(o),s}return H(t,[{key:"resize",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(n,o)){var s=this.getDimensionsFromLabel(r,n,o),u=Math.max(s.width+this.margin.right+this.margin.left,s.height+this.margin.top+this.margin.bottom);this.options.size=u/2,this.width=u,this.height=u,this.radius=this.width/2}}},{key:"draw",value:function(r,n,o,s,u,h){this.resize(r,s,u),this.left=n-this.width/2,this.top=o-this.height/2,this._drawRawCircle(r,n,o,h),this.updateBoundingBox(n,o),this.labelModule.draw(r,this.left+this.textSize.width/2+this.margin.left,o,s,u)}},{key:"updateBoundingBox",value:function(r,n){this.boundingBox.top=n-this.options.size,this.boundingBox.left=r-this.options.size,this.boundingBox.right=r+this.options.size,this.boundingBox.bottom=n+this.options.size}},{key:"distanceToBorder",value:function(r){return r&&this.resize(r),.5*this.width}}]),t}(kn);function Wx(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var _u=function(i){Ee(t,i);var e=Wx(t);function t(r,n,o,s,u){var h;return L(this,t),(h=e.call(this,r,n,o)).setImages(s,u),h}return H(t,[{key:"resize",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){var s=2*this.options.size;return this.width=s,this.height=s,void(this.radius=.5*this.width)}this.needsRefresh(n,o)&&this._resizeImage()}},{key:"draw",value:function(r,n,o,s,u,h){this.switchImages(s),this.resize();var v=n,g=o;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=n,this.top=o,v+=this.width/2,g+=this.height/2):(this.left=n-this.width/2,this.top=o-this.height/2),this._drawRawCircle(r,v,g,h),r.save(),r.clip(),this._drawImageAtPosition(r,h),r.restore(),this._drawImageLabel(r,v,g,s,u),this.updateBoundingBox(n,o)}},{key:"updateBoundingBox",value:function(r,n){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=n,this.boundingBox.left=r,this.boundingBox.right=r+2*this.options.size,this.boundingBox.bottom=n+2*this.options.size):(this.boundingBox.top=n-this.options.size,this.boundingBox.left=r-this.options.size,this.boundingBox.right=r+this.options.size,this.boundingBox.bottom=n+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(r){return r&&this.resize(r),.5*this.width}}]),t}(kn);function db(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var ir=function(i){Ee(t,i);var e=db(t);function t(r,n,o){return L(this,t),e.call(this,r,n,o)}return H(t,[{key:"resize",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(n,o)){var u,h;this.labelModule.getTextSize(r,n,o);var v=2*s.size;this.width=(u=this.customSizeWidth)!==null&&u!==void 0?u:v,this.height=(h=this.customSizeHeight)!==null&&h!==void 0?h:v,this.radius=.5*this.width}}},{key:"_drawShape",value:function(r,n,o,s,u,h,v,g){var y,w=this;return this.resize(r,h,v,g),this.left=s-this.width/2,this.top=u-this.height/2,this.initContextForDraw(r,g),(y=n,Object.prototype.hasOwnProperty.call(Rv,y)?Rv[y]:function(k){for(var O=arguments.length,x=new Array(O>1?O-1:0),$=1;$<O;$++)x[$-1]=arguments[$];CanvasRenderingContext2D.prototype[y].call(k,x)})(r,s,u,g.size),this.performFill(r,g),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(r.font=(h?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),r.fillStyle=this.options.icon.color||"black",r.textAlign="center",r.textBaseline="middle",r.fillText(this.options.icon.code,s,u)),{drawExternalLabel:function(){if(w.options.label!==void 0){w.labelModule.calculateLabelSize(r,h,v,s,u,"hanging");var k=u+.5*w.height+.5*w.labelModule.size.height;w.labelModule.draw(r,s,k,h,v,"hanging")}w.updateBoundingBox(s,u)}}}},{key:"updateBoundingBox",value:function(r,n){this.boundingBox.top=n-this.options.size,this.boundingBox.left=r-this.options.size,this.boundingBox.right=r+this.options.size,this.boundingBox.bottom=n+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),t}(vt);function Eu(i,e){var t=qe(i);if(Oi){var r=Oi(i);e&&(r=jt(r).call(r,function(n){return Kr(i,n).enumerable})),t.push.apply(t,r)}return t}function Mo(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?Pe(t=Eu(Object(n),!0)).call(t,function(o){hu(i,o,n[o])}):gr?To(i,gr(n)):Pe(r=Eu(Object(n))).call(r,function(o){uu(i,o,Kr(n,o))})}return i}function fb(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var vf=function(i){Ee(t,i);var e=fb(t);function t(r,n,o,s){var u;return L(this,t),(u=e.call(this,r,n,o,s)).ctxRenderer=s,u}return H(t,[{key:"draw",value:function(r,n,o,s,u,h){this.resize(r,s,u,h),this.left=n-this.width/2,this.top=o-this.height/2,r.save();var v=this.ctxRenderer({ctx:r,id:this.options.id,x:n,y:o,state:{selected:s,hover:u},style:Mo({},h),label:this.options.label});if(v.drawNode!=null&&v.drawNode(),r.restore(),v.drawExternalLabel){var g=v.drawExternalLabel;v.drawExternalLabel=function(){r.save(),g(),r.restore()}}return v.nodeDimensions&&(this.customSizeWidth=v.nodeDimensions.width,this.customSizeHeight=v.nodeDimensions.height),v}},{key:"distanceToBorder",value:function(r,n){return this._distanceToBorder(r,n)}}]),t}(ir);function vb(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var pb=function(i){Ee(t,i);var e=vb(t);function t(r,n,o){var s;return L(this,t),(s=e.call(this,r,n,o))._setMargins(o),s}return H(t,[{key:"resize",value:function(r,n,o){if(this.needsRefresh(n,o)){var s=this.getDimensionsFromLabel(r,n,o).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}},{key:"draw",value:function(r,n,o,s,u,h){this.resize(r,s,u),this.left=n-this.width/2,this.top=o-this.height/2,this.initContextForDraw(r,h),Av(r,n-this.width/2,o-this.height/2,this.width,this.height),this.performFill(r,h),this.updateBoundingBox(n,o,r,s,u),this.labelModule.draw(r,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,s,u)}},{key:"distanceToBorder",value:function(r,n){return this._distanceToBorder(r,n)}}]),t}(vt);function gb(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var yb=function(i){Ee(t,i);var e=gb(t);function t(r,n,o){return L(this,t),e.call(this,r,n,o)}return H(t,[{key:"draw",value:function(r,n,o,s,u,h){return this._drawShape(r,"diamond",4,n,o,s,u,h)}},{key:"distanceToBorder",value:function(r,n){return this._distanceToBorder(r,n)}}]),t}(ir);function mb(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var bb=function(i){Ee(t,i);var e=mb(t);function t(r,n,o){return L(this,t),e.call(this,r,n,o)}return H(t,[{key:"draw",value:function(r,n,o,s,u,h){return this._drawShape(r,"circle",2,n,o,s,u,h)}},{key:"distanceToBorder",value:function(r){return r&&this.resize(r),this.options.size}}]),t}(ir);function Ux(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var wb=function(i){Ee(t,i);var e=Ux(t);function t(r,n,o){return L(this,t),e.call(this,r,n,o)}return H(t,[{key:"resize",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(n,o)){var s=this.getDimensionsFromLabel(r,n,o);this.height=2*s.height,this.width=s.width+s.height,this.radius=.5*this.width}}},{key:"draw",value:function(r,n,o,s,u,h){this.resize(r,s,u),this.left=n-.5*this.width,this.top=o-.5*this.height,this.initContextForDraw(r,h),Ih(r,this.left,this.top,this.width,this.height),this.performFill(r,h),this.updateBoundingBox(n,o,r,s,u),this.labelModule.draw(r,n,o,s,u)}},{key:"distanceToBorder",value:function(r,n){r&&this.resize(r);var o=.5*this.width,s=.5*this.height,u=Math.sin(n)*o,h=Math.cos(n)*s;return o*s/Math.sqrt(u*u+h*h)}}]),t}(vt);function _b(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var Vx=function(i){Ee(t,i);var e=_b(t);function t(r,n,o){var s;return L(this,t),(s=e.call(this,r,n,o))._setMargins(o),s}return H(t,[{key:"resize",value:function(r,n,o){this.needsRefresh(n,o)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(r,n,o,s,u,h){var v=this;return this.resize(r,s,u),this.options.icon.size=this.options.icon.size||50,this.left=n-this.width/2,this.top=o-this.height/2,this._icon(r,n,o,s,u,h),{drawExternalLabel:function(){v.options.label!==void 0&&v.labelModule.draw(r,v.left+v.iconSize.width/2+v.margin.left,o+v.height/2+5,s),v.updateBoundingBox(n,o)}}}},{key:"updateBoundingBox",value:function(r,n){this.boundingBox.top=n-.5*this.options.icon.size,this.boundingBox.left=r-.5*this.options.icon.size,this.boundingBox.right=r+.5*this.options.icon.size,this.boundingBox.bottom=n+.5*this.options.icon.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(r,n,o,s,u,h){var v=Number(this.options.icon.size);this.options.icon.code!==void 0?(r.font=[this.options.icon.weight!=null?this.options.icon.weight:s?"bold":"",(this.options.icon.weight!=null&&s?5:0)+v+"px",this.options.icon.face].join(" "),r.fillStyle=this.options.icon.color||"black",r.textAlign="center",r.textBaseline="middle",this.enableShadow(r,h),r.fillText(this.options.icon.code,n,o),this.disableShadow(r,h)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(r,n){return this._distanceToBorder(r,n)}}]),t}(vt);function Eb(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var qx=function(i){Ee(t,i);var e=Eb(t);function t(r,n,o,s,u){var h;return L(this,t),(h=e.call(this,r,n,o)).setImages(s,u),h}return H(t,[{key:"resize",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){var s=2*this.options.size;return this.width=s,void(this.height=s)}this.needsRefresh(n,o)&&this._resizeImage()}},{key:"draw",value:function(r,n,o,s,u,h){r.save(),this.switchImages(s),this.resize();var v=n,g=o;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=n,this.top=o,v+=this.width/2,g+=this.height/2):(this.left=n-this.width/2,this.top=o-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){var y=this.options.borderWidth,w=this.options.borderWidthSelected||2*this.options.borderWidth,k=(s?w:y)/this.body.view.scale;r.lineWidth=Math.min(this.width,k),r.beginPath();var O=s?this.options.color.highlight.border:u?this.options.color.hover.border:this.options.color.border,x=s?this.options.color.highlight.background:u?this.options.color.hover.background:this.options.color.background;h.opacity!==void 0&&(O=er(O,h.opacity),x=er(x,h.opacity)),r.strokeStyle=O,r.fillStyle=x,r.rect(this.left-.5*r.lineWidth,this.top-.5*r.lineWidth,this.width+r.lineWidth,this.height+r.lineWidth),Ra(r).call(r),this.performStroke(r,h),r.closePath()}this._drawImageAtPosition(r,h),this._drawImageLabel(r,v,g,s,u),this.updateBoundingBox(n,o),r.restore()}},{key:"updateBoundingBox",value:function(r,n){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n):(this.left=r-this.width/2,this.top=n-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(r,n){return this._distanceToBorder(r,n)}}]),t}(kn);function Gx(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var Kx=function(i){Ee(t,i);var e=Gx(t);function t(r,n,o){return L(this,t),e.call(this,r,n,o)}return H(t,[{key:"draw",value:function(r,n,o,s,u,h){return this._drawShape(r,"square",2,n,o,s,u,h)}},{key:"distanceToBorder",value:function(r,n){return this._distanceToBorder(r,n)}}]),t}(ir);function Yx(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var Xx=function(i){Ee(t,i);var e=Yx(t);function t(r,n,o){return L(this,t),e.call(this,r,n,o)}return H(t,[{key:"draw",value:function(r,n,o,s,u,h){return this._drawShape(r,"hexagon",4,n,o,s,u,h)}},{key:"distanceToBorder",value:function(r,n){return this._distanceToBorder(r,n)}}]),t}(ir);function kb(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var Ob=function(i){Ee(t,i);var e=kb(t);function t(r,n,o){return L(this,t),e.call(this,r,n,o)}return H(t,[{key:"draw",value:function(r,n,o,s,u,h){return this._drawShape(r,"star",4,n,o,s,u,h)}},{key:"distanceToBorder",value:function(r,n){return this._distanceToBorder(r,n)}}]),t}(ir);function Qx(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var Jx=function(i){Ee(t,i);var e=Qx(t);function t(r,n,o){var s;return L(this,t),(s=e.call(this,r,n,o))._setMargins(o),s}return H(t,[{key:"resize",value:function(r,n,o){this.needsRefresh(n,o)&&(this.textSize=this.labelModule.getTextSize(r,n,o),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(r,n,o,s,u,h){this.resize(r,s,u),this.left=n-this.width/2,this.top=o-this.height/2,this.enableShadow(r,h),this.labelModule.draw(r,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,s,u),this.disableShadow(r,h),this.updateBoundingBox(n,o,r,s,u)}},{key:"distanceToBorder",value:function(r,n){return this._distanceToBorder(r,n)}}]),t}(vt);function Sb(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var Zx=function(i){Ee(t,i);var e=Sb(t);function t(r,n,o){return L(this,t),e.call(this,r,n,o)}return H(t,[{key:"draw",value:function(r,n,o,s,u,h){return this._drawShape(r,"triangle",3,n,o,s,u,h)}},{key:"distanceToBorder",value:function(r,n){return this._distanceToBorder(r,n)}}]),t}(ir);function eT(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var xb=function(i){Ee(t,i);var e=eT(t);function t(r,n,o){return L(this,t),e.call(this,r,n,o)}return H(t,[{key:"draw",value:function(r,n,o,s,u,h){return this._drawShape(r,"triangleDown",3,n,o,s,u,h)}},{key:"distanceToBorder",value:function(r,n){return this._distanceToBorder(r,n)}}]),t}(ir);function Tb(i,e){var t=qe(i);if(Oi){var r=Oi(i);e&&(r=jt(r).call(r,function(n){return Kr(i,n).enumerable})),t.push.apply(t,r)}return t}function pf(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?Pe(t=Tb(Object(n),!0)).call(t,function(o){hu(i,o,n[o])}):gr?To(i,gr(n)):Pe(r=Tb(Object(n))).call(r,function(o){uu(i,o,Kr(n,o))})}return i}var $t=function(){function i(e,t,r,n,o,s){L(this,i),this.options=wi(o),this.globalOptions=o,this.defaultOptions=s,this.body=t,this.edges=[],this.id=void 0,this.imagelist=r,this.grouplist=n,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new hf(this.body,this.options,!1),this.setOptions(e)}return H(i,[{key:"attachEdge",value:function(e){var t;_e(t=this.edges).call(t,e)===-1&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var t,r,n=_e(t=this.edges).call(t,e);n!=-1&&Vr(r=this.edges).call(r,n,1)}},{key:"setOptions",value:function(e){var t=this.options.shape;if(e){if(e.color!==void 0&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");i.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=dr(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=dr(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=xi(e.value)),i.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var r=[e,this.options,this.defaultOptions];return this.chooser=sf("node",r),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&i.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(t),e.hidden!==void 0||e.physics!==void 0}}},{key:"_load_images",value:function(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor===this.options.shadow.color&&e.shadowSize===this.options.shadow.size&&e.shadowX===this.options.shadow.x&&e.shadowY===this.options.shadow.y||(e.shadow=!0))):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){var t=this.options.opacity;e.borderColor=er(e.borderColor,t),e.color=er(e.color,t),e.shadowColor=er(e.shadowColor,t)}return e}},{key:"updateLabelModule",value:function(e){this.options.label!==void 0&&this.options.label!==null||(this.options.label=""),i.updateGroupOptions(this.options,pf(pf({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);var t=this.grouplist.get(this.options.group,!1),r=[e,this.options,t,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new Ti(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Hx(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new _u(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new vf(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new pb(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new yb(this.options,this.body,this.labelModule);break;case"dot":this.shape=new bb(this.options,this.body,this.labelModule);break;case"ellipse":default:this.shape=new wb(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Vx(this.options,this.body,this.labelModule);break;case"image":this.shape=new qx(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Kx(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new Xx(this.options,this.body,this.labelModule);break;case"star":this.shape=new Ob(this.options,this.body,this.labelModule);break;case"text":this.shape=new Jx(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Zx(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new xb(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,t){return this.shape.distanceToBorder(e,t)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(e,t,r){if(this.options.value!==void 0){var n=this.options.scaling.customScalingFunction(e,t,r,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*s}this.options.size=this.options.scaling.min+n*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(e){var t=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)||{}}},{key:"updateBoundingBox",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function(e){var t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}},{key:"getItemsOnPoint",value:function(e){var t=[];return this.labelModule.visible()&&vu(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),vu(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"checkOpacity",value:function(e){return 0<=e&&e<=1}},{key:"checkCoordinateOrigin",value:function(e){return e===void 0||e==="center"||e==="top-left"}},{key:"updateGroupOptions",value:function(e,t,r){var n;if(r!==void 0){var o=e.group;if(t!==void 0&&t.group!==void 0&&o!==t.group)throw new Error("updateGroupOptions: group values in options don't match.");if(typeof o=="number"||typeof o=="string"&&o!=""){var s=r.get(o);s.opacity!==void 0&&t.opacity===void 0&&(i.checkOpacity(s.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+s.opacity),s.opacity=void 0));var u=jt(n=wn(t)).call(n,function(h){return t[h]!=null});u.push("font"),Ql(u,e,s),e.color=Zl(e.color)}}}},{key:"parseOptions",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;if(Ql(["color","fixed","shadow"],e,t,r),i.checkMass(t),e.opacity!==void 0&&(i.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),t.opacity!==void 0&&(i.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),t.shapeProperties&&!i.checkCoordinateOrigin(t.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+t.shapeProperties.coordinateOrigin),tr(e,t,"shadow",n),t.color!==void 0&&t.color!==null){var s=Zl(t.color);fm(e.color,s)}else r===!0&&t.color===null&&(e.color=wi(n.color));t.fixed!==void 0&&t.fixed!==null&&(typeof t.fixed=="boolean"?(e.fixed.x=t.fixed,e.fixed.y=t.fixed):(t.fixed.x!==void 0&&typeof t.fixed.x=="boolean"&&(e.fixed.x=t.fixed.x),t.fixed.y!==void 0&&typeof t.fixed.y=="boolean"&&(e.fixed.y=t.fixed.y))),r===!0&&t.font===null&&(e.font=wi(n.font)),i.updateGroupOptions(e,t,o),t.scaling!==void 0&&tr(e.scaling,t.scaling,"label",n.scaling)}},{key:"checkMass",value:function(e,t){if(e.mass!==void 0&&e.mass<=0){var r="";t!==void 0&&(r=" in node id: "+t),console.error("%cNegative or zero mass disallowed"+r+", setting mass to 1.",tu),e.mass=1}}}]),i}();function tT(i,e){var t=pi!==void 0&&hi(i)||i["@@iterator"];if(!t){if(ke(i)||(t=function(h,v){var g;if(h){if(typeof h=="string")return gf(h,v);var y=ct(g=Object.prototype.toString.call(h)).call(g,8,-1);if(y==="Object"&&h.constructor&&(y=h.constructor.name),y==="Map"||y==="Set")return si(h);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return gf(h,v)}}(i))||e&&i&&typeof i.length=="number"){t&&(i=t);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(h){throw h},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,u=!1;return{s:function(){t=t.call(i)},n:function(){var h=t.next();return s=h.done,h},e:function(h){u=!0,o=h},f:function(){try{s||t.return==null||t.return()}finally{if(u)throw o}}}}function gf(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}var ku=function(){function i(e,t,r,n){var o,s=this;if(L(this,i),this.body=e,this.images=t,this.groups=r,this.layoutEngine=n,this.body.functions.createNode=B(o=this.create).call(o,this),this.nodesListeners={add:function(u,h){s.add(h.items)},update:function(u,h){s.update(h.items,h.data,h.oldData)},remove:function(u,h){s.remove(h.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(u,h,v,g){if(h===u)return .5;var y=1/(h-u);return Math.max(0,(g-u)*y)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=wi(this.defaultOptions),this.bindEventListeners()}return H(i,[{key:"bindEventListeners",value:function(){var e,t,r=this;this.body.emitter.on("refreshNodes",B(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",B(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",function(){pe(r.nodesListeners,function(n,o){r.body.data.nodes&&r.body.data.nodes.off(o,n)}),delete r.body.functions.createNode,delete r.nodesListeners.add,delete r.nodesListeners.update,delete r.nodesListeners.remove,delete r.nodesListeners})}},{key:"setOptions",value:function(e){if(e!==void 0){if($t.parseOptions(this.options,e),e.opacity!==void 0&&(Zd(e.opacity)||!vn(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(var t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if(e.font!==void 0||e.widthConstraint!==void 0||e.heightConstraint!==void 0)for(var r=0,n=qe(this.body.nodes);r<n.length;r++){var o=n[r];this.body.nodes[o].updateLabelModule(),this.body.nodes[o].needsRefresh()}if(e.size!==void 0)for(var s in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,s)&&this.body.nodes[s].needsRefresh();e.hidden===void 0&&e.physics===void 0||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=this.body.data.nodes;if(ge.isDataViewLike("id",e))this.body.data.nodes=e;else if(ke(e))this.body.data.nodes=new ge.DataSet,this.body.data.nodes.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new ge.DataSet}if(r&&pe(this.nodesListeners,function(s,u){r.off(u,s)}),this.body.nodes={},this.body.data.nodes){var n=this;pe(this.nodesListeners,function(s,u){n.body.data.nodes.on(u,s)});var o=this.body.data.nodes.getIds();this.add(o,!0)}t===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=[],o=0;o<e.length;o++){t=e[o];var s=this.body.data.nodes.get(t),u=this.create(s);n.push(u),this.body.nodes[t]=u}this.layoutEngine.positionInitially(n),r===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e,t,r){for(var n=this.body.nodes,o=!1,s=0;s<e.length;s++){var u=e[s],h=n[u],v=t[s];h!==void 0?h.setOptions(v)&&(o=!0):(o=!0,h=this.create(v),n[u]=h)}o||r===void 0||(o=Ix(t).call(t,function(g,y){var w=r[y];return w&&w.level!==g.level})),o===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){for(var t=this.body.nodes,r=0;r<e.length;r++)delete t[e[r]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(e){return new(arguments.length>1&&arguments[1]!==void 0?arguments[1]:$t)(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];pe(this.body.nodes,function(r,n){var o=e.body.data.nodes.get(n);o!==void 0&&(t===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(o))})}},{key:"getPositions",value:function(e){var t={};if(e!==void 0){if(ke(e)===!0){for(var r=0;r<e.length;r++)if(this.body.nodes[e[r]]!==void 0){var n=this.body.nodes[e[r]];t[e[r]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(this.body.nodes[e]!==void 0){var o=this.body.nodes[e];t[e]={x:Math.round(o.x),y:Math.round(o.y)}}}else for(var s=0;s<this.body.nodeIndices.length;s++){var u=this.body.nodes[this.body.nodeIndices[s]];t[this.body.nodeIndices[s]]={x:Math.round(u.x),y:Math.round(u.y)}}return t}},{key:"getPosition",value:function(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}},{key:"storePositions",value:function(){var e,t=[],r=this.body.data.nodes.getDataSet(),n=tT(r.get());try{for(n.s();!(e=n.n()).done;){var o=e.value,s=o.id,u=this.body.nodes[s],h=Math.round(u.x),v=Math.round(u.y);o.x===h&&o.y===v||t.push({id:s,x:h,y:v})}}catch(g){n.e(g)}finally{n.f()}r.update(t)}},{key:"getBoundingBox",value:function(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function(e,t){var r=[];if(this.body.nodes[e]!==void 0)for(var n=this.body.nodes[e],o={},s=0;s<n.edges.length;s++){var u=n.edges[s];t!=="to"&&u.toId==n.id?o[u.fromId]===void 0&&(r.push(u.fromId),o[u.fromId]=!0):t!=="from"&&u.fromId==n.id&&o[u.toId]===void 0&&(r.push(u.toId),o[u.toId]=!0)}return r}},{key:"getConnectedEdges",value:function(e){var t=[];if(this.body.nodes[e]!==void 0)for(var r=this.body.nodes[e],n=0;n<r.edges.length;n++)t.push(r.edges[n].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}},{key:"moveNode",value:function(e,t,r){var n=this;this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(r),Ir(function(){n.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}]),i}(),yf=st,Ib=et,rT=ot,iT=Vt,Jr=function(i){return i!==void 0&&(yf(i,"value")||yf(i,"writable"))},nT=Ni,oT=el;Y({target:"Reflect",stat:!0},{get:function i(e,t){var r,n,o=arguments.length<3?e:arguments[2];return iT(e)===o?e[t]:(r=nT.f(e,t))?Jr(r)?r.value:r.get===void 0?void 0:Ib(r.get,o):rT(n=oT(e))?i(n,t,o):void 0}});var $b=A(ue.Reflect.get),aT=A(of);function as(){var i;return typeof Reflect!="undefined"&&$b?as=df(i=$b).call(i):as=function(e,t,r){var n=function(s,u){for(;!Object.prototype.hasOwnProperty.call(s,u)&&(s=K(s))!==null;);return s}(e,t);if(n){var o=aT(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},as.apply(this,arguments)}var sT=Y,Pb=Math.hypot,mf=Math.abs,lT=Math.sqrt;sT({target:"Math",stat:!0,arity:2,forced:!!Pb&&Pb(1/0,NaN)!==1/0},{hypot:function(i,e){for(var t,r,n=0,o=0,s=arguments.length,u=0;o<s;)u<(t=mf(arguments[o++]))?(n=n*(r=u/t)*r+1,u=t):n+=t>0?(r=t/u)*r:t;return u===1/0?1/0:u*lT(n)}});var Cb=A(ue.Math.hypot);function Db(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var Ge=function(){function i(){L(this,i)}return H(i,null,[{key:"transform",value:function(e,t){ke(e)||(e=[e]);for(var r=t.point.x,n=t.point.y,o=t.angle,s=t.length,u=0;u<e.length;++u){var h=e[u],v=h.x*Math.cos(o)-h.y*Math.sin(o),g=h.x*Math.sin(o)+h.y*Math.cos(o);h.x=r+s*v,h.y=n+s*g}}},{key:"drawPath",value:function(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var r=1;r<t.length;++r)e.lineTo(t[r].x,t[r].y);e.closePath()}}]),i}(),uT=function(i){Ee(t,i);var e=Db(t);function t(){return L(this,t),e.apply(this,arguments)}return H(t,null,[{key:"draw",value:function(r,n){if(n.image){r.save(),r.translate(n.point.x,n.point.y),r.rotate(Math.PI/2+n.angle);var o=n.imageWidth!=null?n.imageWidth:n.image.width,s=n.imageHeight!=null?n.imageHeight:n.image.height;n.image.drawImageAtPosition(r,1,-o/2,0,o,s),r.restore()}return!1}}]),t}(Ge),Mb=function(i){Ee(t,i);var e=Db(t);function t(){return L(this,t),e.apply(this,arguments)}return H(t,null,[{key:"draw",value:function(r,n){var o=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Ge.transform(o,n),Ge.drawPath(r,o),!0}}]),t}(Ge),bf=function(){function i(){L(this,i)}return H(i,null,[{key:"draw",value:function(e,t){var r=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Ge.transform(r,t),Ge.drawPath(e,r),!0}}]),i}(),hT=function(){function i(){L(this,i)}return H(i,null,[{key:"draw",value:function(e,t){var r={x:-.4,y:0};Ge.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var n=Math.PI,o=t.angle-n/2,s=t.angle+n/2;return e.beginPath(),e.arc(r.x,r.y,.4*t.length,o,s,!1),e.stroke(),!0}}]),i}(),cT=function(){function i(){L(this,i)}return H(i,null,[{key:"draw",value:function(e,t){var r={x:-.3,y:0};Ge.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var n=Math.PI,o=t.angle+n/2,s=t.angle+3*n/2;return e.beginPath(),e.arc(r.x,r.y,.4*t.length,o,s,!1),e.stroke(),!0}}]),i}(),Ab=function(){function i(){L(this,i)}return H(i,null,[{key:"draw",value:function(e,t){var r=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Ge.transform(r,t),Ge.drawPath(e,r),!0}}]),i}(),Nb=function(){function i(){L(this,i)}return H(i,null,[{key:"draw",value:function(e,t){var r=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Ge.transform(r,t),Ge.drawPath(e,r),!0}}]),i}(),Rb=function(){function i(){L(this,i)}return H(i,null,[{key:"draw",value:function(e,t){var r={x:-.4,y:0};return Ge.transform(r,t),Th(e,r.x,r.y,.4*t.length),!0}}]),i}(),dT=function(){function i(){L(this,i)}return H(i,null,[{key:"draw",value:function(e,t){var r=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Ge.transform(r,t),Ge.drawPath(e,r),!0}}]),i}(),fT=function(){function i(){L(this,i)}return H(i,null,[{key:"draw",value:function(e,t){var r=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Ge.transform(r,t),Ge.drawPath(e,r),!0}}]),i}(),vT=function(){function i(){L(this,i)}return H(i,null,[{key:"draw",value:function(e,t){var r=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Ge.transform(r,t),Ge.drawPath(e,r),!0}}]),i}(),pT=function(){function i(){L(this,i)}return H(i,null,[{key:"draw",value:function(e,t){var r=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Ge.transform(r,t),Ge.drawPath(e,r),!0}}]),i}(),Bb=function(){function i(){L(this,i)}return H(i,null,[{key:"draw",value:function(e,t){var r;switch(t.type&&(r=t.type.toLowerCase()),r){case"image":return uT.draw(e,t);case"circle":return Rb.draw(e,t);case"box":return fT.draw(e,t);case"crow":return bf.draw(e,t);case"curve":return hT.draw(e,t);case"diamond":return vT.draw(e,t);case"inv_curve":return cT.draw(e,t);case"triangle":return Ab.draw(e,t);case"inv_triangle":return Nb.draw(e,t);case"bar":return dT.draw(e,t);case"vee":return pT.draw(e,t);default:return Mb.draw(e,t)}}}]),i}();function Zr(i,e){var t=qe(i);if(Oi){var r=Oi(i);e&&(r=jt(r).call(r,function(n){return Kr(i,n).enumerable})),t.push.apply(t,r)}return t}function Fb(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?Pe(t=Zr(Object(n),!0)).call(t,function(o){hu(i,o,n[o])}):gr?To(i,gr(n)):Pe(r=Zr(Object(n))).call(r,function(o){uu(i,o,Kr(n,o))})}return i}var jb=function(){function i(e,t,r){L(this,i),this._body=t,this._labelModule=r,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}return H(i,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(e,t,r,n){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,t),e.lineWidth=t.width,t.dashes!==!1?this._drawDashedLine(e,t,o):this._drawLine(e,t,o)}},{key:"_drawLine",value:function(e,t,r,n,o){if(this.from!=this.to)this._line(e,t,r,n,o);else{var s=Ve(this._getCircleData(e),3),u=s[0],h=s[1],v=s[2];this._circle(e,t,u,h,v)}}},{key:"_drawDashedLine",value:function(e,t,r,n,o){e.lineCap="round";var s=ke(t.dashes)?t.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(s),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,r);else{var u=Ve(this._getCircleData(e),3),h=u[0],v=u[1],g=u[2];this._circle(e,t,h,v,g)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)Nv(e,this.from.x,this.from.y,this.to.x,this.to.y,s);else{var y=Ve(this._getCircleData(e),3),w=y[0],k=y[1],O=y[2];this._circle(e,t,w,k,O)}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}},{key:"findBorderPosition",value:function(e,t,r){return this.from!=this.to?this._findBorderPosition(e,t,r):this._findBorderPositionCircle(e,t,r)}},{key:"findBorderPositions",value:function(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};var t,r=Ve(ct(t=this._getCircleData(e)).call(t,0,2),2),n=r[0],o=r[1];return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:o,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:o,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(e){var t=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);var r=lf(e,this.options.selfReference.angle,t,this.from);return[r.x,r.y,t]}},{key:"_pointOnCircle",value:function(e,t,r,n){var o=2*n*Math.PI;return{x:e+r*Math.cos(o),y:t-r*Math.sin(o)}}},{key:"_findBorderPositionCircle",value:function(e,t,r){var n,o=r.x,s=r.y,u=r.low,h=r.high,v=r.direction,g=this.options.selfReference.size,y=.5*(u+h),w=0;this.options.arrowStrikethrough===!0&&(v===-1?w=this.options.endPointOffset.from:v===1&&(w=this.options.endPointOffset.to));var k=0;do{y=.5*(u+h),n=this._pointOnCircle(o,s,g,y);var O=Math.atan2(e.y-n.y,e.x-n.x),x=e.distanceToBorder(t,O)+w-Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));if(Math.abs(x)<.05)break;x>0?v>0?u=y:h=y:v>0?h=y:u=y,++k}while(u<=h&&k<10);return Fb(Fb({},n),{},{t:y})}},{key:"getLineWidth",value:function(e,t){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):t===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(e,t){if(t.inheritsColor!==!1){if(t.inheritsColor==="both"&&this.from.id!==this.to.id){var r=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),n=this.from.options.color.highlight.border,o=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(n=er(this.from.options.color.border,t.opacity),o=er(this.to.options.color.border,t.opacity)):this.from.selected===!0&&this.to.selected===!1?o=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(n=this.from.options.color.border),r.addColorStop(0,n),r.addColorStop(1,o),r}return t.inheritsColor==="to"?er(this.to.options.color.border,t.opacity):er(this.from.options.color.border,t.opacity)}return er(t.color,t.opacity)}},{key:"_circle",value:function(e,t,r,n,o){this.enableShadow(e,t);var s=0,u=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){var h=this.options.selfReference.angle,v=this.options.selfReference.angle+Math.PI,g=this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:h,high:v,direction:-1}),y=this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:h,high:v,direction:1});s=Math.atan2(g.y-n,g.x-r),u=Math.atan2(y.y-n,y.x-r)}e.beginPath(),e.arc(r,n,o,s,u,!1),e.stroke(),this.disableShadow(e,t)}},{key:"getDistanceToEdge",value:function(e,t,r,n,o,s){if(this.from!=this.to)return this._getDistanceToEdge(e,t,r,n,o,s);var u=Ve(this._getCircleData(void 0),3),h=u[0],v=u[1],g=u[2],y=h-o,w=v-s;return Math.abs(Math.sqrt(y*y+w*w)-g)}},{key:"_getDistanceToLine",value:function(e,t,r,n,o,s){var u=r-e,h=n-t,v=((o-e)*u+(s-t)*h)/(u*u+h*h);v>1?v=1:v<0&&(v=0);var g=e+v*u-o,y=t+v*h-s;return Math.sqrt(g*g+y*y)}},{key:"getArrowData",value:function(e,t,r,n,o,s){var u,h,v,g,y,w,k,O=s.width;t==="from"?(v=this.from,g=this.to,y=s.fromArrowScale<0,w=Math.abs(s.fromArrowScale),k=s.fromArrowType):t==="to"?(v=this.to,g=this.from,y=s.toArrowScale<0,w=Math.abs(s.toArrowScale),k=s.toArrowType):(v=this.to,g=this.from,y=s.middleArrowScale<0,w=Math.abs(s.middleArrowScale),k=s.middleArrowType);var x=15*w+3*O;if(v!=g){var $=x/Cb(v.x-g.x,v.y-g.y);if(t!=="middle")if(this.options.smooth.enabled===!0){var D=this._findBorderPosition(v,e,{via:r}),N=this.getPoint(D.t+$*(t==="from"?1:-1),r);u=Math.atan2(D.y-N.y,D.x-N.x),h=D}else u=Math.atan2(v.y-g.y,v.x-g.x),h=this._findBorderPosition(v,e);else{var z=(y?-$:$)/2,U=this.getPoint(.5+z,r),Z=this.getPoint(.5-z,r);u=Math.atan2(U.y-Z.y,U.x-Z.x),h=this.getPoint(.5,r)}}else{var ae=Ve(this._getCircleData(e),3),le=ae[0],ie=ae[1],Q=ae[2];if(t==="from"){var Se=this.options.selfReference.angle,me=this.options.selfReference.angle+Math.PI,Te=this._findBorderPositionCircle(this.from,e,{x:le,y:ie,low:Se,high:me,direction:-1});u=-2*Te.t*Math.PI+1.5*Math.PI+.1*Math.PI,h=Te}else if(t==="to"){var Fe=this.options.selfReference.angle,Be=this.options.selfReference.angle+Math.PI,or=this._findBorderPositionCircle(this.from,e,{x:le,y:ie,low:Fe,high:Be,direction:1});u=-2*or.t*Math.PI+1.5*Math.PI-1.1*Math.PI,h=or}else{var rt=this.options.selfReference.angle/(2*Math.PI);h=this._pointOnCircle(le,ie,Q,rt),u=-2*rt*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:h,core:{x:h.x-.9*x*Math.cos(u),y:h.y-.9*x*Math.sin(u)},angle:u,length:x,type:k}}},{key:"drawArrowHead",value:function(e,t,r,n,o){e.strokeStyle=this.getColor(e,t),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,Bb.draw(e,o)&&(this.enableShadow(e,t),Ra(e).call(e),this.disableShadow(e,t))}},{key:"enableShadow",value:function(e,t){t.shadow===!0&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){t.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"drawBackground",value:function(e,t){if(t.background!==!1){var r={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=t.backgroundColor,e.lineWidth=t.backgroundSize,this.setStrokeDashed(e,t.backgroundDashes),e.stroke(),e.strokeStyle=r.strokeStyle,e.lineWidth=r.lineWidth,e.dashes=r.dashes,this.setStrokeDashed(e,t.dashes)}}},{key:"setStrokeDashed",value:function(e,t){if(t!==!1)if(e.setLineDash!==void 0){var r=ke(t)?t:[5,5];e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),i}();function zb(i,e){var t=qe(i);if(Oi){var r=Oi(i);e&&(r=jt(r).call(r,function(n){return Kr(i,n).enumerable})),t.push.apply(t,r)}return t}function Lb(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?Pe(t=zb(Object(n),!0)).call(t,function(o){hu(i,o,n[o])}):gr?To(i,gr(n)):Pe(r=zb(Object(n))).call(r,function(o){uu(i,o,Kr(n,o))})}return i}function gT(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var Ou=function(i){Ee(t,i);var e=gT(t);function t(r,n,o){return L(this,t),e.call(this,r,n,o)}return H(t,[{key:"_findBorderPositionBezier",value:function(r,n){var o,s,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates(),h=!1,v=1,g=0,y=this.to,w=this.options.endPointOffset?this.options.endPointOffset.to:0;r.id===this.from.id&&(y=this.from,h=!0,w=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(w=0);var k=0;do{s=.5*(g+v),o=this.getPoint(s,u);var O=Math.atan2(y.y-o.y,y.x-o.x),x=y.distanceToBorder(n,O)+w-Math.sqrt(Math.pow(o.x-y.x,2)+Math.pow(o.y-y.y,2));if(Math.abs(x)<.2)break;x<0?h===!1?g=s:v=s:h===!1?v=s:g=s,++k}while(g<=v&&k<10);return Lb(Lb({},o),{},{t:s})}},{key:"_getDistanceToBezierEdge",value:function(r,n,o,s,u,h,v){var g,y,w,k,O,x=1e9,$=r,D=n;for(y=1;y<10;y++)w=.1*y,k=Math.pow(1-w,2)*r+2*w*(1-w)*v.x+Math.pow(w,2)*o,O=Math.pow(1-w,2)*n+2*w*(1-w)*v.y+Math.pow(w,2)*s,y>0&&(x=(g=this._getDistanceToLine($,D,k,O,u,h))<x?g:x),$=k,D=O;return x}},{key:"_bezierCurve",value:function(r,n,o,s){r.beginPath(),r.moveTo(this.fromPoint.x,this.fromPoint.y),o!=null&&o.x!=null?s!=null&&s.x!=null?r.bezierCurveTo(o.x,o.y,s.x,s.y,this.toPoint.x,this.toPoint.y):r.quadraticCurveTo(o.x,o.y,this.toPoint.x,this.toPoint.y):r.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(r,n),this.enableShadow(r,n),r.stroke(),this.disableShadow(r,n)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),t}(jb);function Hb(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var Wb=function(i){Ee(t,i);var e=Hb(t);function t(r,n,o){var s;return L(this,t),(s=e.call(this,r,n,o)).via=s.via,s._boundFunction=function(){s.positionBezierNode()},s._body.emitter.on("_repositionBezierNodes",s._boundFunction),s}return H(t,[{key:"setOptions",value:function(r){as(K(t.prototype),"setOptions",this).call(this,r);var n=!1;this.options.physics!==r.physics&&(n=!0),this.options=r,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),n===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(this.via===void 0){var r="edgeId:"+this.id,n=this._body.functions.createNode({id:r,shape:"circle",physics:!0,hidden:!0});this._body.nodes[r]=n,this.via=n,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(r,n,o){this._bezierCurve(r,n,o)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){var o=Ve(this._getCircleData(),3),s=o[0],u=o[1],h=o[2],v=2*Math.PI*(1-r);return{x:s+h*Math.sin(v),y:u+h-h*(1-Math.cos(v))}}return{x:Math.pow(1-r,2)*this.fromPoint.x+2*r*(1-r)*n.x+Math.pow(r,2)*this.toPoint.x,y:Math.pow(1-r,2)*this.fromPoint.y+2*r*(1-r)*n.y+Math.pow(r,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(r,n){return this._findBorderPositionBezier(r,n,this.via)}},{key:"_getDistanceToEdge",value:function(r,n,o,s,u,h){return this._getDistanceToBezierEdge(r,n,o,s,u,h,this.via)}}]),t}(Ou);function yT(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var Ub=function(i){Ee(t,i);var e=yT(t);function t(r,n,o){return L(this,t),e.call(this,r,n,o)}return H(t,[{key:"_line",value:function(r,n,o){this._bezierCurve(r,n,o)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var r,n,o=this.options.smooth.roundness,s=this.options.smooth.type,u=Math.abs(this.from.x-this.to.x),h=Math.abs(this.from.y-this.to.y);if(s==="discrete"||s==="diagonalCross"){var v,g;v=g=u<=h?o*h:o*u,this.from.x>this.to.x&&(v=-v),this.from.y>=this.to.y&&(g=-g);var y=this.from.x+v,w=this.from.y+g;return s==="discrete"&&(u<=h?y=u<o*h?this.from.x:y:w=h<o*u?this.from.y:w),{x:y,y:w}}if(s==="straightCross"){var k=(1-o)*u,O=(1-o)*h;return u<=h?(k=0,this.from.y<this.to.y&&(O=-O)):(this.from.x<this.to.x&&(k=-k),O=0),{x:this.to.x+k,y:this.to.y+O}}if(s==="horizontal"){var x=(1-o)*u;return this.from.x<this.to.x&&(x=-x),{x:this.to.x+x,y:this.from.y}}if(s==="vertical"){var $=(1-o)*h;return this.from.y<this.to.y&&($=-$),{x:this.from.x,y:this.to.y+$}}if(s==="curvedCW"){u=this.to.x-this.from.x,h=this.from.y-this.to.y;var D=Math.sqrt(u*u+h*h),N=Math.PI,z=(Math.atan2(h,u)+(.5*o+.5)*N)%(2*N);return{x:this.from.x+(.5*o+.5)*D*Math.sin(z),y:this.from.y+(.5*o+.5)*D*Math.cos(z)}}if(s==="curvedCCW"){u=this.to.x-this.from.x,h=this.from.y-this.to.y;var U=Math.sqrt(u*u+h*h),Z=Math.PI,ae=(Math.atan2(h,u)+(.5*-o+.5)*Z)%(2*Z);return{x:this.from.x+(.5*o+.5)*U*Math.sin(ae),y:this.from.y+(.5*o+.5)*U*Math.cos(ae)}}r=n=u<=h?o*h:o*u,this.from.x>this.to.x&&(r=-r),this.from.y>=this.to.y&&(n=-n);var le=this.from.x+r,ie=this.from.y+n;return u<=h?le=this.from.x<=this.to.x?this.to.x<le?this.to.x:le:this.to.x>le?this.to.x:le:ie=this.from.y>=this.to.y?this.to.y>ie?this.to.y:ie:this.to.y<ie?this.to.y:ie,{x:le,y:ie}}},{key:"_findBorderPosition",value:function(r,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(r,n,o.via)}},{key:"_getDistanceToEdge",value:function(r,n,o,s,u,h){var v=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(r,n,o,s,u,h,v)}},{key:"getPoint",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),o=r;return{x:Math.pow(1-o,2)*this.fromPoint.x+2*o*(1-o)*n.x+Math.pow(o,2)*this.toPoint.x,y:Math.pow(1-o,2)*this.fromPoint.y+2*o*(1-o)*n.y+Math.pow(o,2)*this.toPoint.y}}}]),t}(Ou);function Vb(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var qb=function(i){Ee(t,i);var e=Vb(t);function t(r,n,o){return L(this,t),e.call(this,r,n,o)}return H(t,[{key:"_getDistanceToBezierEdge2",value:function(r,n,o,s,u,h,v,g){for(var y=1e9,w=r,k=n,O=[0,0,0,0],x=1;x<10;x++){var $=.1*x;O[0]=Math.pow(1-$,3),O[1]=3*$*Math.pow(1-$,2),O[2]=3*Math.pow($,2)*(1-$),O[3]=Math.pow($,3);var D=O[0]*r+O[1]*v.x+O[2]*g.x+O[3]*o,N=O[0]*n+O[1]*v.y+O[2]*g.y+O[3]*s;if(x>0){var z=this._getDistanceToLine(w,k,D,N,u,h);y=z<y?z:y}w=D,k=N}return y}}]),t}(Ou);function mT(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var Gb=function(i){Ee(t,i);var e=mT(t);function t(r,n,o){return L(this,t),e.call(this,r,n,o)}return H(t,[{key:"_line",value:function(r,n,o){var s=o[0],u=o[1];this._bezierCurve(r,n,s,u)}},{key:"_getViaCoordinates",value:function(){var r,n,o,s,u=this.from.x-this.to.x,h=this.from.y-this.to.y,v=this.options.smooth.roundness;return(Math.abs(u)>Math.abs(h)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(n=this.from.y,s=this.to.y,r=this.from.x-v*u,o=this.to.x+v*u):(n=this.from.y-v*h,s=this.to.y+v*h,r=this.from.x,o=this.to.x),[{x:r,y:n},{x:o,y:s}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(r,n){return this._findBorderPositionBezier(r,n)}},{key:"_getDistanceToEdge",value:function(r,n,o,s,u,h){var v=Ve(arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates(),2),g=v[0],y=v[1];return this._getDistanceToBezierEdge2(r,n,o,s,u,h,g,y)}},{key:"getPoint",value:function(r){var n=Ve(arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),2),o=n[0],s=n[1],u=r,h=[Math.pow(1-u,3),3*u*Math.pow(1-u,2),3*Math.pow(u,2)*(1-u),Math.pow(u,3)];return{x:h[0]*this.fromPoint.x+h[1]*o.x+h[2]*s.x+h[3]*this.toPoint.x,y:h[0]*this.fromPoint.y+h[1]*o.y+h[2]*s.y+h[3]*this.toPoint.y}}}]),t}(qb);function Kb(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var Yb=function(i){Ee(t,i);var e=Kb(t);function t(r,n,o){return L(this,t),e.call(this,r,n,o)}return H(t,[{key:"_line",value:function(r,n){r.beginPath(),r.moveTo(this.fromPoint.x,this.fromPoint.y),r.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(r,n),r.stroke(),this.disableShadow(r,n)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(r){return{x:(1-r)*this.fromPoint.x+r*this.toPoint.x,y:(1-r)*this.fromPoint.y+r*this.toPoint.y}}},{key:"_findBorderPosition",value:function(r,n){var o=this.to,s=this.from;r.id===this.from.id&&(o=this.from,s=this.to);var u=Math.atan2(o.y-s.y,o.x-s.x),h=o.x-s.x,v=o.y-s.y,g=Math.sqrt(h*h+v*v),y=(g-r.distanceToBorder(n,u))/g;return{x:(1-y)*s.x+y*o.x,y:(1-y)*s.y+y*o.y,t:0}}},{key:"_getDistanceToEdge",value:function(r,n,o,s,u,h){return this._getDistanceToLine(r,n,o,s,u,h)}}]),t}(jb),Ao=function(){function i(e,t,r,n,o){if(L(this,i),t===void 0)throw new Error("No body provided");this.options=wi(n),this.globalOptions=n,this.defaultOptions=o,this.body=t,this.imagelist=r,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new hf(this.body,this.options,!0),this.setOptions(e)}return H(i,[{key:"setOptions",value:function(e){if(e){var t=e.physics!==void 0&&this.options.physics!==e.physics||e.hidden!==void 0&&(this.options.hidden||!1)!==(e.hidden||!1)||e.from!==void 0&&this.options.from!==e.from||e.to!==void 0&&this.options.to!==e.to;i.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=xi(e.value));var r=[e,this.options,this.defaultOptions];return this.chooser=sf("edge",r),this.updateLabelModule(e),t=this.updateEdgeType()||t,this._setInteractionWidths(),this.connect(),t}}},{key:"getFormattingValues",value:function(){var e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,t=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,r=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,n=this.options.color.inherit,o={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:r,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:t,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:n?void 0:this.options.color.color,inheritsColor:n,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){var s=this.options.selectionWidth;typeof s=="function"?o.width=s(o.width):typeof s=="number"&&(o.width+=s),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){var u=this.options.hoverWidth;typeof u=="function"?o.width=u(o.width):typeof u=="number"&&(o.width+=u),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(o,this.options.id,this.selected,this.hover),o.color!==void 0&&(o.inheritsColor=!1),o.shadow===!1&&(o.shadowColor===this.options.shadow.color&&o.shadowSize===this.options.shadow.size&&o.shadowX===this.options.shadow.x&&o.shadowY===this.options.shadow.y||(o.shadow=!0)));else o.shadow=this.options.shadow.enabled,o.width=Math.max(o.width,.3/this.body.view.scale);return o}},{key:"updateLabelModule",value:function(e){var t=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,t),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var e=this.options.smooth,t=!1,r=!0;return this.edgeType!==void 0&&((this.edgeType instanceof Wb&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof Gb&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof Ub&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof Yb&&e.type.enabled===!1)&&(r=!1),r===!0&&(t=this.cleanup())),r===!0?e.enabled===!0?e.type==="dynamic"?(t=!0,this.edgeType=new Wb(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new Gb(this.options,this.body,this.labelModule):this.edgeType=new Ub(this.options,this.body,this.labelModule):this.edgeType=new Yb(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,t,r){if(this.options.value!==void 0){var n=this.options.scaling.customScalingFunction(e,t,r,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*s}this.options.width=this.options.scaling.min+n*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var r=this.edgeType.getViaNode();this.edgeType.drawLine(e,t,this.selected,this.hover,r),this.drawLabel(e,r)}}},{key:"drawArrows",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var r=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(n.from=this.edgeType.getArrowData(e,"from",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.fromPoint=n.from.core),t.fromArrowSrc&&(n.from.image=this.imagelist.load(t.fromArrowSrc)),t.fromArrowImageWidth&&(n.from.imageWidth=t.fromArrowImageWidth),t.fromArrowImageHeight&&(n.from.imageHeight=t.fromArrowImageHeight)),t.toArrow&&(n.to=this.edgeType.getArrowData(e,"to",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.toPoint=n.to.core),t.toArrowSrc&&(n.to.image=this.imagelist.load(t.toArrowSrc)),t.toArrowImageWidth&&(n.to.imageWidth=t.toArrowImageWidth),t.toArrowImageHeight&&(n.to.imageHeight=t.toArrowImageHeight)),t.middleArrow&&(n.middle=this.edgeType.getArrowData(e,"middle",r,this.selected,this.hover,t),t.middleArrowSrc&&(n.middle.image=this.imagelist.load(t.middleArrowSrc)),t.middleArrowImageWidth&&(n.middle.imageWidth=t.middleArrowImageWidth),t.middleArrowImageHeight&&(n.middle.imageHeight=t.middleArrowImageHeight)),t.fromArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.from),t.middleArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.middle),t.toArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.to)}}},{key:"drawLabel",value:function(e,t){if(this.options.label!==void 0){var r,n=this.from,o=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover),n.id!=o.id){this.labelModule.pointToSelf=!1,r=this.edgeType.getPoint(.5,t),e.save();var s=this._getRotation(e);s.angle!=0&&(e.translate(s.x,s.y),e.rotate(s.angle)),this.labelModule.draw(e,r.x,r.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;var u=lf(e,this.options.selfReference.angle,this.options.selfReference.size,n);r=this._pointOnCircle(u.x,u.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,r.x,r.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(e){var t=[];if(this.labelModule.visible()){var r=this._getRotation();vu(this.labelModule.getSize(),e,r)&&t.push({edgeId:this.id,labelId:0})}var n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&t.push({edgeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){if(this.connected){var t=this.from.x,r=this.from.y,n=this.to.x,o=this.to.y,s=e.left,u=e.top;return this.edgeType.getDistanceToEdge(t,r,n,o,s,u)<10}return!1}},{key:"_getRotation",value:function(e){var t=this.edgeType.getViaNode(),r=this.edgeType.getPoint(.5,t);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,r.x,r.y);var n={x:r.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return n;var o=this.from.y-this.to.y,s=this.from.x-this.to.x,u=Math.atan2(o,s);return(u<-1&&s<0||u>0&&s<0)&&(u+=Math.PI),n.angle=u,n}},{key:"_pointOnCircle",value:function(e,t,r,n){return{x:e+r*Math.cos(n),y:t-r*Math.sin(n)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}],[{key:"parseOptions",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(Eo(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,t,r),t.endPointOffset!==void 0&&t.endPointOffset.from!==void 0&&(vn(t.endPointOffset.from)?e.endPointOffset.from=t.endPointOffset.from:(e.endPointOffset.from=n.endPointOffset.from!==void 0?n.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),t.endPointOffset!==void 0&&t.endPointOffset.to!==void 0&&(vn(t.endPointOffset.to)?e.endPointOffset.to=t.endPointOffset.to:(e.endPointOffset.to=n.endPointOffset.to!==void 0?n.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),$o(t.label)?e.label=t.label:$o(e.label)||(e.label=void 0),tr(e,t,"smooth",n),tr(e,t,"shadow",n),tr(e,t,"background",n),t.dashes!==void 0&&t.dashes!==null?e.dashes=t.dashes:r===!0&&t.dashes===null&&(e.dashes=nn(n.dashes)),t.scaling!==void 0&&t.scaling!==null?(t.scaling.min!==void 0&&(e.scaling.min=t.scaling.min),t.scaling.max!==void 0&&(e.scaling.max=t.scaling.max),tr(e.scaling,t.scaling,"label",n.scaling)):r===!0&&t.scaling===null&&(e.scaling=nn(n.scaling)),t.arrows!==void 0&&t.arrows!==null)if(typeof t.arrows=="string"){var s=t.arrows.toLowerCase();e.arrows.to.enabled=_e(s).call(s,"to")!=-1,e.arrows.middle.enabled=_e(s).call(s,"middle")!=-1,e.arrows.from.enabled=_e(s).call(s,"from")!=-1}else{if(xe(t.arrows)!=="object")throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Na(t.arrows));tr(e.arrows,t.arrows,"to",n.arrows),tr(e.arrows,t.arrows,"middle",n.arrows),tr(e.arrows,t.arrows,"from",n.arrows)}else r===!0&&t.arrows===null&&(e.arrows=nn(n.arrows));if(t.color!==void 0&&t.color!==null){var u=Cr(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,h=e.color;if(o)De(h,n.color,!1,r);else for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&delete h[v];if(Cr(h))h.color=h,h.highlight=h,h.hover=h,h.inherit=!1,u.opacity===void 0&&(h.opacity=1);else{var g=!1;u.color!==void 0&&(h.color=u.color,g=!0),u.highlight!==void 0&&(h.highlight=u.highlight,g=!0),u.hover!==void 0&&(h.hover=u.hover,g=!0),u.inherit!==void 0&&(h.inherit=u.inherit),u.opacity!==void 0&&(h.opacity=Math.min(1,Math.max(0,u.opacity))),g===!0?h.inherit=!1:h.inherit===void 0&&(h.inherit="from")}}else r===!0&&t.color===null&&(e.color=wi(n.color));r===!0&&t.font===null&&(e.font=wi(n.font)),Object.prototype.hasOwnProperty.call(t,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=t.selfReferenceSize)}}]),i}(),bT=function(){function i(e,t,r){var n,o=this;L(this,i),this.body=e,this.images=t,this.groups=r,this.body.functions.createEdge=B(n=this.create).call(n,this),this.edgesListeners={add:function(s,u){o.add(u.items)},update:function(s,u){o.update(u.items)},remove:function(s,u){o.remove(u.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,u,h,v){if(u===s)return .5;var g=1/(u-s);return Math.max(0,(v-s)*g)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},De(this.options,this.defaultOptions),this.bindEventListeners()}return H(i,[{key:"bindEventListeners",value:function(){var e,t,r=this;this.body.emitter.on("_forceDisableDynamicCurves",function(n){var o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];n==="dynamic"&&(n="continuous");var s=!1;for(var u in r.body.edges)if(Object.prototype.hasOwnProperty.call(r.body.edges,u)){var h=r.body.edges[u],v=r.body.data.edges.get(u);if(v!=null){var g=v.smooth;g!==void 0&&g.enabled===!0&&g.type==="dynamic"&&(n===void 0?h.setOptions({smooth:!1}):h.setOptions({smooth:{type:n}}),s=!0)}}o===!0&&s===!0&&r.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){r.reconnectEdges()}),this.body.emitter.on("refreshEdges",B(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",B(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",function(){pe(r.edgesListeners,function(n,o){r.body.data.edges&&r.body.data.edges.off(o,n)}),delete r.body.functions.createEdge,delete r.edgesListeners.add,delete r.edgesListeners.update,delete r.edgesListeners.remove,delete r.edgesListeners})}},{key:"setOptions",value:function(e){if(e!==void 0){Ao.parseOptions(this.options,e,!0,this.defaultOptions,!0);var t=!1;if(e.smooth!==void 0)for(var r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&(t=this.body.edges[r].updateEdgeType()||t);if(e.font!==void 0)for(var n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();e.hidden===void 0&&e.physics===void 0&&t!==!0||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=this.body.data.edges;if(ge.isDataViewLike("id",e))this.body.data.edges=e;else if(ke(e))this.body.data.edges=new ge.DataSet,this.body.data.edges.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.edges=new ge.DataSet}if(n&&pe(this.edgesListeners,function(s,u){n.off(u,s)}),this.body.edges={},this.body.data.edges){pe(this.edgesListeners,function(s,u){t.body.data.edges.on(u,s)});var o=this.body.data.edges.getIds();this.add(o,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=this.body.edges,n=this.body.data.edges,o=0;o<e.length;o++){var s=e[o],u=r[s];u&&u.disconnect();var h=n.get(s,{showInternalIds:!0});r[s]=this.create(h)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),t===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e){for(var t=this.body.edges,r=this.body.data.edges,n=!1,o=0;o<e.length;o++){var s=e[o],u=r.get(s),h=t[s];h!==void 0?(h.disconnect(),n=h.setOptions(u)||n,h.connect()):(this.body.edges[s]=this.create(u),n=!0)}n===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(e.length!==0){var r=this.body.edges;pe(e,function(n){var o=r[n];o!==void 0&&o.remove()}),t&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var e=this;pe(this.body.edges,function(t,r){var n=e.body.data.edges.get(r);n!==void 0&&t.setOptions(n)})}},{key:"create",value:function(e){return new Ao(e,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var e,t=this.body.nodes,r=this.body.edges;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e].edges=[]);for(e in r)if(Object.prototype.hasOwnProperty.call(r,e)){var n=r[e];n.from=null,n.to=null,n.connect()}}},{key:"getConnectedNodes",value:function(e){var t=[];if(this.body.edges[e]!==void 0){var r=this.body.edges[e];r.fromId!==void 0&&t.push(r.fromId),r.toId!==void 0&&t.push(r.toId)}return t}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var e=this,t=[];pe(this.body.edges,function(r,n){var o=e.body.nodes[r.toId],s=e.body.nodes[r.fromId];o!==void 0&&o.isCluster===!0||s!==void 0&&s.isCluster===!0||o!==void 0&&s!==void 0||t.push(n)}),this.remove(t,!1)}},{key:"_addMissingEdges",value:function(){var e=this.body.data.edges;if(e!=null){var t=this.body.edges,r=[];Pe(e).call(e,function(n,o){t[o]===void 0&&r.push(o)}),this.add(r,!0)}}}]),i}(),Xb=function(){function i(e,t,r){L(this,i),this.body=e,this.physicsBody=t,this.barnesHutTree,this.setOptions(r),this._rng=Xl("BARNES HUT SOLVER")}return H(i,[{key:"setOptions",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){var e,t=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=r.length,o=this._formBarnesHutTree(t,r);this.barnesHutTree=o;for(var s=0;s<n;s++)(e=t[r[s]]).options.mass>0&&this._getForceContributions(o.root,e)}}},{key:"_getForceContributions",value:function(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}},{key:"_getForceContribution",value:function(e,t){if(e.childrenCount>0){var r=e.centerOfMass.x-t.x,n=e.centerOfMass.y-t.y,o=Math.sqrt(r*r+n*n);o*e.calcSize>this.thetaInversed?this._calculateForces(o,r,n,t,e):e.childrenCount===4?this._getForceContributions(e,t):e.children.data.id!=t.id&&this._calculateForces(o,r,n,t,e)}}},{key:"_calculateForces",value:function(e,t,r,n,o){e===0&&(t=e=.1),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));var s=this.options.gravitationalConstant*o.mass*n.options.mass/Math.pow(e,3),u=t*s,h=r*s;this.physicsBody.forces[n.id].x+=u,this.physicsBody.forces[n.id].y+=h}},{key:"_formBarnesHutTree",value:function(e,t){for(var r,n=t.length,o=e[t[0]].x,s=e[t[0]].y,u=e[t[0]].x,h=e[t[0]].y,v=1;v<n;v++){var g=e[t[v]],y=g.x,w=g.y;g.options.mass>0&&(y<o&&(o=y),y>u&&(u=y),w<s&&(s=w),w>h&&(h=w))}var k=Math.abs(u-o)-Math.abs(h-s);k>0?(s-=.5*k,h+=.5*k):(o+=.5*k,u-=.5*k);var O=Math.max(1e-5,Math.abs(u-o)),x=.5*O,$=.5*(o+u),D=.5*(s+h),N={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:$-x,maxX:$+x,minY:D-x,maxY:D+x},size:O,calcSize:1/O,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(N.root);for(var z=0;z<n;z++)(r=e[t[z]]).options.mass>0&&this._placeInTree(N.root,r);return N}},{key:"_updateBranchMass",value:function(e,t){var r=e.centerOfMass,n=e.mass+t.options.mass,o=1/n;r.x=r.x*e.mass+t.x*t.options.mass,r.x*=o,r.y=r.y*e.mass+t.y*t.options.mass,r.y*=o,e.mass=n;var s=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<s?s:e.maxWidth}},{key:"_placeInTree",value:function(e,t,r){r==1&&r!==void 0||this._updateBranchMass(e,t);var n,o=e.children.NW.range;n=o.maxX>t.x?o.maxY>t.y?"NW":"SW":o.maxY>t.y?"NE":"SE",this._placeInRegion(e,t,n)}},{key:"_placeInRegion",value:function(e,t,r){var n=e.children[r];switch(n.childrenCount){case 0:n.children.data=t,n.childrenCount=1,this._updateBranchMass(n,t);break;case 1:n.children.data.x===t.x&&n.children.data.y===t.y?(t.x+=this._rng(),t.y+=this._rng()):(this._splitBranch(n),this._placeInTree(n,t));break;case 4:this._placeInTree(n,t)}}},{key:"_splitBranch",value:function(e){var t=null;e.childrenCount===1&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),t!=null&&this._placeInTree(e,t)}},{key:"_insertRegion",value:function(e,t){var r,n,o,s,u=.5*e.size;switch(t){case"NW":r=e.range.minX,n=e.range.minX+u,o=e.range.minY,s=e.range.minY+u;break;case"NE":r=e.range.minX+u,n=e.range.maxX,o=e.range.minY,s=e.range.minY+u;break;case"SW":r=e.range.minX,n=e.range.minX+u,o=e.range.minY+u,s=e.range.maxY;break;case"SE":r=e.range.minX+u,n=e.range.maxX,o=e.range.minY+u,s=e.range.maxY}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:r,maxX:n,minY:o,maxY:s},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function(e,t){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}},{key:"_drawBranch",value:function(e,t,r){r===void 0&&(r="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=r,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}]),i}(),wT=function(){function i(e,t,r){L(this,i),this._rng=Xl("REPULSION SOLVER"),this.body=e,this.physicsBody=t,this.setOptions(r)}return H(i,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,r,n,o,s,u,h,v=this.body.nodes,g=this.physicsBody.physicsNodeIndices,y=this.physicsBody.forces,w=this.options.nodeDistance,k=-2/3/w,O=0;O<g.length-1;O++){u=v[g[O]];for(var x=O+1;x<g.length;x++)e=(h=v[g[x]]).x-u.x,t=h.y-u.y,(r=Math.sqrt(e*e+t*t))===0&&(e=r=.1*this._rng()),r<2*w&&(s=r<.5*w?1:k*r+1.3333333333333333,n=e*(s/=r),o=t*s,y[u.id].x-=n,y[u.id].y-=o,y[h.id].x+=n,y[h.id].y+=o)}}}]),i}(),Qb=function(){function i(e,t,r){L(this,i),this.body=e,this.physicsBody=t,this.setOptions(r)}return H(i,[{key:"setOptions",value:function(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var e=this.body.nodes,t=this.physicsBody.physicsNodeIndices,r=this.physicsBody.forces,n=this.options.nodeDistance,o=0;o<t.length-1;o++)for(var s=e[t[o]],u=o+1;u<t.length;u++){var h=e[t[u]];if(s.level===h.level){var v=n+this.overlapAvoidanceFactor*((s.shape.radius||0)/2+(h.shape.radius||0)/2),g=h.x-s.x,y=h.y-s.y,w=Math.sqrt(g*g+y*y),k=void 0;k=w<v?-Math.pow(.05*w,2)+Math.pow(.05*v,2):0,w!==0&&(k/=w);var O=g*k,x=y*k;r[s.id].x-=O,r[s.id].y-=x,r[h.id].x+=O,r[h.id].y+=x}}}}]),i}(),wf=function(){function i(e,t,r){L(this,i),this.body=e,this.physicsBody=t,this.setOptions(r)}return H(i,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,r,n,o,s=this.physicsBody.physicsEdgeIndices,u=this.body.edges,h=0;h<s.length;h++)(t=u[s[h]]).connected===!0&&t.toId!==t.fromId&&this.body.nodes[t.toId]!==void 0&&this.body.nodes[t.fromId]!==void 0&&(t.edgeType.via!==void 0?(e=t.options.length===void 0?this.options.springLength:t.options.length,r=t.to,n=t.edgeType.via,o=t.from,this._calculateSpringForce(r,n,.5*e),this._calculateSpringForce(n,o,.5*e)):(e=t.options.length===void 0?1.5*this.options.springLength:t.options.length,this._calculateSpringForce(t.from,t.to,e)))}},{key:"_calculateSpringForce",value:function(e,t,r){var n=e.x-t.x,o=e.y-t.y,s=Math.max(Math.sqrt(n*n+o*o),.01),u=this.options.springConstant*(r-s)/s,h=n*u,v=o*u;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=h,this.physicsBody.forces[e.id].y+=v),this.physicsBody.forces[t.id]!==void 0&&(this.physicsBody.forces[t.id].x-=h,this.physicsBody.forces[t.id].y-=v)}}]),i}(),_T=function(){function i(e,t,r){L(this,i),this.body=e,this.physicsBody=t,this.setOptions(r)}return H(i,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,r,n,o,s,u,h,v,g,y=this.body.edges,w=.5,k=this.physicsBody.physicsEdgeIndices,O=this.physicsBody.physicsNodeIndices,x=this.physicsBody.forces,$=0;$<O.length;$++){var D=O[$];x[D].springFx=0,x[D].springFy=0}for(var N=0;N<k.length;N++)(t=y[k[N]]).connected===!0&&(e=t.options.length===void 0?this.options.springLength:t.options.length,r=t.from.x-t.to.x,n=t.from.y-t.to.y,h=(h=Math.sqrt(r*r+n*n))===0?.01:h,o=r*(u=this.options.springConstant*(e-h)/h),s=n*u,t.to.level!=t.from.level?(x[t.toId]!==void 0&&(x[t.toId].springFx-=o,x[t.toId].springFy-=s),x[t.fromId]!==void 0&&(x[t.fromId].springFx+=o,x[t.fromId].springFy+=s)):(x[t.toId]!==void 0&&(x[t.toId].x-=w*o,x[t.toId].y-=w*s),x[t.fromId]!==void 0&&(x[t.fromId].x+=w*o,x[t.fromId].y+=w*s)));u=1;for(var z=0;z<O.length;z++){var U=O[z];v=Math.min(u,Math.max(-u,x[U].springFx)),g=Math.min(u,Math.max(-u,x[U].springFy)),x[U].x+=v,x[U].y+=g}for(var Z=0,ae=0,le=0;le<O.length;le++){var ie=O[le];Z+=x[ie].x,ae+=x[ie].y}for(var Q=Z/O.length,Se=ae/O.length,me=0;me<O.length;me++){var Te=O[me];x[Te].x-=Q,x[Te].y-=Se}}}]),i}(),Su=function(){function i(e,t,r){L(this,i),this.body=e,this.physicsBody=t,this.setOptions(r)}return H(i,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,r,n,o=this.body.nodes,s=this.physicsBody.physicsNodeIndices,u=this.physicsBody.forces,h=0;h<s.length;h++)e=-(n=o[s[h]]).x,t=-n.y,r=Math.sqrt(e*e+t*t),this._calculateForces(r,e,t,u,n)}},{key:"_calculateForces",value:function(e,t,r,n,o){var s=e===0?0:this.options.centralGravity/e;n[o.id].x=t*s,n[o.id].y=r*s}}]),i}();function ET(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var kT=function(i){Ee(t,i);var e=ET(t);function t(r,n,o){var s;return L(this,t),(s=e.call(this,r,n,o))._rng=Xl("FORCE ATLAS 2 BASED REPULSION SOLVER"),s}return H(t,[{key:"_calculateForces",value:function(r,n,o,s,u){r===0&&(n=r=.1*this._rng()),this.overlapAvoidanceFactor<1&&s.shape.radius&&(r=Math.max(.1+this.overlapAvoidanceFactor*s.shape.radius,r-s.shape.radius));var h=s.edges.length+1,v=this.options.gravitationalConstant*u.mass*s.options.mass*h/Math.pow(r,2),g=n*v,y=o*v;this.physicsBody.forces[s.id].x+=g,this.physicsBody.forces[s.id].y+=y}}]),t}(Xb);function OT(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var ST=function(i){Ee(t,i);var e=OT(t);function t(r,n,o){return L(this,t),e.call(this,r,n,o)}return H(t,[{key:"_calculateForces",value:function(r,n,o,s,u){if(r>0){var h=u.edges.length+1,v=this.options.centralGravity*h*u.options.mass;s[u.id].x=n*v,s[u.id].y=o*v}}}]),t}(Su),xT=function(){function i(e){L(this,i),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},$e(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return H(i,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("initPhysics",function(){e.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){e.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){e.stopSimulation(),e.ready=!1}),this.body.emitter.on("disablePhysics",function(){e.physicsEnabled=!1,e.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){e.setOptions(e.options),e.ready===!0&&e.startSimulation()}),this.body.emitter.on("startSimulation",function(){e.ready===!0&&e.startSimulation()}),this.body.emitter.on("stopSimulation",function(){e.stopSimulation()}),this.body.emitter.on("destroy",function(){e.stopSimulation(!1),e.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){e.updatePhysicsData()})}},{key:"setOptions",value:function(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Ql(["stabilization"],this.options,e),tr(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());var t=this.options.wind;t&&((typeof t.x!="number"||Zd(t.x))&&(t.x=0),(typeof t.y!="number"||Zd(t.y))&&(t.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new kT(this.body,this.physicsBody,e),this.edgesSolver=new wf(this.body,this.physicsBody,e),this.gravitySolver=new ST(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new wT(this.body,this.physicsBody,e),this.edgesSolver=new wf(this.body,this.physicsBody,e),this.gravitySolver=new Su(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new Qb(this.body,this.physicsBody,e),this.edgesSolver=new _T(this.body,this.physicsBody,e),this.gravitySolver=new Su(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new Xb(this.body,this.physicsBody,e),this.edgesSolver=new wf(this.body,this.physicsBody,e),this.gravitySolver=new Su(this.body,this.physicsBody,e)),this.modelOptions=e}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){var e;this.physicsEnabled===!0&&this.options.enabled===!0?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0&&(this.viewFunction=B(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var e=Nl();this.physicsTick(),(Nl()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Ir(function(){e.body.emitter.emit("stabilized",{iterations:t}),e.startedStabilization=!1,e.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,t=this.body.edges;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&e[r].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[r].id);for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&t[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(t[n].id);for(var o=0;o<this.physicsBody.physicsNodeIndices.length;o++){var s=this.physicsBody.physicsNodeIndices[o];this.physicsBody.forces[s]={x:0,y:0},this.physicsBody.velocities[s]===void 0&&(this.physicsBody.velocities[s]={x:0,y:0})}for(var u in this.physicsBody.velocities)e[u]===void 0&&delete this.physicsBody.velocities[u]}},{key:"revert",value:function(){var e=qe(this.previousStates),t=this.body.nodes,r=this.physicsBody.velocities;this.referenceState={};for(var n=0;n<e.length;n++){var o=e[n];t[o]!==void 0?t[o].options.physics===!0&&(this.referenceState[o]={positions:{x:t[o].x,y:t[o].y}},r[o].x=this.previousStates[o].vx,r[o].y=this.previousStates[o].vy,t[o].x=this.previousStates[o].x,t[o].y=this.previousStates[o].y):delete this.previousStates[o]}}},{key:"_evaluateStepQuality",value:function(){var e,t,r=this.body.nodes,n=this.referenceState;for(var o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&r[o]!==void 0&&(e=r[o].x-n[o].positions.x,t=r[o].y-n[o].positions.y,Math.sqrt(Math.pow(e,2)+Math.pow(t,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var e=this.physicsBody.physicsNodeIndices,t=0,r=0,n=0;n<e.length;n++){var o=e[n],s=this._performStep(o);t=Math.max(t,s),r+=s}this.adaptiveTimestepEnabled=r/e.length<5,this.stabilized=t<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(e,t,r){e+=(t-this.modelOptions.damping*e)/r*this.timestep;var n=this.options.maxVelocity||1e9;return Math.abs(e)>n&&(e=e>0?n:-n),e}},{key:"_performStep",value:function(e){var t=this.body.nodes[e],r=this.physicsBody.forces[e];this.options.wind&&(r.x+=this.options.wind.x,r.y+=this.options.wind.y);var n=this.physicsBody.velocities[e];return this.previousStates[e]={x:t.x,y:t.y,vx:n.x,vy:n.y},t.options.fixed.x===!1?(n.x=this.calculateComponentVelocity(n.x,r.x,t.options.mass),t.x+=n.x*this.timestep):(r.x=0,n.x=0),t.options.fixed.y===!1?(n.y=this.calculateComponentVelocity(n.y,r.y,t.options.mass),t.y+=n.y*this.timestep):(r.y=0,n.y=0),Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}},{key:"_freezeNodes",value:function(){var e=this.body.nodes;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].x&&e[t].y){var r=e[t].options.fixed;this.freezeCache[t]={x:r.x,y:r.y},r.x=!0,r.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var e=this.body.nodes;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.freezeCache[t]!==void 0&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}},{key:"stabilize",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;typeof t!="number"&&(t=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",t)),this.physicsBody.physicsNodeIndices.length!==0?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=t,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Ir(function(){return e._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return this.startedStabilization!==!0&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var e=this,t=function(){return e.stabilized===!1&&e.stabilizationIterations<e.targetIterations},r=function(){e.body.emitter.emit("stabilizationProgress",{iterations:e.stabilizationIterations,total:e.targetIterations})};this._startStabilizing()&&r();for(var n,o=0;t()&&o<this.options.stabilization.updateInterval;)this.physicsTick(),o++;r(),t()?Ir(B(n=this._stabilizationBatch).call(n,this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(e){for(var t=0;t<this.physicsBody.physicsNodeIndices.length;t++){var r=this.physicsBody.physicsNodeIndices[t],n=this.body.nodes[r],o=this.physicsBody.forces[r],s=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),u=Math.min(Math.max(5,s),15),h=3*u,v=Nd((180-180*Math.min(1,Math.max(0,.03*s)))/360,1,1),g={x:n.x+20*o.x,y:n.y+20*o.y};e.lineWidth=u,e.strokeStyle=v,e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(g.x,g.y),e.stroke();var y=Math.atan2(o.y,o.x);e.fillStyle=v,Bb.draw(e,{type:"arrow",point:g,angle:y,length:h}),Ra(e).call(e)}}}]),i}();let xu,TT=new Uint8Array(16);function IT(){if(!xu&&(xu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!xu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xu(TT)}let pt=[];for(let i=0;i<256;++i)pt.push((i+256).toString(16).slice(1));var _f={randomUUID:typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function ss(i,e,t){if(_f.randomUUID&&!e&&!i)return _f.randomUUID();let r=(i=i||{}).random||(i.rng||IT)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(let n=0;n<16;++n)e[t+n]=r[n];return e}return function(n,o=0){return pt[n[o+0]]+pt[n[o+1]]+pt[n[o+2]]+pt[n[o+3]]+"-"+pt[n[o+4]]+pt[n[o+5]]+"-"+pt[n[o+6]]+pt[n[o+7]]+"-"+pt[n[o+8]]+pt[n[o+9]]+"-"+pt[n[o+10]]+pt[n[o+11]]+pt[n[o+12]]+pt[n[o+13]]+pt[n[o+14]]+pt[n[o+15]]}(r)}var Pt=function(){function i(){L(this,i)}return H(i,null,[{key:"getRange",value:function(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,o=-1e9,s=1e9,u=-1e9;if(r.length>0)for(var h=0;h<r.length;h++)s>(t=e[r[h]]).shape.boundingBox.left&&(s=t.shape.boundingBox.left),u<t.shape.boundingBox.right&&(u=t.shape.boundingBox.right),n>t.shape.boundingBox.top&&(n=t.shape.boundingBox.top),o<t.shape.boundingBox.bottom&&(o=t.shape.boundingBox.bottom);return s===1e9&&u===-1e9&&n===1e9&&o===-1e9&&(n=0,o=0,s=0,u=0),{minX:s,maxX:u,minY:n,maxY:o}}},{key:"getRangeCore",value:function(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,o=-1e9,s=1e9,u=-1e9;if(r.length>0)for(var h=0;h<r.length;h++)s>(t=e[r[h]]).x&&(s=t.x),u<t.x&&(u=t.x),n>t.y&&(n=t.y),o<t.y&&(o=t.y);return s===1e9&&u===-1e9&&n===1e9&&o===-1e9&&(n=0,o=0,s=0,u=0),{minX:s,maxX:u,minY:n,maxY:o}}},{key:"findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function(e,t){var r={};return t===void 0||t==="node"?(De(r,e.options,!0),r.x=e.x,r.y=e.y,r.amountOfConnections=e.edges.length):De(r,e.options,!0),r}}]),i}();function Jb(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var $T=function(i){Ee(t,i);var e=Jb(t);function t(r,n,o,s,u,h){var v;return L(this,t),(v=e.call(this,r,n,o,s,u,h)).isCluster=!0,v.containedNodes={},v.containedEdges={},v}return H(t,[{key:"_openChildCluster",value:function(r){var n=this,o=this.body.nodes[r];if(this.containedNodes[r]===void 0)throw new Error("node with id: "+r+" not in current cluster");if(!o.isCluster)throw new Error("node with id: "+r+" is not a cluster");delete this.containedNodes[r],pe(o.edges,function(s){delete n.containedEdges[s.id]}),pe(o.containedNodes,function(s,u){n.containedNodes[u]=s}),o.containedNodes={},pe(o.containedEdges,function(s,u){n.containedEdges[u]=s}),o.containedEdges={},pe(o.edges,function(s){pe(n.edges,function(u){var h,v,g=_e(h=u.clusteringEdgeReplacingIds).call(h,s.id);g!==-1&&(pe(s.clusteringEdgeReplacingIds,function(y){u.clusteringEdgeReplacingIds.push(y),n.body.edges[y].edgeReplacedById=u.id}),Vr(v=u.clusteringEdgeReplacingIds).call(v,g,1))})}),o.edges=[]}}]),t}($t),Zb=function(){function i(e){var t=this;L(this,i),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},$e(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){t.clusteredNodes={},t.clusteredEdges={}})}return H(i,[{key:"clusterByHubsize",value:function(e,t){e===void 0?e=this._getHubSize():xe(e)==="object"&&(t=this._checkOptions(e),e=this._getHubSize());for(var r=[],n=0;n<this.body.nodeIndices.length;n++){var o=this.body.nodes[this.body.nodeIndices[n]];o.edges.length>=e&&r.push(o.id)}for(var s=0;s<r.length;s++)this.clusterByConnection(r[s],t,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(t.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");t=this._checkOptions(t);var n={},o={};pe(this.body.nodes,function(s,u){s.options&&t.joinCondition(s.options)===!0&&(n[u]=s,pe(s.edges,function(h){e.clusteredEdges[h.id]===void 0&&(o[h.id]=h)}))}),this._cluster(n,o,t,r)}},{key:"clusterByEdgeCount",value:function(e,t){var r=this,n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];t=this._checkOptions(t);for(var o,s,u,h=[],v={},g=function(){var k={},O={},x=r.body.nodeIndices[y],$=r.body.nodes[x];if(v[x]===void 0){u=0,s=[];for(var D=0;D<$.edges.length;D++)o=$.edges[D],r.clusteredEdges[o.id]===void 0&&(o.toId!==o.fromId&&u++,s.push(o));if(u===e){for(var N=function(Q){if(t.joinCondition===void 0||t.joinCondition===null)return!0;var Se=Pt.cloneOptions(Q);return t.joinCondition(Se)},z=!0,U=0;U<s.length;U++){o=s[U];var Z=r._getConnectedId(o,x);if(!N($)){z=!1;break}O[o.id]=o,k[x]=$,k[Z]=r.body.nodes[Z],v[x]=!0}if(qe(k).length>0&&qe(O).length>0&&z===!0){var ae=function(){for(var Q=0;Q<h.length;++Q)for(var Se in k)if(h[Q].nodes[Se]!==void 0)return h[Q]}();if(ae!==void 0){for(var le in k)ae.nodes[le]===void 0&&(ae.nodes[le]=k[le]);for(var ie in O)ae.edges[ie]===void 0&&(ae.edges[ie]=O[ie])}else h.push({nodes:k,edges:O})}}}},y=0;y<this.body.nodeIndices.length;y++)g();for(var w=0;w<h.length;w++)this._cluster(h[w].nodes,h[w].edges,t,!1);n===!0&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.clusterByEdgeCount(1,e,t)}},{key:"clusterBridges",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.clusterByEdgeCount(2,e,t)}},{key:"clusterByConnection",value:function(e,t){var r,n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");var o=this.body.nodes[e];(t=this._checkOptions(t,o)).clusterNodeProperties.x===void 0&&(t.clusterNodeProperties.x=o.x),t.clusterNodeProperties.y===void 0&&(t.clusterNodeProperties.y=o.y),t.clusterNodeProperties.fixed===void 0&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=o.options.fixed.x,t.clusterNodeProperties.fixed.y=o.options.fixed.y);var s={},u={},h=o.id,v=Pt.cloneOptions(o);s[h]=o;for(var g=0;g<o.edges.length;g++){var y=o.edges[g];if(this.clusteredEdges[y.id]===void 0){var w=this._getConnectedId(y,h);if(this.clusteredNodes[w]===void 0)if(w!==h)if(t.joinCondition===void 0)u[y.id]=y,s[w]=this.body.nodes[w];else{var k=Pt.cloneOptions(this.body.nodes[w]);t.joinCondition(v,k)===!0&&(u[y.id]=y,s[w]=this.body.nodes[w])}else u[y.id]=y}}var O=en(r=qe(s)).call(r,function(z){return s[z].id});for(var x in s)if(Object.prototype.hasOwnProperty.call(s,x))for(var $=s[x],D=0;D<$.edges.length;D++){var N=$.edges[D];_e(O).call(O,this._getConnectedId(N,$.id))>-1&&(u[N.id]=N)}this._cluster(s,u,t,n)}},{key:"_createClusterEdges",value:function(e,t,r,n){for(var o,s,u,h,v,g,y=qe(e),w=[],k=0;k<y.length;k++){u=e[s=y[k]];for(var O=0;O<u.edges.length;O++)o=u.edges[O],this.clusteredEdges[o.id]===void 0&&(o.toId==o.fromId?t[o.id]=o:o.toId==s?(h=r.id,g=v=o.fromId):(h=o.toId,v=r.id,g=h),e[g]===void 0&&w.push({edge:o,fromId:v,toId:h}))}for(var x=[],$=function(Z){for(var ae=0;ae<x.length;ae++){var le=x[ae],ie=Z.fromId===le.fromId&&Z.toId===le.toId,Q=Z.fromId===le.toId&&Z.toId===le.fromId;if(ie||Q)return le}return null},D=0;D<w.length;D++){var N=w[D],z=N.edge,U=$(N);U===null?(U=this._createClusteredEdge(N.fromId,N.toId,z,n),x.push(U)):U.clusteringEdgeReplacingIds.push(z.id),this.body.edges[z.id].edgeReplacedById=U.id,this._backupEdgeOptions(z),z.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(e,t,r){var n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],o=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&this.clusteredNodes[s]!==void 0&&o.push(s);for(var u=0;u<o.length;++u)delete e[o[u]];if(qe(e).length!=0&&(qe(e).length!=1||r.clusterNodeProperties.allowSingleNodeCluster==1)){var h=De({},r.clusterNodeProperties);if(r.processProperties!==void 0){var v=[];for(var g in e)if(Object.prototype.hasOwnProperty.call(e,g)){var y=Pt.cloneOptions(e[g]);v.push(y)}var w=[];for(var k in t)if(Object.prototype.hasOwnProperty.call(t,k)&&k.substr(0,12)!=="clusterEdge:"){var O=Pt.cloneOptions(t[k],"edge");w.push(O)}if(!(h=r.processProperties(h,v,w)))throw new Error("The processProperties function does not return properties!")}h.id===void 0&&(h.id="cluster:"+ss());var x=h.id;h.label===void 0&&(h.label="cluster");var $=void 0;h.x===void 0&&($=this._getClusterPosition(e),h.x=$.x),h.y===void 0&&($===void 0&&($=this._getClusterPosition(e)),h.y=$.y),h.id=x;var D=this.body.functions.createNode(h,$T);D.containedNodes=e,D.containedEdges=t,D.clusterEdgeProperties=r.clusterEdgeProperties,this.body.nodes[h.id]=D,this._clusterEdges(e,t,h,r.clusterEdgeProperties),h.id=void 0,n===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}},{key:"_restoreEdge",value:function(e){var t=this.clusteredEdges[e.id];t!==void 0&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}},{key:"isCluster",value:function(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(e){for(var t,r=qe(e),n=e[r[0]].x,o=e[r[0]].x,s=e[r[0]].y,u=e[r[0]].y,h=1;h<r.length;h++)n=(t=e[r[h]]).x<n?t.x:n,o=t.x>o?t.x:o,s=t.y<s?t.y:s,u=t.y>u?t.y:u;return{x:.5*(n+o),y:.5*(s+u)}}},{key:"openCluster",value:function(e,t){var r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");var n=this.body.nodes[e];if(n===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(n.isCluster!==!0||n.containedNodes===void 0||n.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");var o=this.findNode(e),s=_e(o).call(o,e)-1;if(s>=0){var u=o[s];return this.body.nodes[u]._openChildCluster(e),delete this.body.nodes[e],void(r===!0&&this.body.emitter.emit("_dataChanged"))}var h=n.containedNodes,v=n.containedEdges;if(t!==void 0&&t.releaseFunction!==void 0&&typeof t.releaseFunction=="function"){var g={},y={x:n.x,y:n.y};for(var w in h)if(Object.prototype.hasOwnProperty.call(h,w)){var k=this.body.nodes[w];g[w]={x:k.x,y:k.y}}var O=t.releaseFunction(y,g);for(var x in h)if(Object.prototype.hasOwnProperty.call(h,x)){var $=this.body.nodes[x];O[x]!==void 0&&($.x=O[x].x===void 0?n.x:O[x].x,$.y=O[x].y===void 0?n.y:O[x].y)}}else pe(h,function(rt){rt.options.fixed.x===!1&&(rt.x=n.x),rt.options.fixed.y===!1&&(rt.y=n.y)});for(var D in h)if(Object.prototype.hasOwnProperty.call(h,D)){var N=this.body.nodes[D];N.vx=n.vx,N.vy=n.vy,N.setOptions({physics:!0}),delete this.clusteredNodes[D]}for(var z=[],U=0;U<n.edges.length;U++)z.push(n.edges[U]);for(var Z=0;Z<z.length;Z++){for(var ae=z[Z],le=this._getConnectedId(ae,e),ie=this.clusteredNodes[le],Q=0;Q<ae.clusteringEdgeReplacingIds.length;Q++){var Se=ae.clusteringEdgeReplacingIds[Q],me=this.body.edges[Se];if(me!==void 0)if(ie!==void 0){var Te=this.body.nodes[ie.clusterId];Te.containedEdges[me.id]=me,delete v[me.id];var Fe=me.fromId,Be=me.toId;me.toId==le?Be=ie.clusterId:Fe=ie.clusterId,this._createClusteredEdge(Fe,Be,me,Te.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(me)}ae.remove()}for(var or in v)Object.prototype.hasOwnProperty.call(v,or)&&this._restoreEdge(v[or]);delete this.body.nodes[e],r===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(e){var t=[];if(this.isCluster(e)===!0){var r=this.body.nodes[e].containedNodes;for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.push(this.body.nodes[n].id)}return t}},{key:"findNode",value:function(e){for(var t,r=[],n=0;this.clusteredNodes[e]!==void 0&&n<100;){if((t=this.body.nodes[e])===void 0)return[];r.push(t.id),e=this.clusteredNodes[e].clusterId,n++}return(t=this.body.nodes[e])===void 0?[]:(r.push(t.id),rn(r).call(r),r)}},{key:"updateClusteredNode",value:function(e,t){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(t===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(e,t){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(t===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var r=this.getClusteredEdges(e),n=0;n<r.length;n++)this.body.edges[r[n]].setOptions(t);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(e){for(var t=[],r=0;e!==void 0&&this.body.edges[e]!==void 0&&r<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,r++;return rn(t).call(t),t}},{key:"getBaseEdge",value:function(e){return this.getBaseEdges(e)[0]}},{key:"getBaseEdges",value:function(e){for(var t=[e],r=[],n=[],o=0;t.length>0&&o<100;){var s=t.pop();if(s!==void 0){var u=this.body.edges[s];if(u!==void 0){o++;var h=u.clusteringEdgeReplacingIds;if(h===void 0)n.push(s);else for(var v=0;v<h.length;++v){var g=h[v];_e(t).call(t,h)===-1&&_e(r).call(r,h)===-1&&t.push(g)}r.push(s)}}}return n}},{key:"_getConnectedId",value:function(e,t){return e.toId!=t?e.toId:(e.fromId,e.fromId)}},{key:"_getHubSize",value:function(){for(var e=0,t=0,r=0,n=0,o=0;o<this.body.nodeIndices.length;o++){var s=this.body.nodes[this.body.nodeIndices[o]];s.edges.length>n&&(n=s.edges.length),e+=s.edges.length,t+=Math.pow(s.edges.length,2),r+=1}e/=r;var u=(t/=r)-Math.pow(e,2),h=Math.sqrt(u),v=Math.floor(e+2*h);return v>n&&(v=n),v}},{key:"_createClusteredEdge",value:function(e,t,r,n,o){var s=Pt.cloneOptions(r,"edge");De(s,n),s.from=e,s.to=t,s.id="clusterEdge:"+ss(),o!==void 0&&De(s,o);var u=this.body.functions.createEdge(s);return u.clusteringEdgeReplacingIds=[r.id],u.connect(),this.body.edges[u.id]=u,u}},{key:"_clusterEdges",value:function(e,t,r,n){if(t instanceof Ao){var o=t,s={};s[o.id]=o,t=s}if(e instanceof $t){var u=e,h={};h[u.id]=u,e=h}if(r==null)throw new Error("_clusterEdges: parameter clusterNode required");for(var v in n===void 0&&(n=r.clusterEdgeProperties),this._createClusterEdges(e,t,r,n),t)if(Object.prototype.hasOwnProperty.call(t,v)&&this.body.edges[v]!==void 0){var g=this.body.edges[v];this._backupEdgeOptions(g),g.setOptions({physics:!1})}for(var y in e)Object.prototype.hasOwnProperty.call(e,y)&&(this.clusteredNodes[y]={clusterId:r.id,node:this.body.nodes[y]},this.body.nodes[y].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(e){if(e!==void 0){var t=this.clusteredNodes[e];if(t!==void 0){var r=t.clusterId;if(r!==void 0)return this.body.nodes[r]}}}},{key:"_filter",value:function(e,t){var r=[];return pe(e,function(n){t(n)&&r.push(n)}),r}},{key:"_updateState",value:function(){var e,t=this,r=[],n={},o=function(g){pe(t.body.nodes,function(y){y.isCluster===!0&&g(y)})};for(e in this.clusteredNodes)Object.prototype.hasOwnProperty.call(this.clusteredNodes,e)&&this.body.nodes[e]===void 0&&r.push(e);o(function(g){for(var y=0;y<r.length;y++)delete g.containedNodes[r[y]]});for(var s=0;s<r.length;s++)delete this.clusteredNodes[r[s]];pe(this.clusteredEdges,function(g){var y=t.body.edges[g];y!==void 0&&y.endPointsValid()||(n[g]=g)}),o(function(g){pe(g.containedEdges,function(y,w){y.endPointsValid()||n[w]||(n[w]=w)})}),pe(this.body.edges,function(g,y){var w=!0,k=g.clusteringEdgeReplacingIds;if(k!==void 0){var O=0;pe(k,function(x){var $=t.body.edges[x];$!==void 0&&$.endPointsValid()&&(O+=1)}),w=O>0}g.endPointsValid()&&w||(n[y]=y)}),o(function(g){pe(n,function(y){delete g.containedEdges[y],pe(g.edges,function(w,k){w.id!==y?w.clusteringEdgeReplacingIds=t._filter(w.clusteringEdgeReplacingIds,function(O){return!n[O]}):g.edges[k]=null}),g.edges=t._filter(g.edges,function(w){return w!==null})})}),pe(n,function(g){delete t.clusteredEdges[g]}),pe(n,function(g){delete t.body.edges[g]}),pe(qe(this.body.edges),function(g){var y=t.body.edges[g],w=t._isClusteredNode(y.fromId)||t._isClusteredNode(y.toId);if(w!==t._isClusteredEdge(y.id))if(w){var k=t._getClusterNodeForNode(y.fromId);k!==void 0&&t._clusterEdges(t.body.nodes[y.fromId],y,k);var O=t._getClusterNodeForNode(y.toId);O!==void 0&&t._clusterEdges(t.body.nodes[y.toId],y,O)}else delete t._clusterEdges[g],t._restoreEdge(y)});for(var u=!1,h=!0,v=function(){var g=[];o(function(w){var k=qe(w.containedNodes).length,O=w.options.allowSingleNodeCluster===!0;(O&&k<1||!O&&k<2)&&g.push(w.id)});for(var y=0;y<g.length;++y)t.openCluster(g[y],{},!1);h=g.length>0,u=u||h};h;)v();u&&this._updateState()}},{key:"_isClusteredNode",value:function(e){return this.clusteredNodes[e]!==void 0}},{key:"_isClusteredEdge",value:function(e){return this.clusteredEdges[e]!==void 0}}]),i}(),PT=function(){function i(e,t){var r;L(this,i),window!==void 0&&(r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=r===void 0?function(n){n()}:r,this.body=e,this.canvas=t,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},$e(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return H(i,[{key:"bindEventListeners",value:function(){var e,t=this;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){t.dragging=!1}),this.body.emitter.on("zoom",function(){t.zooming=!0,window.clearTimeout(t.zoomTimeoutId),t.zoomTimeoutId=Ir(function(){var r;t.zooming=!1,B(r=t._requestRedraw).call(r,t)()},250)}),this.body.emitter.on("_resizeNodes",function(){t._resizeNodes()}),this.body.emitter.on("_redraw",function(){t.renderingActive===!1&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",B(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,t.requiresTimeout===!0?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(e){e!==void 0&&Eo(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}},{key:"_requestNextFrame",value:function(e,t){if(typeof window!="undefined"){var r,n=window;return this.requiresTimeout===!0?r=Ir(e,t):n.requestAnimationFrame&&(r=n.requestAnimationFrame(e)),r}}},{key:"_startRendering",value:function(){var e;this.renderingActive===!0&&this.renderTimer===void 0&&(this.renderTimer=this._requestNextFrame(B(e=this._renderStep).call(e,this),this.simulationInterval))}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,this._requestNextFrame(function(){e._redraw(!1)},0))}},{key:"_redraw",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var t={drawExternalLabels:null};this.canvas.frame.canvas.width!==0&&this.canvas.frame.canvas.height!==0||this.canvas.setSize(),this.canvas.setTransform();var r=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(r.clearRect(0,0,n,o),this.canvas.frame.clientWidth===0)return;if(r.save(),r.translate(this.body.view.translation.x,this.body.view.translation.y),r.scale(this.body.view.scale,this.body.view.scale),r.beginPath(),this.body.emitter.emit("beforeDrawing",r),r.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(r),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){var s=this._drawNodes(r,e).drawExternalLabels;t.drawExternalLabels=s}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(r),t.drawExternalLabels!=null&&t.drawExternalLabels(),e===!1&&this._drawSelectionBox(r),r.beginPath(),this.body.emitter.emit("afterDrawing",r),r.closePath(),r.restore(),e===!0&&r.clearRect(0,0,n,o)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var t,r=this.body.nodes;for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&((t=r[n]).resize(e),t.updateBoundingBox(e,t.selected));e.restore()}},{key:"_drawNodes",value:function(e){for(var t,r,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],o=this.body.nodes,s=this.body.nodeIndices,u=[],h=[],v=this.canvas.DOMtoCanvas({x:-20,y:-20}),g=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),y={top:v.y,left:v.x,bottom:g.y,right:g.x},w=[],k=0;k<s.length;k++)if((t=o[s[k]]).hover)h.push(s[k]);else if(t.isSelected())u.push(s[k]);else if(n===!0){var O=t.draw(e);O.drawExternalLabel!=null&&w.push(O.drawExternalLabel)}else if(t.isBoundingBoxOverlappingWith(y)===!0){var x=t.draw(e);x.drawExternalLabel!=null&&w.push(x.drawExternalLabel)}else t.updateBoundingBox(e,t.selected);var $=u.length,D=h.length;for(r=0;r<$;r++){var N=(t=o[u[r]]).draw(e);N.drawExternalLabel!=null&&w.push(N.drawExternalLabel)}for(r=0;r<D;r++){var z=(t=o[h[r]]).draw(e);z.drawExternalLabel!=null&&w.push(z.drawExternalLabel)}return{drawExternalLabels:function(){for(var U=0,Z=w;U<Z.length;U++)(0,Z[U])()}}}},{key:"_drawEdges",value:function(e){for(var t=this.body.edges,r=this.body.edgeIndices,n=0;n<r.length;n++){var o=t[r[n]];o.connected===!0&&o.draw(e)}}},{key:"_drawArrows",value:function(e){for(var t=this.body.edges,r=this.body.edgeIndices,n=0;n<r.length;n++){var o=t[r[n]];o.connected===!0&&o.drawArrows(e)}}},{key:"_determineBrowserMethod",value:function(){if(typeof window!="undefined"){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(_e(e).call(e,"msie 9.0")!=-1||_e(e).call(e,"safari")!=-1&&_e(e).call(e,"chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(e){if(this.body.selectionBox.show){e.beginPath();var t=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,r=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}]),i}(),CT=A(ue.setInterval);function Tu(i,e){e.inputHandler=function(t){t.isFirst&&e(t)},i.on("hammer.input",e.inputHandler)}function e0(i,e){return e.inputHandler=function(t){t.isFinal&&e(t)},i.on("hammer.input",e.inputHandler)}var DT=function(){function i(e){L(this,i),this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},$e(this.options,this.defaultOptions),this.bindEventListeners()}return H(i,[{key:"bindEventListeners",value:function(){var e,t=this;this.body.emitter.once("resize",function(r){r.width!==0&&(t.body.view.translation.x=.5*r.width),r.height!==0&&(t.body.view.translation.y=.5*r.height)}),this.body.emitter.on("setSize",B(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()})}},{key:"setOptions",value:function(e){var t=this;if(e!==void 0&&Eo(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){var n=new ResizeObserver(function(){t.setSize()===!0&&t.body.emitter.emit("_requestRedraw")}),o=this.frame;n.observe(o),this._cleanupCallbacks.push(function(){n.unobserve(o)})}else{var s=CT(function(){t.setSize()===!0&&t.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(function(){clearInterval(s)})}var u=B(r=this._onResize).call(r,this);window.addEventListener("resize",u),this._cleanupCallbacks.push(function(){window.removeEventListener("resize",u)})}}},{key:"_cleanUp",value:function(){var e,t,r;Pe(e=rn(t=Vr(r=this._cleanupCallbacks).call(r,0)).call(t)).call(e,function(n){try{n()}catch(o){console.error(o)}})}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:"_setCameraState",value:function(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,r=this.cameraState.scale;e!=1&&t!=1?r=.5*this.cameraState.scale*(e+t):e!=1?r=this.cameraState.scale*e:t!=1&&(r=this.cameraState.scale*t),this.body.view.scale=r;var n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),o={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=o.x*this.body.view.scale,this.body.view.translation.y+=o.y*this.body.view.scale}}},{key:"_prepareValue",value:function(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(_e(e).call(e,"%")!==-1||_e(e).call(e,"px")!==-1)return e;if(_e(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new ko(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:ko.DIRECTION_ALL}),Tu(this.hammer,function(t){e.body.eventListeners.onTouch(t)}),this.hammer.on("tap",function(t){e.body.eventListeners.onTap(t)}),this.hammer.on("doubletap",function(t){e.body.eventListeners.onDoubleTap(t)}),this.hammer.on("press",function(t){e.body.eventListeners.onHold(t)}),this.hammer.on("panstart",function(t){e.body.eventListeners.onDragStart(t)}),this.hammer.on("panmove",function(t){e.body.eventListeners.onDrag(t)}),this.hammer.on("panend",function(t){e.body.eventListeners.onDragEnd(t)}),this.hammer.on("pinch",function(t){e.body.eventListeners.onPinch(t)}),this.frame.canvas.addEventListener("wheel",function(t){e.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("mousemove",function(t){e.body.eventListeners.onMouseMove(t)}),this.frame.canvas.addEventListener("contextmenu",function(t){e.body.eventListeners.onContext(t)}),this.hammerFrame=new ko(this.frame),e0(this.hammerFrame,function(t){e.body.eventListeners.onRelease(t)})}},{key:"setSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),t=this._prepareValue(t);var r=!1,n=this.frame.canvas.width,o=this.frame.canvas.height,s=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t)this._getCameraState(s),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},r=!0;else{var u=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),h=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===u&&this.frame.canvas.height===h||this._getCameraState(s),this.frame.canvas.width!==u&&(this.frame.canvas.width=u,r=!0),this.frame.canvas.height!==h&&(this.frame.canvas.height=h,r=!0)}return r===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,r}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");var t=1;return typeof window!="undefined"&&(t=window.devicePixelRatio||1),t/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),i}(),MT=function(){function i(e,t){var r,n,o=this;L(this,i),this.body=e,this.canvas=t,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",B(r=this.fit).call(r,this)),this.body.emitter.on("animationFinished",function(){o.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",B(n=this.releaseNode).call(n,this))}return H(i,[{key:"setOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}},{key:"fit",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];e=function(w,k){var O=$e({nodes:k,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},w!=null?w:{});if(!ke(O.nodes))throw new TypeError("Nodes has to be an array of ids.");if(O.nodes.length===0&&(O.nodes=k),!(typeof O.minZoomLevel=="number"&&O.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof O.maxZoomLevel=="number"&&O.minZoomLevel<=O.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return O}(e,this.body.nodeIndices);var r,n,o=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(o===0||s===0)n=1,r=Pt.getRange(this.body.nodes,e.nodes);else if(t===!0){var u=0;for(var h in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,h)&&this.body.nodes[h].predefinedPosition===!0&&(u+=1);if(u>.5*this.body.nodeIndices.length)return void this.fit(e,!1);r=Pt.getRange(this.body.nodes,e.nodes),n=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,n*=Math.min(o/600,s/600)}else{this.body.emitter.emit("_resizeNodes"),r=Pt.getRange(this.body.nodes,e.nodes);var v=o/(1.1*Math.abs(r.maxX-r.minX)),g=s/(1.1*Math.abs(r.maxY-r.minY));n=v<=g?v:g}n>e.maxZoomLevel?n=e.maxZoomLevel:n<e.minZoomLevel&&(n=e.minZoomLevel);var y={position:Pt.findCenter(r),scale:n,animation:e.animation};this.moveTo(y)}},{key:"focus",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){var r={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=r,t.lockedOnNode=e,this.moveTo(t)}else console.error("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function(e){if(e!==void 0){if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!vn(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!vn(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!vn(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!vn(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}else e={}}},{key:"animateView",value:function(e){if(e!==void 0){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var t,r,n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),o=n.x-e.position.x,s=n.y-e.position.y;this.targetTranslation={x:this.sourceTranslation.x+o*this.targetScale+e.offset.x,y:this.sourceTranslation.y+s*this.targetScale+e.offset.y},e.animation.duration===0?this.lockedOnNodeId!=null?(this.viewFunction=B(t=this._lockedRedraw).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=B(r=this._transitionRedraw).call(r,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var e=this.body.nodes[this.lockedOnNodeId].x,t=this.body.nodes[this.lockedOnNodeId].y,r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n=r.x-e,o=r.y-t,s=this.body.view.translation,u={x:s.x+n*this.body.view.scale+this.lockedOnNodeOffset.x,y:s.y+o*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=u}},{key:"releaseNode",value:function(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;var t=Rd[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},this.easingTime>=1){var r;this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null&&(this.viewFunction=B(r=this._lockedRedraw).call(r,this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished")}}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),i}();function t0(i){var e,t=i&&i.preventDefault||!1,r=i&&i.container||window,n={},o={keydown:{},keyup:{}},s={};for(e=97;e<=122;e++)s[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)s[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)s[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)s["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)s["num"+e]={code:96+e,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var u=function(g){v(g,"keydown")},h=function(g){v(g,"keyup")},v=function(g,y){if(o[y][g.keyCode]!==void 0){for(var w=o[y][g.keyCode],k=0;k<w.length;k++)(w[k].shift===void 0||w[k].shift==1&&g.shiftKey==1||w[k].shift==0&&g.shiftKey==0)&&w[k].fn(g);t==1&&g.preventDefault()}};return n.bind=function(g,y,w){if(w===void 0&&(w="keydown"),s[g]===void 0)throw new Error("unsupported key: "+g);o[w][s[g].code]===void 0&&(o[w][s[g].code]=[]),o[w][s[g].code].push({fn:y,shift:s[g].shift})},n.bindAll=function(g,y){for(var w in y===void 0&&(y="keydown"),s)s.hasOwnProperty(w)&&n.bind(w,g,y)},n.getKey=function(g){for(var y in s)if(s.hasOwnProperty(y)&&(g.shiftKey==1&&s[y].shift==1&&g.keyCode==s[y].code||g.shiftKey==0&&s[y].shift==0&&g.keyCode==s[y].code||g.keyCode==s[y].code&&y=="shift"))return y;return"unknown key, currently not supported"},n.unbind=function(g,y,w){if(w===void 0&&(w="keydown"),s[g]===void 0)throw new Error("unsupported key: "+g);if(y!==void 0){var k=[],O=o[w][s[g].code];if(O!==void 0)for(var x=0;x<O.length;x++)O[x].fn==y&&O[x].shift==s[g].shift||k.push(o[w][s[g].code][x]);o[w][s[g].code]=k}else o[w][s[g].code]=[]},n.reset=function(){o={keydown:{},keyup:{}}},n.destroy=function(){o={keydown:{},keyup:{}},r.removeEventListener("keydown",u,!0),r.removeEventListener("keyup",h,!0)},r.addEventListener("keydown",u,!0),r.addEventListener("keyup",h,!0),n}var r0=function(){function i(e,t){var r=this;L(this,i),this.body=e,this.canvas=t,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){r.activated=!0,r.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){r.activated=!1,r.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){r.keycharm!==void 0&&r.keycharm.destroy()}),this.options={}}return H(i,[{key:"setOptions",value:function(e){e!==void 0&&(this.options=e,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(this.navigationHammers.length!=0){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var t=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var n=0;n<t.length;n++){this.navigationDOM[t[n]]=document.createElement("div"),this.navigationDOM[t[n]].className="vis-button vis-"+t[n],this.navigationDOM.wrapper.appendChild(this.navigationDOM[t[n]]);var o,s,u=new ko(this.navigationDOM[t[n]]);r[n]==="_fit"?Tu(u,B(o=this._fit).call(o,this)):Tu(u,B(s=this.bindToRedraw).call(s,this,r[n])),this.navigationHammers.push(u)}var h=new ko(this.canvas.frame);e0(h,function(){e._stopMovement()}),this.navigationHammers.push(h),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){var t;this.boundFunctions[e]===void 0&&(this.boundFunctions[e]=B(t=this[e]).call(t,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var e=this.body.view.scale,t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,n=t/e,o=(1-n)*this.canvas.canvasViewCenter.x+r.x*n,s=(1-n)*this.canvas.canvasViewCenter.y+r.y*n;this.body.view.scale=t,this.body.view.translation={x:o,y:s},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var e=this.body.view.scale,t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,n=t/e,o=(1-n)*this.canvas.canvasViewCenter.x+r.x*n,s=(1-n)*this.canvas.canvasViewCenter.y+r.y*n;this.body.view.scale=t,this.body.view.translation={x:o,y:s},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var e,t,r,n,o,s,u,h,v,g,y,w,k,O,x,$,D,N,z,U,Z,ae,le,ie,Q=this;this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=t0({container:window,preventDefault:!0}):this.keycharm=t0({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0&&(B(e=this.keycharm).call(e,"up",function(){Q.bindToRedraw("_moveUp")},"keydown"),B(t=this.keycharm).call(t,"down",function(){Q.bindToRedraw("_moveDown")},"keydown"),B(r=this.keycharm).call(r,"left",function(){Q.bindToRedraw("_moveLeft")},"keydown"),B(n=this.keycharm).call(n,"right",function(){Q.bindToRedraw("_moveRight")},"keydown"),B(o=this.keycharm).call(o,"=",function(){Q.bindToRedraw("_zoomIn")},"keydown"),B(s=this.keycharm).call(s,"num+",function(){Q.bindToRedraw("_zoomIn")},"keydown"),B(u=this.keycharm).call(u,"num-",function(){Q.bindToRedraw("_zoomOut")},"keydown"),B(h=this.keycharm).call(h,"-",function(){Q.bindToRedraw("_zoomOut")},"keydown"),B(v=this.keycharm).call(v,"[",function(){Q.bindToRedraw("_zoomOut")},"keydown"),B(g=this.keycharm).call(g,"]",function(){Q.bindToRedraw("_zoomIn")},"keydown"),B(y=this.keycharm).call(y,"pageup",function(){Q.bindToRedraw("_zoomIn")},"keydown"),B(w=this.keycharm).call(w,"pagedown",function(){Q.bindToRedraw("_zoomOut")},"keydown"),B(k=this.keycharm).call(k,"up",function(){Q.unbindFromRedraw("_moveUp")},"keyup"),B(O=this.keycharm).call(O,"down",function(){Q.unbindFromRedraw("_moveDown")},"keyup"),B(x=this.keycharm).call(x,"left",function(){Q.unbindFromRedraw("_moveLeft")},"keyup"),B($=this.keycharm).call($,"right",function(){Q.unbindFromRedraw("_moveRight")},"keyup"),B(D=this.keycharm).call(D,"=",function(){Q.unbindFromRedraw("_zoomIn")},"keyup"),B(N=this.keycharm).call(N,"num+",function(){Q.unbindFromRedraw("_zoomIn")},"keyup"),B(z=this.keycharm).call(z,"num-",function(){Q.unbindFromRedraw("_zoomOut")},"keyup"),B(U=this.keycharm).call(U,"-",function(){Q.unbindFromRedraw("_zoomOut")},"keyup"),B(Z=this.keycharm).call(Z,"[",function(){Q.unbindFromRedraw("_zoomOut")},"keyup"),B(ae=this.keycharm).call(ae,"]",function(){Q.unbindFromRedraw("_zoomIn")},"keyup"),B(le=this.keycharm).call(le,"pageup",function(){Q.unbindFromRedraw("_zoomIn")},"keyup"),B(ie=this.keycharm).call(ie,"pagedown",function(){Q.unbindFromRedraw("_zoomOut")},"keyup")))}}]),i}();function ls(i,e){var t=pi!==void 0&&hi(i)||i["@@iterator"];if(!t){if(ke(i)||(t=function(h,v){var g;if(h){if(typeof h=="string")return i0(h,v);var y=ct(g=Object.prototype.toString.call(h)).call(g,8,-1);if(y==="Object"&&h.constructor&&(y=h.constructor.name),y==="Map"||y==="Set")return si(h);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return i0(h,v)}}(i))||e&&i&&typeof i.length=="number"){t&&(i=t);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(h){throw h},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,u=!1;return{s:function(){t=t.call(i)},n:function(){var h=t.next();return s=h.done,h},e:function(h){u=!0,o=h},f:function(){try{s||t.return==null||t.return()}finally{if(u)throw o}}}}function i0(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}var AT=function(){function i(e,t,r){var n,o,s,u,h,v,g,y,w,k,O,x,$;L(this,i),this.body=e,this.canvas=t,this.selectionHandler=r,this.navigationHandler=new r0(e,t),this.body.eventListeners.onTap=B(n=this.onTap).call(n,this),this.body.eventListeners.onTouch=B(o=this.onTouch).call(o,this),this.body.eventListeners.onDoubleTap=B(s=this.onDoubleTap).call(s,this),this.body.eventListeners.onHold=B(u=this.onHold).call(u,this),this.body.eventListeners.onDragStart=B(h=this.onDragStart).call(h,this),this.body.eventListeners.onDrag=B(v=this.onDrag).call(v,this),this.body.eventListeners.onDragEnd=B(g=this.onDragEnd).call(g,this),this.body.eventListeners.onMouseWheel=B(y=this.onMouseWheel).call(y,this),this.body.eventListeners.onPinch=B(w=this.onPinch).call(w,this),this.body.eventListeners.onMouseMove=B(k=this.onMouseMove).call(k,this),this.body.eventListeners.onRelease=B(O=this.onRelease).call(O,this),this.body.eventListeners.onContext=B(x=this.onContext).call(x,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=B($=this.getPointer).call($,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},$e(this.options,this.defaultOptions),this.bindEventListeners()}return H(i,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer})}},{key:"setOptions",value:function(e){e!==void 0&&(Ql(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),tr(this.options,e,"keyboard"),e.tooltip&&($e(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=Zl(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-(t=this.canvas.frame.canvas,t.getBoundingClientRect().left),y:e.y-vm(this.canvas.frame.canvas)};var t}},{key:"onTouch",value:function(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}},{key:"onTap",value:function(e){var t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t)}},{key:"onDoubleTap",value:function(e){var t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,t)}},{key:"onHold",value:function(e){var t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect;this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t),this.selectionHandler.generateClickEvent("hold",e,t)}},{key:"onRelease",value:function(e){if(new Date().valueOf()-this.touchTime>10){var t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,t),this.touchTime=new Date().valueOf()}}},{key:"onContext",value:function(e){var t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,t)}},{key:"checkSelectionChanges",value:function(e){(arguments.length>1&&arguments[1]!==void 0&&arguments[1])===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}},{key:"_determineDifference",value:function(e,t){var r=function(n,o){for(var s=[],u=0;u<n.length;u++){var h=n[u];_e(o).call(o,h)===-1&&s.push(h)}return s};return{nodes:r(e.nodes,t.nodes),edges:r(e.edges,t.edges)}}},{key:"onDragStart",value:function(e){if(!this.drag.dragging){this.drag.pointer===void 0&&this.onTouch(e);var t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=$e({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;var r=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)}}else if(t!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=t.id,t.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[t.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);var n,o=ls(this.selectionHandler.getSelectedNodes());try{for(o.s();!(n=o.n()).done;){var s=n.value,u={id:s.id,node:s,x:s.x,y:s.y,xFixed:s.options.fixed.x,yFixed:s.options.fixed.y};s.options.fixed.x=!0,s.options.fixed.y=!0,this.drag.selection.push(u)}}catch(h){o.e(h)}finally{o.f()}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(e){var t=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var r=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);var o=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;Pe(n).call(n,function(v){var g=v.node;v.xFixed===!1&&(g.x=t.canvas._XconvertDOMtoCanvas(t.canvas._XconvertCanvasToDOM(v.x)+o)),v.yFixed===!1&&(g.y=t.canvas._YconvertDOMtoCanvas(t.canvas._YconvertCanvasToDOM(v.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0)return void this.onDragStart(e);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0)return void this.onDragStart(e);var u=r.x-this.drag.pointer.x,h=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+u,y:this.drag.translation.y+h},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(e){var t=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;var n=this.body.selectionBox.position,o={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},s=jt(r=this.body.nodeIndices).call(r,function(v){var g=t.body.nodes[v];return g.x>=o.minX&&g.x<=o.maxX&&g.y>=o.minY&&g.y<=o.maxY});Pe(s).call(s,function(v){return t.selectionHandler.selectObject(t.body.nodes[v])});var u=this.getPointer(e.center);this.selectionHandler.commitAndEmit(u,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var h=this.drag.selection;h&&h.length?(Pe(h).call(h,function(v){v.node.options.fixed.x=v.xFixed,v.node.options.fixed.y=v.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(e){var t=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);var r=this.pinch.scale*e.scale;this.zoom(r,t)}},{key:"zoom",value:function(e,t){if(this.options.zoomView===!0){var r=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);var n=void 0;this.drag!==void 0&&this.drag.dragging===!0&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));var o=this.body.view.translation,s=e/r,u=(1-s)*t.x+o.x*s,h=(1-s)*t.y+o.y*s;if(this.body.view.scale=e,this.body.view.translation={x:u,y:h},n!=null){var v=this.canvas.canvasToDOM(n);this.drag.pointer.x=v.x,this.drag.pointer.y=v.y}this.body.emitter.emit("_requestRedraw"),r<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:t}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:t})}}},{key:"onMouseWheel",value:function(e){if(this.options.zoomView===!0){if(e.deltaY!==0){var t=this.body.view.scale;t*=1+(e.deltaY<0?1:-1)*(.1*this.options.zoomSpeed);var r=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(t,r)}e.preventDefault()}}},{key:"onMouseMove",value:function(e){var t=this,r=this.getPointer({x:e.clientX,y:e.clientY}),n=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Ir(function(){return t._checkShowPopup(r)},this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}},{key:"_checkShowPopup",value:function(e){var t=this.canvas._XconvertDOMtoCanvas(e.x),r=this.canvas._YconvertDOMtoCanvas(e.y),n={left:t,top:r,right:t,bottom:r},o=this.popupObj===void 0?void 0:this.popupObj.id,s=!1,u="node";if(this.popupObj===void 0){for(var h,v=this.body.nodeIndices,g=this.body.nodes,y=[],w=0;w<v.length;w++)(h=g[v[w]]).isOverlappingWith(n)===!0&&(s=!0,h.getTitle()!==void 0&&y.push(v[w]));y.length>0&&(this.popupObj=g[y[y.length-1]],s=!0)}if(this.popupObj===void 0&&s===!1){for(var k,O=this.body.edgeIndices,x=this.body.edges,$=[],D=0;D<O.length;D++)(k=x[O[D]]).isOverlappingWith(n)===!0&&k.connected===!0&&k.getTitle()!==void 0&&$.push(O[D]);$.length>0&&(this.popupObj=x[$[$.length-1]],u="edge")}this.popupObj!==void 0?this.popupObj.id!==o&&(this.popup===void 0&&(this.popup=new PS(this.canvas.frame)),this.popup.popupTargetType=u,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(e){var t=this.selectionHandler._pointerToPositionObject(e),r=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(r=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t))===!0){var n=this.selectionHandler.getNodeAt(e);r=n!==void 0&&n.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(r=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));r===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),i}();Qd("Set",function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},Ym);var On=A(ue.Set),NT=we,Ef=ou,Iu=Ja.getWeakData,RT=Yd,BT=Vt,FT=Mn,kf=ot,jT=Kd,n0=st,zT=_r.set,LT=_r.getterFor,HT=Ur.find,WT=Ur.findIndex,o0=NT([].splice),Of=0,$u=function(i){return i.frozen||(i.frozen=new a0)},a0=function(){this.entries=[]},Sf=function(i,e){return HT(i.entries,function(t){return t[0]===e})};a0.prototype={get:function(i){var e=Sf(this,i);if(e)return e[1]},has:function(i){return!!Sf(this,i)},set:function(i,e){var t=Sf(this,i);t?t[1]=e:this.entries.push([i,e])},delete:function(i){var e=WT(this.entries,function(t){return t[0]===i});return~e&&o0(this.entries,e,1),!!~e}};var us,UT={getConstructor:function(i,e,t,r){var n=i(function(h,v){RT(h,o),zT(h,{type:e,id:Of++,frozen:void 0}),FT(v)||jT(v,h[r],{that:h,AS_ENTRIES:t})}),o=n.prototype,s=LT(e),u=function(h,v,g){var y=s(h),w=Iu(BT(v),!0);return w===!0?$u(y).set(v,g):w[y.id]=g,h};return Ef(o,{delete:function(h){var v=s(this);if(!kf(h))return!1;var g=Iu(h);return g===!0?$u(v).delete(h):g&&n0(g,v.id)&&delete g[v.id]},has:function(h){var v=s(this);if(!kf(h))return!1;var g=Iu(h);return g===!0?$u(v).has(h):g&&n0(g,v.id)}}),Ef(o,t?{get:function(h){var v=s(this);if(kf(h)){var g=Iu(h);return g===!0?$u(v).get(h):g?g[v.id]:void 0}},set:function(h,v){return u(this,h,v)}}:{add:function(h){return u(this,h,!0)}}),n}},s0=Mm,Pu=Ie,hs=we,xf=ou,VT=Ja,qT=Qd,l0=UT,Cu=ot,cs=_r.enforce,u0=J,No=Hv,Ro=Object,h0=Array.isArray,Du=Ro.isExtensible,c0=Ro.isFrozen,GT=Ro.isSealed,d0=Ro.freeze,KT=Ro.seal,f0={},Tf={},YT=!Pu.ActiveXObject&&"ActiveXObject"in Pu,v0=function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},p0=qT("WeakMap",v0,l0),Bo=p0.prototype,Mu=hs(Bo.set);if(No)if(YT){us=l0.getConstructor(v0,"WeakMap",!0),VT.enable();var g0=hs(Bo.delete),Au=hs(Bo.has),y0=hs(Bo.get);xf(Bo,{delete:function(i){if(Cu(i)&&!Du(i)){var e=cs(this);return e.frozen||(e.frozen=new us),g0(this,i)||e.frozen.delete(i)}return g0(this,i)},has:function(i){if(Cu(i)&&!Du(i)){var e=cs(this);return e.frozen||(e.frozen=new us),Au(this,i)||e.frozen.has(i)}return Au(this,i)},get:function(i){if(Cu(i)&&!Du(i)){var e=cs(this);return e.frozen||(e.frozen=new us),Au(this,i)?y0(this,i):e.frozen.get(i)}return y0(this,i)},set:function(i,e){if(Cu(i)&&!Du(i)){var t=cs(this);t.frozen||(t.frozen=new us),Au(this,i)?Mu(this,i,e):t.frozen.set(i,e)}else Mu(this,i,e);return this}})}else s0&&u0(function(){var i=d0([]);return Mu(new p0,i,1),!c0(i)})&&xf(Bo,{set:function(i,e){var t;return h0(i)&&(c0(i)?t=f0:GT(i)&&(t=Tf)),Mu(this,i,e),t===f0&&d0(i),t===Tf&&KT(i),this}});var Ii,nr,$i,ei,Nu,ds=A(ue.WeakMap);function Me(i,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!r:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(i):r?r.value:e.get(i)}function If(i,e,t,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?i!==e||!n:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(i,t):n?n.value=t:e.set(i,t),t}function $f(i,e){var t=pi!==void 0&&hi(i)||i["@@iterator"];if(!t){if(ke(i)||(t=function(h,v){var g;if(h){if(typeof h=="string")return m0(h,v);var y=ct(g=Object.prototype.toString.call(h)).call(g,8,-1);if(y==="Object"&&h.constructor&&(y=h.constructor.name),y==="Map"||y==="Set")return si(h);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return m0(h,v)}}(i))||e&&i&&typeof i.length=="number"){t&&(i=t);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(h){throw h},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,u=!1;return{s:function(){t=t.call(i)},n:function(){var h=t.next();return s=h.done,h},e:function(h){u=!0,o=h},f:function(){try{s||t.return==null||t.return()}finally{if(u)throw o}}}}function m0(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}function b0(i,e){var t,r=new On,n=$f(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;i.has(o)||r.add(o)}}catch(s){n.e(s)}finally{n.f()}return r}typeof SuppressedError=="function"&&SuppressedError;var w0=function(){function i(){L(this,i),Ii.set(this,new On),nr.set(this,new On)}return H(i,[{key:"size",get:function(){return Me(this,nr,"f").size}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,o=t;n<o.length;n++){var s=o[n];Me(this,nr,"f").add(s)}}},{key:"delete",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,o=t;n<o.length;n++){var s=o[n];Me(this,nr,"f").delete(s)}}},{key:"clear",value:function(){Me(this,nr,"f").clear()}},{key:"getSelection",value:function(){return Tr(Me(this,nr,"f"))}},{key:"getChanges",value:function(){return{added:Tr(b0(Me(this,Ii,"f"),Me(this,nr,"f"))),deleted:Tr(b0(Me(this,nr,"f"),Me(this,Ii,"f"))),previous:Tr(new On(Me(this,Ii,"f"))),current:Tr(new On(Me(this,nr,"f")))}}},{key:"commit",value:function(){var e=this.getChanges();If(this,Ii,Me(this,nr,"f"),"f"),If(this,nr,new On(Me(this,Ii,"f")),"f");var t,r=$f(e.added);try{for(r.s();!(t=r.n()).done;)t.value.select()}catch(s){r.e(s)}finally{r.f()}var n,o=$f(e.deleted);try{for(o.s();!(n=o.n()).done;)n.value.unselect()}catch(s){o.e(s)}finally{o.f()}return e}}]),i}();Ii=new ds,nr=new ds;var _0=function(){function i(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};L(this,i),$i.set(this,new w0),ei.set(this,new w0),Nu.set(this,void 0),If(this,Nu,e,"f")}return H(i,[{key:"sizeNodes",get:function(){return Me(this,$i,"f").size}},{key:"sizeEdges",get:function(){return Me(this,ei,"f").size}},{key:"getNodes",value:function(){return Me(this,$i,"f").getSelection()}},{key:"getEdges",value:function(){return Me(this,ei,"f").getSelection()}},{key:"addNodes",value:function(){var e;(e=Me(this,$i,"f")).add.apply(e,arguments)}},{key:"addEdges",value:function(){var e;(e=Me(this,ei,"f")).add.apply(e,arguments)}},{key:"deleteNodes",value:function(e){Me(this,$i,"f").delete(e)}},{key:"deleteEdges",value:function(e){Me(this,ei,"f").delete(e)}},{key:"clear",value:function(){Me(this,$i,"f").clear(),Me(this,ei,"f").clear()}},{key:"commit",value:function(){for(var e,t,r={nodes:Me(this,$i,"f").commit(),edges:Me(this,ei,"f").commit()},n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=Me(this,Nu,"f")).call.apply(e,Al(t=[this,r]).call(t,o)),r}}]),i}();function E0(i,e){var t=pi!==void 0&&hi(i)||i["@@iterator"];if(!t){if(ke(i)||(t=function(h,v){var g;if(h){if(typeof h=="string")return k0(h,v);var y=ct(g=Object.prototype.toString.call(h)).call(g,8,-1);if(y==="Object"&&h.constructor&&(y=h.constructor.name),y==="Map"||y==="Set")return si(h);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return k0(h,v)}}(i))||e&&i&&typeof i.length=="number"){t&&(i=t);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(h){throw h},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,u=!1;return{s:function(){t=t.call(i)},n:function(){var h=t.next();return s=h.done,h},e:function(h){u=!0,o=h},f:function(){try{s||t.return==null||t.return()}finally{if(u)throw o}}}}function k0(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}$i=new ds,ei=new ds,Nu=new ds;var XT=function(){function i(e,t){var r=this;L(this,i),this.body=e,this.canvas=t,this._selectionAccumulator=new _0,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},$e(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){r.updateSelection()})}return H(i,[{key:"setOptions",value:function(e){e!==void 0&&Eo(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}},{key:"selectOnPoint",value:function(e){var t=!1;if(this.options.selectable===!0){var r=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),r!==void 0&&(t=this.selectObject(r)),this.body.emitter.emit("_requestRedraw")}return t}},{key:"selectAdditionalOnPoint",value:function(e){var t=!1;if(this.options.selectable===!0){var r=this.getNodeAt(e)||this.getEdgeAt(e);r!==void 0&&(t=!0,r.isSelected()===!0?this.deselectObject(r):this.selectObject(r),this.body.emitter.emit("_requestRedraw"))}return t}},{key:"_initBaseEvent",value:function(e,t){var r={};return r.pointer={DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},r.event=e,r}},{key:"generateClickEvent",value:function(e,t,r,n){var o=arguments.length>4&&arguments[4]!==void 0&&arguments[4],s=this._initBaseEvent(t,r);if(o===!0)s.nodes=[],s.edges=[];else{var u=this.getSelection();s.nodes=u.nodes,s.edges=u.edges}n!==void 0&&(s.previousSelection=n),e=="click"&&(s.items=this.getClickedItems(r)),t.controlEdge!==void 0&&(s.controlEdge=t.controlEdge),this.body.emitter.emit(e,s)}},{key:"selectObject",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;if(e!==void 0){if(e instanceof $t){var r;t===!0&&(r=this._selectionAccumulator).addEdges.apply(r,Tr(e.edges)),this._selectionAccumulator.addNodes(e)}else this._selectionAccumulator.addEdges(e);return!0}return!1}},{key:"deselectObject",value:function(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var t=[],r=this.body.nodes,n=0;n<this.body.nodeIndices.length;n++){var o=this.body.nodeIndices[n];r[o].isOverlappingWith(e)&&t.push(o)}return t}},{key:"_pointerToPositionObject",value:function(e){var t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}},{key:"getNodeAt",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this._pointerToPositionObject(e),n=this._getAllNodesOverlappingWith(r);return n.length>0?t===!0?this.body.nodes[n[n.length-1]]:n[n.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(e,t){for(var r=this.body.edges,n=0;n<this.body.edgeIndices.length;n++){var o=this.body.edgeIndices[n];r[o].isOverlappingWith(e)&&t.push(o)}}},{key:"_getAllEdgesOverlappingWith",value:function(e){var t=[];return this._getEdgesOverlappingWith(e,t),t}},{key:"getEdgeAt",value:function(e){for(var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.canvas.DOMtoCanvas(e),n=10,o=null,s=this.body.edges,u=0;u<this.body.edgeIndices.length;u++){var h=this.body.edgeIndices[u],v=s[h];if(v.connected){var g=v.from.x,y=v.from.y,w=v.to.x,k=v.to.y,O=v.edgeType.getDistanceToEdge(g,y,w,k,r.x,r.y);O<n&&(o=h,n=O)}}return o!==null?t===!0?this.body.edges[o]:o:void 0}},{key:"_addToHover",value:function(e){e instanceof $t?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){var t;e instanceof $t?(this._selectionAccumulator.deleteNodes(e),(t=this._selectionAccumulator).deleteEdges.apply(t,Tr(e.edges))):this._selectionAccumulator.deleteEdges(e)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var r=e.edges[t];r.hover=!0,this._addToHover(r)}}},{key:"emitBlurEvent",value:function(e,t,r){var n=this._initBaseEvent(e,t);r.hover===!0&&(r.hover=!1,r instanceof $t?(n.node=r.id,this.body.emitter.emit("blurNode",n)):(n.edge=r.id,this.body.emitter.emit("blurEdge",n)))}},{key:"emitHoverEvent",value:function(e,t,r){var n=this._initBaseEvent(e,t),o=!1;return r.hover===!1&&(r.hover=!0,this._addToHover(r),o=!0,r instanceof $t?(n.node=r.id,this.body.emitter.emit("hoverNode",n)):(n.edge=r.id,this.body.emitter.emit("hoverEdge",n))),o}},{key:"hoverObject",value:function(e,t){var r=this.getNodeAt(t);r===void 0&&(r=this.getEdgeAt(t));var n=!1;for(var o in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,o)&&(r===void 0||r instanceof $t&&r.id!=o||r instanceof Ao)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[o]),delete this.hoverObj.nodes[o],n=!0);for(var s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(n===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(r===void 0||r instanceof Ao&&r.id!=s||r instanceof $t&&!r.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],n=!0));if(r!==void 0){var u=qe(this.hoverObj.edges).length,h=qe(this.hoverObj.nodes).length;(n||r instanceof Ao&&u===0&&h===0||r instanceof $t&&u===0&&h===0)&&(n=this.emitHoverEvent(e,t,r)),r instanceof $t&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(r)}n===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(e,t){var r=!1,n=this._selectionAccumulator.commit(),o={nodes:n.nodes.previous,edges:n.edges.previous};n.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",t,e,o),r=!0),n.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",t,e,o),r=!0),n.nodes.added.length>0&&(this.generateClickEvent("selectNode",t,e),r=!0),n.edges.added.length>0&&(this.generateClickEvent("selectEdge",t,e),r=!0),r===!0&&this.generateClickEvent("select",t,e)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var e;return en(e=this._selectionAccumulator.getNodes()).call(e,function(t){return t.id})}},{key:"getSelectedEdgeIds",value:function(){var e;return en(e=this._selectionAccumulator.getEdges()).call(e,function(t){return t.id})}},{key:"setSelection",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((t.unselectAll||t.unselectAll===void 0)&&this.unselectAll(),e.nodes){var r,n=E0(e.nodes);try{for(n.s();!(r=n.n()).done;){var o=r.value,s=this.body.nodes[o];if(!s)throw new RangeError('Node with id "'+o+'" not found');this.selectObject(s,t.highlightEdges)}}catch(y){n.e(y)}finally{n.f()}}if(e.edges){var u,h=E0(e.edges);try{for(h.s();!(u=h.n()).done;){var v=u.value,g=this.body.edges[v];if(!g)throw new RangeError('Edge with id "'+v+'" not found');this.selectObject(g)}}catch(y){h.e(y)}finally{h.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:t})}},{key:"selectEdges",value:function(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function(){for(var e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(var t in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,t.id)||this._selectionAccumulator.deleteEdges(t)}},{key:"getClickedItems",value:function(e){for(var t=this.canvas.DOMtoCanvas(e),r=[],n=this.body.nodeIndices,o=this.body.nodes,s=n.length-1;s>=0;s--){var u=o[n[s]].getItemsOnPoint(t);r.push.apply(r,u)}for(var h=this.body.edgeIndices,v=this.body.edges,g=h.length-1;g>=0;g--){var y=v[h[g]].getItemsOnPoint(t);r.push.apply(r,y)}return r}}]),i}(),O0=pc,QT=Math.floor,Pf=function(i,e){var t=i.length,r=QT(t/2);return t<8?JT(i,e):S0(i,Pf(O0(i,0,r),e),Pf(O0(i,r),e),e)},JT=function(i,e){for(var t,r,n=i.length,o=1;o<n;){for(r=o,t=i[o];r&&e(i[r-1],t)>0;)i[r]=i[--r];r!==o++&&(i[r]=t)}return i},S0=function(i,e,t,r){for(var n=e.length,o=t.length,s=0,u=0;s<n||u<o;)i[s+u]=s<n&&u<o?r(e[s],t[u])<=0?e[s++]:t[u++]:s<n?e[s++]:t[u++];return i},ZT=Pf,x0=Bi.match(/firefox\/(\d+)/i),T0=!!x0&&+x0[1],eI=/MSIE|Trident/.test(Bi),fs=Bi.match(/AppleWebKit\/(\d+)\./),I0=!!fs&&+fs[1],Sn=Y,$0=we,tI=zi,rI=At,P0=Yt,iI=ny,vs=Xt,Cf=J,C0=ZT,Df=vo,Ru=T0,nI=eI,D0=Fi,M0=I0,Pi=[],A0=$0(Pi.sort),oI=$0(Pi.push),Bu=Cf(function(){Pi.sort(void 0)}),aI=Cf(function(){Pi.sort(null)}),Fo=Df("sort"),Fu=!Cf(function(){if(D0)return D0<70;if(!(Ru&&Ru>3)){if(nI)return!0;if(M0)return M0<603;var i,e,t,r,n="";for(i=65;i<76;i++){switch(e=String.fromCharCode(i),i){case 66:case 69:case 70:case 72:t=3;break;case 68:case 71:t=4;break;default:t=2}for(r=0;r<47;r++)Pi.push({k:e+r,v:t})}for(Pi.sort(function(o,s){return s.v-o.v}),r=0;r<Pi.length;r++)e=Pi[r].k.charAt(0),n.charAt(n.length-1)!==e&&(n+=e);return n!=="DGBEFHACIJK"}});Sn({target:"Array",proto:!0,forced:Bu||!aI||!Fo||!Fu},{sort:function(i){i!==void 0&&tI(i);var e=rI(this);if(Fu)return i===void 0?A0(e):A0(e,i);var t,r,n=[],o=P0(e);for(r=0;r<o;r++)r in e&&oI(n,e[r]);for(C0(n,function(s){return function(u,h){return h===void 0?-1:u===void 0?1:s!==void 0?+s(u,h)||0:vs(u)>vs(h)?1:-1}}(i)),t=P0(n),r=0;r<t;)e[r]=n[r++];for(;r<o;)iI(e,r++);return e}});var sI=lt("Array").sort,lI=je,uI=sI,Mf=Array.prototype,N0=function(i){var e=i.sort;return i===Mf||lI(Mf,i)&&e===Mf.sort?uI:e},jo=A(N0),hI=zi,cI=At,Af=xs,R0=Yt,dI=TypeError,B0=function(i){return function(e,t,r,n){hI(t);var o=cI(e),s=Af(o),u=R0(o),h=i?u-1:0,v=i?-1:1;if(r<2)for(;;){if(h in s){n=s[h],h+=v;break}if(h+=v,i?h<0:u<=h)throw new dI("Reduce of empty array with no initial value")}for(;i?h>=0:u>h;h+=v)h in s&&(n=t(n,s[h],h,o));return n}},fI={left:B0(!1),right:B0(!0)},vI=Br(Ie.process)==="process",F0=fI.left;Y({target:"Array",proto:!0,forced:!vI&&Fi>79&&Fi<83||!vo("reduce")},{reduce:function(i){var e=arguments.length;return F0(this,i,e,e>1?arguments[1]:void 0)}});var pI=lt("Array").reduce,j0=je,Gt=pI,Nf=Array.prototype,gI=function(i){var e=i.reduce;return i===Nf||j0(Nf,i)&&e===Nf.reduce?Gt:e},Rf=A(gI);function z0(i){var e=function(){if(typeof Reflect=="undefined"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=K(i);if(e){var n=K(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return Oe(this,t)}}var Bf=function(){function i(){L(this,i)}return H(i,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(e){return this.fake_use(e),this.abstract()}},{key:"setPosition",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,t,r),this.abstract()}},{key:"getTreeSize",value:function(e){return this.fake_use(e),this.abstract()}},{key:"sort",value:function(e){this.fake_use(e),this.abstract()}},{key:"fix",value:function(e,t){this.fake_use(e,t),this.abstract()}},{key:"shift",value:function(e,t){this.fake_use(e,t),this.abstract()}}]),i}(),L0=function(i){Ee(t,i);var e=z0(t);function t(r){var n;return L(this,t),(n=e.call(this)).layout=r,n}return H(t,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(r){return r.x}},{key:"setPosition",value:function(r,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;o!==void 0&&this.layout.hierarchical.addToOrdering(r,o),r.x=n}},{key:"getTreeSize",value:function(r){var n=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,r);return{min:n.min_x,max:n.max_x}}},{key:"sort",value:function(r){jo(r).call(r,function(n,o){return n.x-o.x})}},{key:"fix",value:function(r,n){r.y=this.layout.options.hierarchical.levelSeparation*n,r.options.fixed.y=!0}},{key:"shift",value:function(r,n){this.layout.body.nodes[r].x+=n}}]),t}(Bf),yI=function(i){Ee(t,i);var e=z0(t);function t(r){var n;return L(this,t),(n=e.call(this)).layout=r,n}return H(t,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(r){return r.y}},{key:"setPosition",value:function(r,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;o!==void 0&&this.layout.hierarchical.addToOrdering(r,o),r.y=n}},{key:"getTreeSize",value:function(r){var n=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,r);return{min:n.min_y,max:n.max_y}}},{key:"sort",value:function(r){jo(r).call(r,function(n,o){return n.y-o.y})}},{key:"fix",value:function(r,n){r.x=this.layout.options.hierarchical.levelSeparation*n,r.options.fixed.x=!0}},{key:"shift",value:function(r,n){this.layout.body.nodes[r].y+=n}}]),t}(Bf),H0=Ur.every;Y({target:"Array",proto:!0,forced:!vo("every")},{every:function(i){return H0(this,i,arguments.length>1?arguments[1]:void 0)}});var mI=lt("Array").every,bI=je,wI=mI,ps=Array.prototype,Ff=function(i){var e=i.every;return i===ps||bI(ps,i)&&e===ps.every?wI:e},W0=A(Ff);function jf(i,e){var t=pi!==void 0&&hi(i)||i["@@iterator"];if(!t){if(ke(i)||(t=function(h,v){var g;if(h){if(typeof h=="string")return U0(h,v);var y=ct(g=Object.prototype.toString.call(h)).call(g,8,-1);if(y==="Object"&&h.constructor&&(y=h.constructor.name),y==="Map"||y==="Set")return si(h);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return U0(h,v)}}(i))||e&&i&&typeof i.length=="number"){t&&(i=t);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(h){throw h},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,u=!1;return{s:function(){t=t.call(i)},n:function(){var h=t.next();return s=h.done,h},e:function(h){u=!0,o=h},f:function(){try{s||t.return==null||t.return()}finally{if(u)throw o}}}}function U0(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}function V0(i,e){var t=new On;return Pe(i).call(i,function(r){var n;Pe(n=r.edges).call(n,function(o){o.connected&&t.add(o)})}),Pe(t).call(t,function(r){var n=r.from.id,o=r.to.id;e[n]==null&&(e[n]=0),(e[o]==null||e[n]>=e[o])&&(e[o]=e[n]+1)}),e}function q0(i,e,t,r){var n,o,s=nn(null),u=Rf(n=Tr(ab(r).call(r))).call(n,function(k,O){return k+1+O.edges.length},0),h=t+"Id",v=t==="to"?1:-1,g=jf(r);try{var y,w=function(){var k=Ve(o.value,2),O=k[0],x=k[1];if(!r.has(O)||!i(x))return 0;s[O]=0;for(var $,D,N=[x],z=0,U=function(){var Z,ae;if(!r.has(O))return 0;var le=s[$.id]+v;if(Pe(Z=jt(ae=$.edges).call(ae,function(ie){return ie.connected&&ie.to!==ie.from&&ie[t]!==$&&r.has(ie.toId)&&r.has(ie.fromId)})).call(Z,function(ie){var Q=ie[h],Se=s[Q];(Se==null||e(le,Se))&&(s[Q]=le,N.push(ie[t]))}),z>u)return{v:{v:V0(r,s)}};++z};$=N.pop();)if((D=U())!==0&&D)return D.v};for(g.s();!(o=g.n()).done;)if((y=w())!==0&&y)return y.v}catch(k){g.e(k)}finally{g.f()}return s}var zf=function(){function i(){L(this,i),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return H(i,[{key:"addRelation",value:function(e,t){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),this.parentReference[t]===void 0&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}},{key:"checkIfTree",value:function(){for(var e in this.parentReference)if(this.parentReference[e].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(e,t){t!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=t,this.treeIndex=Math.max(t,this.treeIndex))}},{key:"ensureLevel",value:function(e){this.levels[e]===void 0&&(this.levels[e]=0)}},{key:"getMaxLevel",value:function(e){var t=this,r={};return function n(o){if(r[o]!==void 0)return r[o];var s=t.levels[o];if(t.childrenReference[o]){var u=t.childrenReference[o];if(u.length>0)for(var h=0;h<u.length;h++)s=Math.max(s,n(u[h]))}return r[o]=s,s}(e)}},{key:"levelDownstream",value:function(e,t){this.levels[t.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}},{key:"setMinLevelToZero",value:function(e){var t=1e9;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.levels[r]!==void 0&&(t=Math.min(this.levels[r],t));for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.levels[n]!==void 0&&(this.levels[n]-=t)}},{key:"getTreeSize",value:function(e,t){var r=1e9,n=-1e9,o=1e9,s=-1e9;for(var u in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,u)&&this.trees[u]===t){var h=e[u];r=Math.min(h.x,r),n=Math.max(h.x,n),o=Math.min(h.y,o),s=Math.max(h.y,s)}return{min_x:r,max_x:n,min_y:o,max_y:s}}},{key:"hasSameParent",value:function(e,t){var r=this.parentReference[e.id],n=this.parentReference[t.id];if(r===void 0||n===void 0)return!1;for(var o=0;o<r.length;o++)for(var s=0;s<n.length;s++)if(r[o]==n[s])return!0;return!1}},{key:"inSameSubNetwork",value:function(e,t){return this.trees[e.id]===this.trees[t.id]}},{key:"getLevels",value:function(){return qe(this.distributionOrdering)}},{key:"addToOrdering",value:function(e,t){this.distributionOrdering[t]===void 0&&(this.distributionOrdering[t]=[]);var r=!1,n=this.distributionOrdering[t];for(var o in n)if(n[o]===e){r=!0;break}r||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}]),i}(),gs=function(){function i(e){L(this,i),this.body=e,this._resetRNG(Math.random()+":"+Nl()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},$e(this.options,this.defaultOptions),this.bindEventListeners()}return H(i,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){e.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(e.options.hierarchical.enabled===!0){var t=e.direction.curveType();e.body.emitter.emit("_forceDisableDynamicCurves",t,!1)}})}},{key:"setOptions",value:function(e,t){if(e!==void 0){var r=this.options.hierarchical,n=r.enabled;if(Eo(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),tr(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),r.enabled===!0)return n===!0&&this.body.emitter.emit("refresh",!0),r.direction==="RL"||r.direction==="DU"?r.levelSeparation>0&&(r.levelSeparation*=-1):r.levelSeparation<0&&(r.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(n===!0)return this.body.emitter.emit("refresh"),De(t,this.optionsBackup)}return t}},{key:"_resetRNG",value:function(e){this.initialRandomSeed=e,this._rng=Xl(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(e){if(this.options.hierarchical.enabled===!0){var t=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:t.enabled===void 0||t.enabled,solver:"hierarchicalRepulsion"},t.enabled=t.enabled===void 0||t.enabled,t.solver=t.solver||"barnesHut"):xe(e.physics)==="object"?(t.enabled=e.physics.enabled===void 0||e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});var r=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:r};else{var n=e.edges.smooth;n.type!==void 0&&n.type!=="dynamic"&&(r=n.type),this.optionsBackup.edges={smooth:{enabled:n.enabled===void 0||n.enabled,type:n.type===void 0?"dynamic":n.type,roundness:n.roundness===void 0?.5:n.roundness,forceDirection:n.forceDirection!==void 0&&n.forceDirection}},e.edges.smooth={enabled:n.enabled===void 0||n.enabled,type:r,roundness:n.roundness===void 0?.5:n.roundness,forceDirection:n.forceDirection!==void 0&&n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",r)}return e}},{key:"positionInitially",value:function(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);for(var t=e.length+50,r=0;r<e.length;r++){var n=e[r],o=2*Math.PI*this._rng();n.x===void 0&&(n.x=t*Math.cos(o)),n.y===void 0&&(n.y=t*Math.sin(o))}}}},{key:"layoutNetwork",value:function(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){for(var e=this.body.nodeIndices,t=0,r=0;r<e.length;r++)this.body.nodes[e[r]].predefinedPosition===!0&&(t+=1);if(t<.5*e.length){var n=0,o=this.options.clusterThreshold,s={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>o){for(var u=e.length;e.length>o&&n<=10;){n+=1;var h=e.length;if(n%3==0?this.body.modules.clustering.clusterBridges(s):this.body.modules.clustering.clusterOutliers(s),h==e.length&&n%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*u)})}n>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();for(var v=0;v<e.length;v++){var g=this.body.nodes[e[v]];g.predefinedPosition===!1&&(g.x+=70*(.5-this._rng()),g.y+=70*(.5-this._rng()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var e=Pt.getRangeCore(this.body.nodes,this.body.nodeIndices),t=Pt.findCenter(e),r=0;r<this.body.nodeIndices.length;r++){var n=this.body.nodes[this.body.nodeIndices[r]];n.x-=t.x,n.y-=t.y}}},{key:"_declusterAll",value:function(){for(var e=!0;e===!0;){e=!1;for(var t=0;t<this.body.nodeIndices.length;t++)this.body.nodes[this.body.nodeIndices[t]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var e,t,r=!1,n=!1;for(t in this.lastNodeOnLevel={},this.hierarchical=new zf,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&((e=this.body.nodes[t]).options.level!==void 0?(r=!0,this.hierarchical.levels[t]=e.options.level):n=!0);if(n===!0&&r===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(n===!0){var o=this.options.hierarchical.sortMethod;o==="hubsize"?this._determineLevelsByHubsize():o==="directed"?this._determineLevelsDirected():o==="custom"&&this._determineLevelsCustomCallback()}for(var s in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,s)&&this.hierarchical.ensureLevel(s);var u=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(u),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var e=this,t=!1,r={},n=function(y,w){var k=e.hierarchical.trees;for(var O in k)Object.prototype.hasOwnProperty.call(k,O)&&k[O]===y&&e.direction.shift(O,w)},o=function(){for(var y=[],w=0;w<e.hierarchical.numTrees();w++)y.push(e.direction.getTreeSize(w));return y},s=function y(w,k){if(!k[w.id]&&(k[w.id]=!0,e.hierarchical.childrenReference[w.id])){var O=e.hierarchical.childrenReference[w.id];if(O.length>0)for(var x=0;x<O.length;x++)y(e.body.nodes[O[x]],k)}},u=function(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,k=1e9,O=1e9,x=1e9,$=-1e9;for(var D in y)if(Object.prototype.hasOwnProperty.call(y,D)){var N=e.body.nodes[D],z=e.hierarchical.levels[N.id],U=e.direction.getPosition(N),Z=Ve(e._getSpaceAroundNode(N,y),2),ae=Z[0],le=Z[1];k=Math.min(ae,k),O=Math.min(le,O),z<=w&&(x=Math.min(U,x),$=Math.max(U,$))}return[x,$,k,O]},h=function(y,w,k){for(var O=e.hierarchical,x=0;x<w.length;x++){var $=w[x],D=O.distributionOrdering[$];if(D.length>1)for(var N=0;N<D.length-1;N++){var z=D[N],U=D[N+1];O.hasSameParent(z,U)&&O.inSameSubNetwork(z,U)&&y(z,U,k)}}},v=function(y,w){var k=arguments.length>2&&arguments[2]!==void 0&&arguments[2],O=e.direction.getPosition(y),x=e.direction.getPosition(w),$=Math.abs(x-O),D=e.options.hierarchical.nodeSpacing;if($>D){var N={},z={};s(y,N),s(w,z);var U=function(me,Te){var Fe=e.hierarchical.getMaxLevel(me.id),Be=e.hierarchical.getMaxLevel(Te.id);return Math.min(Fe,Be)}(y,w),Z=u(N,U),ae=u(z,U),le=Z[1],ie=ae[0],Q=ae[2];if(Math.abs(le-ie)>D){var Se=le-ie+D;Se<-Q+D&&(Se=-Q+D),Se<0&&(e._shiftBlock(w.id,Se),t=!0,k===!0&&e._centerParent(w))}}},g=function(y,w){for(var k=w.id,O=w.edges,x=e.hierarchical.levels[w.id],$=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,D={},N=[],z=0;z<O.length;z++){var U=O[z];if(U.toId!=U.fromId){var Z=U.toId==k?U.from:U.to;D[O[z].id]=Z,e.hierarchical.levels[Z.id]<x&&N.push(U)}}var ae=function(Se,me){for(var Te=0,Fe=0;Fe<me.length;Fe++)if(D[me[Fe].id]!==void 0){var Be=e.direction.getPosition(D[me[Fe].id])-Se;Te+=Be/Math.sqrt(Be*Be+$)}return Te},le=function(Se,me){for(var Te=0,Fe=0;Fe<me.length;Fe++)if(D[me[Fe].id]!==void 0){var Be=e.direction.getPosition(D[me[Fe].id])-Se;Te-=$*Math.pow(Be*Be+$,-1.5)}return Te},ie=function(Se,me){for(var Te=e.direction.getPosition(w),Fe={},Be=0;Be<Se;Be++){var or=ae(Te,me),rt=le(Te,me);if(Fe[Te-=Math.max(-40,Math.min(40,Math.round(or/rt)))]!==void 0)break;Fe[Te]=Be}return Te},Q=ie(y,N);(function(Se){var me=e.direction.getPosition(w);if(r[w.id]===void 0){var Te={};s(w,Te),r[w.id]=Te}var Fe=u(r[w.id]),Be=Fe[2],or=Fe[3],rt=Se-me,Hu=0;rt>0?Hu=Math.min(rt,or-e.options.hierarchical.nodeSpacing):rt<0&&(Hu=-Math.min(-rt,Be-e.options.hierarchical.nodeSpacing)),Hu!=0&&(e._shiftBlock(w.id,Hu),t=!0)})(Q),function(Se){var me=e.direction.getPosition(w),Te=Ve(e._getSpaceAroundNode(w),2),Fe=Te[0],Be=Te[1],or=Se-me,rt=me;or>0?rt=Math.min(me+(Be-e.options.hierarchical.nodeSpacing),Se):or<0&&(rt=Math.max(me-(Fe-e.options.hierarchical.nodeSpacing),Se)),rt!==me&&(e.direction.setPosition(w,rt),t=!0)}(Q=ie(y,O))};this.options.hierarchical.blockShifting===!0&&(function(y){var w=e.hierarchical.getLevels();w=rn(w).call(w);for(var k=0;k<y&&(t=!1,h(v,w,!0),t===!0);k++);}(5),function(){for(var y in e.body.nodes)Object.prototype.hasOwnProperty.call(e.body.nodes,y)&&e._centerParent(e.body.nodes[y])}()),this.options.hierarchical.edgeMinimization===!0&&function(y){var w=e.hierarchical.getLevels();w=rn(w).call(w);for(var k=0;k<y;k++){t=!1;for(var O=0;O<w.length;O++)for(var x=w[O],$=e.hierarchical.distributionOrdering[x],D=0;D<$.length;D++)g(1e3,$[D]);if(t!==!0)break}}(20),this.options.hierarchical.parentCentralization===!0&&function(){var y=e.hierarchical.getLevels();y=rn(y).call(y);for(var w=0;w<y.length;w++)for(var k=y[w],O=e.hierarchical.distributionOrdering[k],x=0;x<O.length;x++)e._centerParent(O[x])}(),function(){for(var y=o(),w=0,k=0;k<y.length-1;k++)w+=y[k].max-y[k+1].min+e.options.hierarchical.treeSpacing,n(k+1,w)}()}},{key:"_getSpaceAroundNode",value:function(e,t){var r=!0;t===void 0&&(r=!1);var n=this.hierarchical.levels[e.id];if(n!==void 0){var o=this.hierarchical.distributionIndex[e.id],s=this.direction.getPosition(e),u=this.hierarchical.distributionOrdering[n],h=1e9,v=1e9;if(o!==0){var g=u[o-1];(r===!0&&t[g.id]===void 0||r===!1)&&(h=s-this.direction.getPosition(g))}if(o!=u.length-1){var y=u[o+1];if(r===!0&&t[y.id]===void 0||r===!1){var w=this.direction.getPosition(y);v=Math.min(v,w-s)}}return[h,v]}return[0,0]}},{key:"_centerParent",value:function(e){if(this.hierarchical.parentReference[e.id])for(var t=this.hierarchical.parentReference[e.id],r=0;r<t.length;r++){var n=t[r],o=this.body.nodes[n],s=this.hierarchical.childrenReference[n];if(s!==void 0){var u=this._getCenterPosition(s),h=this.direction.getPosition(o),v=Ve(this._getSpaceAroundNode(o),2),g=v[0],y=v[1],w=h-u;(w<0&&Math.abs(w)<y-this.options.hierarchical.nodeSpacing||w>0&&Math.abs(w)<g-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(o,u)}}}},{key:"_placeNodesByHierarchy",value:function(e){for(var t in this.positionedNodes={},e)if(Object.prototype.hasOwnProperty.call(e,t)){var r,n=qe(e[t]);n=this._indexArrayToNodes(n),jo(r=this.direction).call(r,n);for(var o=0,s=0;s<n.length;s++){var u=n[s];if(this.positionedNodes[u.id]===void 0){var h=this.options.hierarchical.nodeSpacing,v=h*o;o>0&&(v=this.direction.getPosition(n[s-1])+h),this.direction.setPosition(u,v,t),this._validatePositionAndContinue(u,t,v),o++}}}}},{key:"_placeBranchNodes",value:function(e,t){var r,n=this.hierarchical.childrenReference[e];if(n!==void 0){for(var o=[],s=0;s<n.length;s++)o.push(this.body.nodes[n[s]]);jo(r=this.direction).call(r,o);for(var u=0;u<o.length;u++){var h=o[u],v=this.hierarchical.levels[h.id];if(!(v>t&&this.positionedNodes[h.id]===void 0))return;var g=this.options.hierarchical.nodeSpacing,y=void 0;y=u===0?this.direction.getPosition(this.body.nodes[e]):this.direction.getPosition(o[u-1])+g,this.direction.setPosition(h,y,v),this._validatePositionAndContinue(h,v,y)}var w=this._getCenterPosition(o);this.direction.setPosition(this.body.nodes[e],w,t)}}},{key:"_validatePositionAndContinue",value:function(e,t,r){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[t]!==void 0){var n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(r-n<this.options.hierarchical.nodeSpacing){var o=n+this.options.hierarchical.nodeSpacing-r,s=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(s.withChild,o)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}},{key:"_indexArrayToNodes",value:function(e){for(var t=[],r=0;r<e.length;r++)t.push(this.body.nodes[e[r]]);return t}},{key:"_getDistribution",value:function(){var e,t,r={};for(e in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,e)){t=this.body.nodes[e];var n=this.hierarchical.levels[e]===void 0?0:this.hierarchical.levels[e];this.direction.fix(t,n),r[n]===void 0&&(r[n]={}),r[n][e]=t}return r}},{key:"_getActiveEdges",value:function(e){var t=this,r=[];return pe(e.edges,function(n){var o;_e(o=t.body.edgeIndices).call(o,n.id)!==-1&&r.push(n)}),r}},{key:"_getHubSizes",value:function(){var e=this,t={};pe(this.body.nodeIndices,function(n){var o=e.body.nodes[n],s=e._getActiveEdges(o).length;t[s]=!0});var r=[];return pe(t,function(n){r.push(Number(n))}),jo(r).call(r,function(n,o){return o-n}),r}},{key:"_determineLevelsByHubsize",value:function(){for(var e=this,t=function(s,u){e.hierarchical.levelDownstream(s,u)},r=this._getHubSizes(),n=function(){var s=r[o];if(s===0)return 1;pe(e.body.nodeIndices,function(u){var h=e.body.nodes[u];s===e._getActiveEdges(h).length&&e._crawlNetwork(t,u)})},o=0;o<r.length&&!n();++o);}},{key:"_determineLevelsCustomCallback",value:function(){var e=this;this._crawlNetwork(function(t,r,n){var o=e.hierarchical.levels[t.id];o===void 0&&(o=e.hierarchical.levels[t.id]=1e5);var s=(Pt.cloneOptions(t,"node"),Pt.cloneOptions(r,"node"),void Pt.cloneOptions(n,"edge"));e.hierarchical.levels[r.id]=o+s}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var e,t=this,r=Rf(e=this.body.nodeIndices).call(e,function(n,o){return n.set(o,t.body.nodes[o]),n},new Xm);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=function(n){return q0(function(o){var s,u;return W0(s=jt(u=o.edges).call(u,function(h){return n.has(h.toId)})).call(s,function(h){return h.from===o})},function(o,s){return s<o},"to",n)}(r):this.hierarchical.levels=function(n){return q0(function(o){var s,u;return W0(s=jt(u=o.edges).call(u,function(h){return n.has(h.toId)})).call(s,function(h){return h.to===o})},function(o,s){return s>o},"from",n)}(r),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var e=this;this._crawlNetwork(function(t,r){e.hierarchical.levels[r.id]>e.hierarchical.levels[t.id]&&e.hierarchical.addRelation(t.id,r.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0,n={},o=function g(y,w){if(n[y.id]===void 0){var k;e.hierarchical.setTreeIndex(y,w),n[y.id]=!0;for(var O=e._getActiveEdges(y),x=0;x<O.length;x++){var $=O[x];$.connected===!0&&(k=$.toId==y.id?$.from:$.to,y.id!=k.id&&(t(y,k,$),g(k,w)))}}};if(r===void 0)for(var s=0,u=0;u<this.body.nodeIndices.length;u++){var h=this.body.nodeIndices[u];n[h]===void 0&&(o(this.body.nodes[h],s),s+=1)}else{var v=this.body.nodes[r];if(v===void 0)return void console.error("Node not found:",r);o(v)}}},{key:"_shiftBlock",value:function(e,t){var r=this,n={};(function o(s){if(!n[s]){n[s]=!0,r.direction.shift(s,t);var u=r.hierarchical.childrenReference[s];if(u!==void 0)for(var h=0;h<u.length;h++)o(u[h])}})(e)}},{key:"_findCommonParent",value:function(e,t){var r=this,n={};return function o(s,u){var h=r.hierarchical.parentReference[u];if(h!==void 0)for(var v=0;v<h.length;v++){var g=h[v];s[g]=!0,o(s,g)}}(n,e),function o(s,u){var h=r.hierarchical.parentReference[u];if(h!==void 0)for(var v=0;v<h.length;v++){var g=h[v];if(s[g]!==void 0)return{foundParent:g,withChild:u};var y=o(s,g);if(y.foundParent!==null)return y}return{foundParent:null,withChild:u}}(n,t)}},{key:"setDirectionStrategy",value:function(){var e=this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU";this.direction=e?new L0(this):new yI(this)}},{key:"_getCenterPosition",value:function(e){for(var t=1e9,r=-1e9,n=0;n<e.length;n++){var o=void 0;if(e[n].id!==void 0)o=e[n];else{var s=e[n];o=this.body.nodes[s]}var u=this.direction.getPosition(o);t=Math.min(t,u),r=Math.max(r,u)}return .5*(t+r)}}]),i}();function G0(i,e){var t=pi!==void 0&&hi(i)||i["@@iterator"];if(!t){if(ke(i)||(t=function(h,v){var g;if(h){if(typeof h=="string")return zo(h,v);var y=ct(g=Object.prototype.toString.call(h)).call(g,8,-1);if(y==="Object"&&h.constructor&&(y=h.constructor.name),y==="Map"||y==="Set")return si(h);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return zo(h,v)}}(i))||e&&i&&typeof i.length=="number"){t&&(i=t);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(h){throw h},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,u=!1;return{s:function(){t=t.call(i)},n:function(){var h=t.next();return s=h.done,h},e:function(h){u=!0,o=h},f:function(){try{s||t.return==null||t.return()}finally{if(u)throw o}}}}function zo(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}var xn=function(){function i(e,t,r,n){var o,s,u=this;L(this,i),this.body=e,this.canvas=t,this.selectionHandler=r,this.interactionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},$e(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){u._clean()}),this.body.emitter.on("_dataChanged",B(o=this._restore).call(o,this)),this.body.emitter.on("_resetData",B(s=this._restore).call(s,this))}return H(i,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,t,r){t!==void 0&&(t.locale!==void 0?this.options.locale=t.locale:this.options.locale=r.locale,t.locales!==void 0?this.options.locales=t.locales:this.options.locales=r.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,De(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,t;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var r=this.selectionHandler.getSelectedNodeCount(),n=this.selectionHandler.getSelectedEdgeCount(),o=r+n,s=this.options.locales[this.options.locale],u=!1;this.options.addNode!==!1&&(this._createAddNodeButton(s),u=!0),this.options.addEdge!==!1&&(u===!0?this._createSeperator(1):u=!0,this._createAddEdgeButton(s)),r===1&&typeof this.options.editNode=="function"?(u===!0?this._createSeperator(2):u=!0,this._createEditNodeButton(s)):n===1&&r===0&&this.options.editEdge!==!1&&(u===!0?this._createSeperator(3):u=!0,this._createEditEdgeButton(s)),o!==0&&(r>0&&this.options.deleteNode!==!1||r===0&&this.options.deleteEdge!==!1)&&(u===!0&&this._createSeperator(4),this._createDeleteButton(s)),this._bindElementEvents(this.closeDiv,B(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",B(t=this.showManipulatorToolbar).call(t,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var t,r=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(r),this._createSeperator(),this._createDescription(r.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,B(t=this.toggleEditMode).call(t,this))}this._temporaryBindEvent("click",B(e=this._performAddNode).call(e,this))}},{key:"editNode",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var t=this.selectionHandler.getSelectedNodes()[0];if(t!==void 0){if(this.inMode="editNode",typeof this.options.editNode!="function")throw new Error("No function has been configured to handle the editing of nodes.");if(t.isCluster!==!0){var r=De({},t.options,!1);if(r.x=t.x,r.y=t.y,this.options.editNode.length!==2)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(r,function(n){n!=null&&e.inMode==="editNode"&&e.body.data.nodes.getDataSet().update(n),e.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var e,t,r,n,o;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var s,u=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(u),this._createSeperator(),this._createDescription(u.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,B(s=this.toggleEditMode).call(s,this))}this._temporaryBindUI("onTouch",B(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",B(t=this._finishConnect).call(t,this)),this._temporaryBindUI("onDrag",B(r=this._dragControlNode).call(r,this)),this._temporaryBindUI("onRelease",B(n=this._finishConnect).call(n,this)),this._temporaryBindUI("onDragStart",B(o=this._dragStartEdge).call(o,this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",xe(this.options.editEdge)!=="object"||typeof this.options.editEdge.editWithoutDrag!="function"||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId===void 0)){if(this.guiEnabled===!0){var e,t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,B(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,n,o,s,u=this.body.edges[this.edgeBeingEditedId],h=this._getNewTargetNode(u.from.x,u.from.y),v=this._getNewTargetNode(u.to.x,u.to.y);this.temporaryIds.nodes.push(h.id),this.temporaryIds.nodes.push(v.id),this.body.nodes[h.id]=h,this.body.nodeIndices.push(h.id),this.body.nodes[v.id]=v,this.body.nodeIndices.push(v.id),this._temporaryBindUI("onTouch",B(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",B(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",B(o=this._controlNodeDrag).call(o,this)),this._temporaryBindUI("onDragEnd",B(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(y){var w=u.edgeType.findBorderPositions(y);h.selected===!1&&(h.x=w.from.x,h.y=w.from.y),v.selected===!1&&(v.x=w.to.x,v.y=w.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var g=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(g.from.id,g.to.id)}}},{key:"deleteSelected",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var t=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds(),n=void 0;if(t.length>0){for(var o=0;o<t.length;o++)if(this.body.nodes[t[o]].isCluster===!0)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);typeof this.options.deleteNode=="function"&&(n=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(n=this.options.deleteEdge);if(typeof n=="function"){var s={nodes:t,edges:r};if(n.length!==2)throw new Error("The function for delete does not support two arguments (data, callback)");n(s,function(u){u!=null&&e.inMode==="delete"?(e.body.data.edges.getDataSet().remove(u.edges),e.body.data.nodes.getDataSet().remove(u.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()):(e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){var e,t;this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(t=this.options.locales[this.options.locale])===null||t===void 0?void 0:t.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(e,t){var r=De({},this.options.controlNodeStyle);r.id="targetNode"+ss(),r.hidden=!1,r.physics=!1,r.x=e,r.y=t;var n=this.body.functions.createNode(r);return n.shape.boundingBox={left:e,right:e,top:t,bottom:t},n}},{key:"_createEditButton",value:function(){var e;this._clean(),this.manipulationDOM={},bi(this.editModeDiv);var t=this.options.locales[this.options.locale],r=this._createButton("editMode","vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(r),this._bindElementEvents(r,B(e=this.toggleEditMode).call(e,this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(bi(this.editModeDiv),bi(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var e,t,r=G0(Vr(e=this._domEventListenerCleanupQueue).call(e,0));try{for(r.s();!(t=r.n()).done;)(0,t.value)()}catch(n){r.e(n)}finally{r.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),bi(this.manipulationDiv),bi(this.editModeDiv),bi(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var t,r=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,B(t=this.addNodeMode).call(t,this))}},{key:"_createAddEdgeButton",value:function(e){var t,r=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,B(t=this.addEdgeMode).call(t,this))}},{key:"_createEditNodeButton",value:function(e){var t,r=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,B(t=this.editNode).call(t,this))}},{key:"_createEditEdgeButton",value:function(e){var t,r=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,B(t=this.editEdgeMode).call(t,this))}},{key:"_createDeleteButton",value:function(e){var t,r;r=this.options.rtl?"vis-delete-rtl":"vis-delete";var n=this._createButton("delete",r,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,B(t=this.deleteSelected).call(t,this))}},{key:"_createBackButton",value:function(e){var t,r=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,B(t=this.showManipulatorToolbar).call(t,this))}},{key:"_createButton",value:function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=n,this.manipulationDOM[e+"Label"].innerText=r,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}},{key:"_temporaryBindUI",value:function(e,t){if(this.body.eventListeners[e]===void 0)throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Na(qe(this.body.eventListeners)));this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++){var t=this.temporaryEventFunctions[e].event,r=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(t,r)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(e,t){var r=new ko(e,{});Tu(r,t),this._domEventListenerCleanupQueue.push(function(){r.destroy()});var n=function(o){var s=o.keyCode,u=o.key;u!=="Enter"&&u!==" "&&s!==13&&s!==32||t()};e.addEventListener("keyup",n,!1),this._domEventListenerCleanupQueue.push(function(){e.removeEventListener("keyup",n,!1)})}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){var t;this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var r,n=_e(t=this.body.edgeIndices).call(t,this.temporaryIds.edges[e]);n!==-1&&Vr(r=this.body.edgeIndices).call(r,n,1)}for(var o=0;o<this.temporaryIds.nodes.length;o++){var s;delete this.body.nodes[this.temporaryIds.nodes[o]];var u,h=_e(s=this.body.nodeIndices).call(s,this.temporaryIds.nodes[o]);h!==-1&&Vr(u=this.body.nodeIndices).call(u,h,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=$e({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var e=this.lastTouch,t=this.selectionHandler._pointerToPositionObject(e),r=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],o=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var s=r.isOverlappingWith(t),u=n.isOverlappingWith(t);s===!0?(this.selectedControlNode=r,o.edgeType.from=r):u===!0&&(this.selectedControlNode=n,o.edgeType.to=n),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var t=this.body.functions.getPointer(e.center),r=this.canvas.DOMtoCanvas(t);this.selectedControlNode!==void 0?(this.selectedControlNode.x=r.x,this.selectedControlNode.y=r.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){var t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t),n=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode!==void 0){this.selectionHandler.unselectAll();for(var o=this.selectionHandler._getAllNodesOverlappingWith(r),s=void 0,u=o.length-1;u>=0;u--)if(o[u]!==this.selectedControlNode.id){s=this.body.nodes[o[u]];break}if(s!==void 0&&this.selectedControlNode!==void 0)if(s.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var h=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===h.id?this._performEditEdge(s.id,n.to.id):this._performEditEdge(n.from.id,s.id)}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=$e({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var t=this.lastTouch,r=this.selectionHandler.getNodeAt(t);if(r!==void 0)if(r.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var n=this._getNewTargetNode(r.x,r.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);var o=this.body.functions.createEdge({id:"connectionEdge"+ss(),from:r.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[o.id]=o,this.body.edgeIndices.push(o.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(o.id)}this.touchTime=new Date().valueOf()}}},{key:"_dragControlNode",value:function(e){var t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t),n=void 0;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(r),s=void 0,u=o.length-1;u>=0;u--){var h;if(_e(h=this.temporaryIds.nodes).call(h,o[u])===-1){s=this.body.nodes[o[u]];break}}if(e.controlEdge={from:n,to:s?s.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,t),this.temporaryIds.nodes[0]!==void 0){var v=this.body.nodes[this.temporaryIds.nodes[0]];v.x=this.canvas._XconvertDOMtoCanvas(t.x),v.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}},{key:"_finishConnect",value:function(e){var t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t),n=void 0;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(r),s=void 0,u=o.length-1;u>=0;u--){var h;if(_e(h=this.temporaryIds.nodes).call(h,o[u])===-1){s=this.body.nodes[o[u]];break}}this._cleanupTemporaryNodesAndEdges(),s!==void 0&&(s.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[n]!==void 0&&this.body.nodes[s.id]!==void 0&&this._performAddEdge(n,s.id)),e.controlEdge={from:n,to:s?s.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,t),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(e){var t=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,t,void 0,!0)}},{key:"_performAddNode",value:function(e){var t=this,r={id:ss(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function"){if(this.options.addNode.length!==2)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(r,function(n){n!=null&&t.inMode==="addNode"&&t.body.data.nodes.getDataSet().add(n),t.showManipulatorToolbar()})}else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(e,t){var r=this,n={from:e,to:t};if(typeof this.options.addEdge=="function"){if(this.options.addEdge.length!==2)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(n,function(o){o!=null&&r.inMode==="addEdge"&&(r.body.data.edges.getDataSet().add(o),r.selectionHandler.unselectAll(),r.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(e,t){var r=this,n={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges.get(this.edgeBeingEditedId).label},o=this.options.editEdge;if(xe(o)==="object"&&(o=o.editWithoutDrag),typeof o=="function"){if(o.length!==2)throw new Error("The function for edit does not support two arguments (data, callback)");o(n,function(s){s==null||r.inMode!=="editEdge"?(r.body.edges[n.id].updateEdgeType(),r.body.emitter.emit("_redraw"),r.showManipulatorToolbar()):(r.body.data.edges.getDataSet().update(s),r.selectionHandler.unselectAll(),r.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),i}(),j="string",R="boolean",C="number",Tn="array",X="object",ju=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],zu={borderWidth:{number:C},borderWidthSelected:{number:C,undefined:"undefined"},brokenImage:{string:j,undefined:"undefined"},chosen:{label:{boolean:R,function:"function"},node:{boolean:R,function:"function"},__type__:{object:X,boolean:R}},color:{border:{string:j},background:{string:j},highlight:{border:{string:j},background:{string:j},__type__:{object:X,string:j}},hover:{border:{string:j},background:{string:j},__type__:{object:X,string:j}},__type__:{object:X,string:j}},opacity:{number:C,undefined:"undefined"},fixed:{x:{boolean:R},y:{boolean:R},__type__:{object:X,boolean:R}},font:{align:{string:j},color:{string:j},size:{number:C},face:{string:j},background:{string:j},strokeWidth:{number:C},strokeColor:{string:j},vadjust:{number:C},multi:{boolean:R,string:j},bold:{color:{string:j},size:{number:C},face:{string:j},mod:{string:j},vadjust:{number:C},__type__:{object:X,string:j}},boldital:{color:{string:j},size:{number:C},face:{string:j},mod:{string:j},vadjust:{number:C},__type__:{object:X,string:j}},ital:{color:{string:j},size:{number:C},face:{string:j},mod:{string:j},vadjust:{number:C},__type__:{object:X,string:j}},mono:{color:{string:j},size:{number:C},face:{string:j},mod:{string:j},vadjust:{number:C},__type__:{object:X,string:j}},__type__:{object:X,string:j}},group:{string:j,number:C,undefined:"undefined"},heightConstraint:{minimum:{number:C},valign:{string:j},__type__:{object:X,boolean:R,number:C}},hidden:{boolean:R},icon:{face:{string:j},code:{string:j},size:{number:C},color:{string:j},weight:{string:j,number:C},__type__:{object:X}},id:{string:j,number:C},image:{selected:{string:j,undefined:"undefined"},unselected:{string:j,undefined:"undefined"},__type__:{object:X,string:j}},imagePadding:{top:{number:C},right:{number:C},bottom:{number:C},left:{number:C},__type__:{object:X,number:C}},label:{string:j,undefined:"undefined"},labelHighlightBold:{boolean:R},level:{number:C,undefined:"undefined"},margin:{top:{number:C},right:{number:C},bottom:{number:C},left:{number:C},__type__:{object:X,number:C}},mass:{number:C},physics:{boolean:R},scaling:{min:{number:C},max:{number:C},label:{enabled:{boolean:R},min:{number:C},max:{number:C},maxVisible:{number:C},drawThreshold:{number:C},__type__:{object:X,boolean:R}},customScalingFunction:{function:"function"},__type__:{object:X}},shadow:{enabled:{boolean:R},color:{string:j},size:{number:C},x:{number:C},y:{number:C},__type__:{object:X,boolean:R}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:R,array:Tn},borderRadius:{number:C},interpolation:{boolean:R},useImageSize:{boolean:R},useBorderWithImage:{boolean:R},coordinateOrigin:{string:["center","top-left"]},__type__:{object:X}},size:{number:C},title:{string:j,dom:"dom",undefined:"undefined"},value:{number:C,undefined:"undefined"},widthConstraint:{minimum:{number:C},maximum:{number:C},__type__:{object:X,boolean:R,number:C}},x:{number:C},y:{number:C},__type__:{object:X}},Lf={configure:{enabled:{boolean:R},filter:{boolean:R,string:j,array:Tn,function:"function"},container:{dom:"dom"},showButton:{boolean:R},__type__:{object:X,boolean:R,string:j,array:Tn,function:"function"}},edges:{arrows:{to:{enabled:{boolean:R},scaleFactor:{number:C},type:{string:ju},imageHeight:{number:C},imageWidth:{number:C},src:{string:j},__type__:{object:X,boolean:R}},middle:{enabled:{boolean:R},scaleFactor:{number:C},type:{string:ju},imageWidth:{number:C},imageHeight:{number:C},src:{string:j},__type__:{object:X,boolean:R}},from:{enabled:{boolean:R},scaleFactor:{number:C},type:{string:ju},imageWidth:{number:C},imageHeight:{number:C},src:{string:j},__type__:{object:X,boolean:R}},__type__:{string:["from","to","middle"],object:X}},endPointOffset:{from:{number:C},to:{number:C},__type__:{object:X,number:C}},arrowStrikethrough:{boolean:R},background:{enabled:{boolean:R},color:{string:j},size:{number:C},dashes:{boolean:R,array:Tn},__type__:{object:X,boolean:R}},chosen:{label:{boolean:R,function:"function"},edge:{boolean:R,function:"function"},__type__:{object:X,boolean:R}},color:{color:{string:j},highlight:{string:j},hover:{string:j},inherit:{string:["from","to","both"],boolean:R},opacity:{number:C},__type__:{object:X,string:j}},dashes:{boolean:R,array:Tn},font:{color:{string:j},size:{number:C},face:{string:j},background:{string:j},strokeWidth:{number:C},strokeColor:{string:j},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:C},multi:{boolean:R,string:j},bold:{color:{string:j},size:{number:C},face:{string:j},mod:{string:j},vadjust:{number:C},__type__:{object:X,string:j}},boldital:{color:{string:j},size:{number:C},face:{string:j},mod:{string:j},vadjust:{number:C},__type__:{object:X,string:j}},ital:{color:{string:j},size:{number:C},face:{string:j},mod:{string:j},vadjust:{number:C},__type__:{object:X,string:j}},mono:{color:{string:j},size:{number:C},face:{string:j},mod:{string:j},vadjust:{number:C},__type__:{object:X,string:j}},__type__:{object:X,string:j}},hidden:{boolean:R},hoverWidth:{function:"function",number:C},label:{string:j,undefined:"undefined"},labelHighlightBold:{boolean:R},length:{number:C,undefined:"undefined"},physics:{boolean:R},scaling:{min:{number:C},max:{number:C},label:{enabled:{boolean:R},min:{number:C},max:{number:C},maxVisible:{number:C},drawThreshold:{number:C},__type__:{object:X,boolean:R}},customScalingFunction:{function:"function"},__type__:{object:X}},selectionWidth:{function:"function",number:C},selfReferenceSize:{number:C},selfReference:{size:{number:C},angle:{number:C},renderBehindTheNode:{boolean:R},__type__:{object:X}},shadow:{enabled:{boolean:R},color:{string:j},size:{number:C},x:{number:C},y:{number:C},__type__:{object:X,boolean:R}},smooth:{enabled:{boolean:R},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:C},forceDirection:{string:["horizontal","vertical","none"],boolean:R},__type__:{object:X,boolean:R}},title:{string:j,undefined:"undefined"},width:{number:C},widthConstraint:{maximum:{number:C},__type__:{object:X,boolean:R,number:C}},value:{number:C,undefined:"undefined"},__type__:{object:X}},groups:{useDefaultGroups:{boolean:R},__any__:zu,__type__:{object:X}},interaction:{dragNodes:{boolean:R},dragView:{boolean:R},hideEdgesOnDrag:{boolean:R},hideEdgesOnZoom:{boolean:R},hideNodesOnDrag:{boolean:R},hover:{boolean:R},keyboard:{enabled:{boolean:R},speed:{x:{number:C},y:{number:C},zoom:{number:C},__type__:{object:X}},bindToWindow:{boolean:R},autoFocus:{boolean:R},__type__:{object:X,boolean:R}},multiselect:{boolean:R},navigationButtons:{boolean:R},selectable:{boolean:R},selectConnectedEdges:{boolean:R},hoverConnectedEdges:{boolean:R},tooltipDelay:{number:C},zoomView:{boolean:R},zoomSpeed:{number:C},__type__:{object:X}},layout:{randomSeed:{undefined:"undefined",number:C,string:j},improvedLayout:{boolean:R},clusterThreshold:{number:C},hierarchical:{enabled:{boolean:R},levelSeparation:{number:C},nodeSpacing:{number:C},treeSpacing:{number:C},blockShifting:{boolean:R},edgeMinimization:{boolean:R},parentCentralization:{boolean:R},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:X,boolean:R}},__type__:{object:X}},manipulation:{enabled:{boolean:R},initiallyActive:{boolean:R},addNode:{boolean:R,function:"function"},addEdge:{boolean:R,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:X,boolean:R,function:"function"}},deleteNode:{boolean:R,function:"function"},deleteEdge:{boolean:R,function:"function"},controlNodeStyle:zu,__type__:{object:X,boolean:R}},nodes:zu,physics:{enabled:{boolean:R},barnesHut:{theta:{number:C},gravitationalConstant:{number:C},centralGravity:{number:C},springLength:{number:C},springConstant:{number:C},damping:{number:C},avoidOverlap:{number:C},__type__:{object:X}},forceAtlas2Based:{theta:{number:C},gravitationalConstant:{number:C},centralGravity:{number:C},springLength:{number:C},springConstant:{number:C},damping:{number:C},avoidOverlap:{number:C},__type__:{object:X}},repulsion:{centralGravity:{number:C},springLength:{number:C},springConstant:{number:C},nodeDistance:{number:C},damping:{number:C},__type__:{object:X}},hierarchicalRepulsion:{centralGravity:{number:C},springLength:{number:C},springConstant:{number:C},nodeDistance:{number:C},damping:{number:C},avoidOverlap:{number:C},__type__:{object:X}},maxVelocity:{number:C},minVelocity:{number:C},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:R},iterations:{number:C},updateInterval:{number:C},onlyDynamicEdges:{boolean:R},fit:{boolean:R},__type__:{object:X,boolean:R}},timestep:{number:C},adaptiveTimestep:{boolean:R},wind:{x:{number:C},y:{number:C},__type__:{object:X}},__type__:{object:X,boolean:R}},autoResize:{boolean:R},clickToUse:{boolean:R},locale:{string:j},locales:{__any__:{any:"any"},__type__:{object:X}},height:{string:j},width:{string:j},__type__:{object:X}},Lu={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},K0=function(i,e,t){var r;return!(!gi(i).call(i,"physics")||!gi(r=Lu.physics.solver).call(r,e)||t.physics.solver===e||e==="wind")},_I=Object.freeze({__proto__:null,allOptions:Lf,configuratorHideOption:K0,configureOptions:Lu}),EI=function(){function i(){L(this,i)}return H(i,[{key:"getDistances",value:function(e,t,r){for(var n={},o=e.edges,s=0;s<t.length;s++){var u={};n[t[s]]=u;for(var h=0;h<t.length;h++)u[t[h]]=s==h?0:1e9}for(var v=0;v<r.length;v++){var g=o[r[v]];g.connected===!0&&n[g.fromId]!==void 0&&n[g.toId]!==void 0&&(n[g.fromId][g.toId]=1,n[g.toId][g.fromId]=1)}for(var y=t.length,w=0;w<y;w++)for(var k=t[w],O=n[k],x=0;x<y-1;x++)for(var $=t[x],D=n[$],N=x+1;N<y;N++){var z=t[N],U=n[z],Z=Math.min(D[z],D[k]+O[z]);D[z]=Z,U[$]=Z}return n}}]),i}(),kI=function(){function i(e,t,r){L(this,i),this.body=e,this.springLength=t,this.springConstant=r,this.distanceSolver=new EI}return H(i,[{key:"setOptions",value:function(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}},{key:"solve",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();for(var o=0,s=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),u=1e9,h=0,v=0,g=0,y=0,w=0;u>.01&&o<s;){o+=1;var k=Ve(this._getHighestEnergyNode(r),4);for(h=k[0],u=k[1],v=k[2],g=k[3],y=u,w=0;y>1&&w<5;){w+=1,this._moveNode(h,v,g);var O=Ve(this._getEnergy(h),3);y=O[0],v=O[1],g=O[2]}}}},{key:"_getHighestEnergyNode",value:function(e){for(var t=this.body.nodeIndices,r=this.body.nodes,n=0,o=t[0],s=0,u=0,h=0;h<t.length;h++){var v=t[h];if(r[v].predefinedPosition!==!0||r[v].isCluster===!0&&e===!0||r[v].options.fixed.x!==!0||r[v].options.fixed.y!==!0){var g=Ve(this._getEnergy(v),3),y=g[0],w=g[1],k=g[2];n<y&&(n=y,o=v,s=w,u=k)}}return[o,n,s,u]}},{key:"_getEnergy",value:function(e){var t=Ve(this.E_sums[e],2),r=t[0],n=t[1];return[Math.sqrt(Math.pow(r,2)+Math.pow(n,2)),r,n]}},{key:"_moveNode",value:function(e,t,r){for(var n=this.body.nodeIndices,o=this.body.nodes,s=0,u=0,h=0,v=o[e].x,g=o[e].y,y=this.K_matrix[e],w=this.L_matrix[e],k=0;k<n.length;k++){var O=n[k];if(O!==e){var x=o[O].x,$=o[O].y,D=y[O],N=w[O],z=1/Math.pow(Math.pow(v-x,2)+Math.pow(g-$,2),1.5);s+=D*(1-N*Math.pow(g-$,2)*z),u+=D*(N*(v-x)*(g-$)*z),h+=D*(1-N*Math.pow(v-x,2)*z)}}var U=(t/s+r/u)/(u/s-h/u),Z=-(u*U+t)/s;o[e].x+=Z,o[e].y+=U,this._updateE_matrix(e)}},{key:"_createL_matrix",value:function(e){var t=this.body.nodeIndices,r=this.springLength;this.L_matrix=[];for(var n=0;n<t.length;n++){this.L_matrix[t[n]]={};for(var o=0;o<t.length;o++)this.L_matrix[t[n]][t[o]]=r*e[t[n]][t[o]]}}},{key:"_createK_matrix",value:function(e){var t=this.body.nodeIndices,r=this.springConstant;this.K_matrix=[];for(var n=0;n<t.length;n++){this.K_matrix[t[n]]={};for(var o=0;o<t.length;o++)this.K_matrix[t[n]][t[o]]=r*Math.pow(e[t[n]][t[o]],-2)}}},{key:"_createE_matrix",value:function(){var e=this.body.nodeIndices,t=this.body.nodes;this.E_matrix={},this.E_sums={};for(var r=0;r<e.length;r++)this.E_matrix[e[r]]=[];for(var n=0;n<e.length;n++){for(var o=e[n],s=t[o].x,u=t[o].y,h=0,v=0,g=n;g<e.length;g++){var y=e[g];if(y!==o){var w=t[y].x,k=t[y].y,O=1/Math.sqrt(Math.pow(s-w,2)+Math.pow(u-k,2));this.E_matrix[o][g]=[this.K_matrix[o][y]*(s-w-this.L_matrix[o][y]*(s-w)*O),this.K_matrix[o][y]*(u-k-this.L_matrix[o][y]*(u-k)*O)],this.E_matrix[y][n]=this.E_matrix[o][g],h+=this.E_matrix[o][g][0],v+=this.E_matrix[o][g][1]}}this.E_sums[o]=[h,v]}}},{key:"_updateE_matrix",value:function(e){for(var t=this.body.nodeIndices,r=this.body.nodes,n=this.E_matrix[e],o=this.K_matrix[e],s=this.L_matrix[e],u=r[e].x,h=r[e].y,v=0,g=0,y=0;y<t.length;y++){var w=t[y];if(w!==e){var k=n[y],O=k[0],x=k[1],$=r[w].x,D=r[w].y,N=1/Math.sqrt(Math.pow(u-$,2)+Math.pow(h-D,2)),z=o[w]*(u-$-s[w]*(u-$)*N),U=o[w]*(h-D-s[w]*(h-D)*N);n[y]=[z,U],v+=z,g+=U;var Z=this.E_sums[w];Z[0]+=z-O,Z[1]+=U-x}}this.E_sums[e]=[v,g]}}]),i}();function G(i,e,t){var r,n,o,s,u=this;if(!(this instanceof G))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:RS,clickToUse:!1},$e(this.options,this.defaultOptions),this.body={container:i,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:B(r=this.on).call(r,this),off:B(n=this.off).call(n,this),emit:B(o=this.emit).call(o,this),once:B(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Pm(function(){return u.body.emitter.emit("_requestRedraw")}),this.groups=new xx,this.canvas=new DT(this.body),this.selectionHandler=new XT(this.body,this.canvas),this.interactionHandler=new AT(this.body,this.canvas,this.selectionHandler),this.view=new MT(this.body,this.canvas),this.renderer=new PT(this.body,this.canvas),this.physics=new xT(this.body),this.layoutEngine=new gs(this.body),this.clustering=new Zb(this.body),this.manipulation=new xn(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new ku(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new bT(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new kI(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(t),this.setData(e)}wr(G.prototype),G.prototype.setOptions=function(i){var e=this;if(i===null&&(i=void 0),i!==void 0){if(CS.validate(i,Lf)===!0&&console.error("%cErrors have been found in the supplied options object.",tu),Eo(["locale","locales","clickToUse"],this.options,i),i.locale!==void 0&&(i.locale=function(r,n){try{var o=Ve(n.split(/[-_ /]/,2),2),s=o[0],u=o[1],h=s!=null?s.toLowerCase():null,v=u!=null?u.toUpperCase():null;if(h&&v){var g,y=h+"-"+v;if(Object.prototype.hasOwnProperty.call(r,y))return y;console.warn(Al(g="Unknown variant ".concat(v," of language ")).call(g,h,"."))}if(h){var w=h;if(Object.prototype.hasOwnProperty.call(r,w))return w;console.warn("Unknown language ".concat(h))}return console.warn("Unknown locale ".concat(n,", falling back to English.")),"en"}catch(k){return console.error(k),console.warn("Unexpected error while normalizing locale ".concat(n,", falling back to English.")),"en"}}(i.locales||this.options.locales,i.locale)),i=this.layoutEngine.setOptions(i.layout,i),this.canvas.setOptions(i),this.groups.setOptions(i.groups),this.nodesHandler.setOptions(i.nodes),this.edgesHandler.setOptions(i.edges),this.physics.setOptions(i.physics),this.manipulation.setOptions(i.manipulation,i,this.options),this.interactionHandler.setOptions(i.interaction),this.renderer.setOptions(i.interaction),this.selectionHandler.setOptions(i.interaction),i.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in i&&(this.configurator||(this.configurator=new $S(this,this.body.container,Lu,this.canvas.pixelRatio,K0)),this.configurator.setOptions(i.configure)),this.configurator&&this.configurator.options.enabled===!0){var t={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};De(t.nodes,this.nodesHandler.options),De(t.edges,this.edgesHandler.options),De(t.layout,this.layoutEngine.options),De(t.interaction,this.selectionHandler.options),De(t.interaction,this.renderer.options),De(t.interaction,this.interactionHandler.options),De(t.manipulation,this.manipulation.options),De(t.physics,this.physics.options),De(t.global,this.canvas.options),De(t.global,this.options),this.configurator.setModuleOptions(t)}i.clickToUse!==void 0?i.clickToUse===!0?this.activator===void 0&&(this.activator=new IS(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},G.prototype._updateVisibleIndices=function(){var i=this.body.nodes,e=this.body.edges;for(var t in this.body.nodeIndices=[],this.body.edgeIndices=[],i)Object.prototype.hasOwnProperty.call(i,t)&&(this.clustering._isClusteredNode(t)||i[t].options.hidden!==!1||this.body.nodeIndices.push(i[t].id));for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=e[r],o=i[n.fromId],s=i[n.toId],u=o!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(r)&&n.options.hidden===!1&&u&&o.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(n.id)}},G.prototype.bindEventListeners=function(){var i=this;this.body.emitter.on("_dataChanged",function(){i.edgesHandler._updateState(),i.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){i.clustering._updateState(),i._updateVisibleIndices(),i._updateValueRange(i.body.nodes),i._updateValueRange(i.body.edges),i.body.emitter.emit("startSimulation"),i.body.emitter.emit("_requestRedraw")})},G.prototype.setData=function(i){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),i&&i.dot&&(i.nodes||i.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(i&&i.options),i&&i.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=Ld(i.dot);this.setData(e)}else if(i&&i.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var t=Qa(i.gephi);this.setData(t)}else this.nodesHandler.setData(i&&i.nodes,!0),this.edgesHandler.setData(i&&i.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},G.prototype.destroy=function(){for(var i in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,i)&&delete this.body.nodes[i];for(var e in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,e)&&delete this.body.edges[e];bi(this.body.container)},G.prototype._updateValueRange=function(i){var e,t=void 0,r=void 0,n=0;for(e in i)if(Object.prototype.hasOwnProperty.call(i,e)){var o=i[e].getValue();o!==void 0&&(t=t===void 0?o:Math.min(o,t),r=r===void 0?o:Math.max(o,r),n+=o)}if(t!==void 0&&r!==void 0)for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&i[e].setValueRange(t,r,n)},G.prototype.isActive=function(){return!this.activator||this.activator.active},G.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},G.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},G.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},G.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},G.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},G.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},G.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},G.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},G.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},G.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},G.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},G.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},G.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},G.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},G.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},G.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},G.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},G.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},G.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},G.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},G.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},G.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},G.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},G.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},G.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},G.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},G.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},G.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},G.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},G.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},G.prototype.getConnectedNodes=function(i){return this.body.nodes[i]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},G.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},G.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},G.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},G.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},G.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},G.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},G.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},G.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},G.prototype.getNodeAt=function(){var i=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return i!==void 0&&i.id!==void 0?i.id:i},G.prototype.getEdgeAt=function(){var i=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return i!==void 0&&i.id!==void 0?i.id:i},G.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},G.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},G.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},G.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},G.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},G.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},G.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},G.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},G.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},G.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},G.prototype.getOptionsFromConfigurator=function(){var i={};return this.configurator&&(i=this.configurator.getOptions.apply(this.configurator)),i};var Y0=Ld;fe.Network=G,fe.NetworkImages=Pm,fe.networkDOTParser=AS,fe.networkGephiParser=NS,fe.networkOptions=_I,fe.parseDOTNetwork=Y0,fe.parseGephiNetwork=Qa})});var gP=TN(pP());function PN(fe,ge){let{nodes:Wt,edges:A,type:Ut}=ge,Ie=fe.root,J={nodes:Wt,edges:A},ye={autoResize:!0,height:"400px",edges:{arrows:{to:{enabled:Ut==="directed"}}}};new gP.default.Network(Ie,J,ye)}export{PN as init};
/*! Bundled license information:

vis-data/peer/umd/vis-data.js:
  (**
   * vis-data
   * http://visjs.org/
   *
   * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
   *
   * @version 7.1.9
   * @date    2023-11-24T17:53:34.179Z
   *
   * @copyright (c) 2011-2017 Almende B.V, http://almende.com
   * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
   *
   * @license
   * vis.js is dual licensed under both
   *
   *   1. The Apache 2.0 License
   *      http://www.apache.org/licenses/LICENSE-2.0
   *
   *   and
   *
   *   2. The MIT License
   *      http://opensource.org/licenses/MIT
   *
   * vis.js may be distributed under either license.
   *)
  (*! Hammer.JS - v2.0.17-rc - 2019-12-16
   * http://naver.github.io/egjs
   *
   * Forked By Naver egjs
   * Copyright (c) hammerjs
   * Licensed under the MIT license *)

vis-network/peer/umd/vis-network.min.js:
  (**
   * vis-network
   * https://visjs.github.io/vis-network/
   *
   * A dynamic, browser-based visualization library.
   *
   * @version 9.1.9
   * @date    2023-11-03T01:42:27.418Z
   *
   * @copyright (c) 2011-2017 Almende B.V, http://almende.com
   * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
   *
   * @license
   * vis.js is dual licensed under both
   *
   *   1. The Apache 2.0 License
   *      http://www.apache.org/licenses/LICENSE-2.0
   *
   *   and
   *
   *   2. The MIT License
   *      http://opensource.org/licenses/MIT
   *
   * vis.js may be distributed under either license.
   *)
  (*! Hammer.JS - v2.0.17-rc - 2019-12-16
  	 * http://naver.github.io/egjs
  	 *
  	 * Forked By Naver egjs
  	 * Copyright (c) hammerjs
  	 * Licensed under the MIT license *)
*/
